(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var _f={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function XE(){if(ty)return Ul;ty=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:a,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var ey;function KE(){return ey||(ey=1,_f.exports=XE()),_f.exports}var K=KE(),vf={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function ZE(){if(ny)return yt;ny=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.iterator;function X(x){return x===null||typeof x!="object"?null:(x=U&&x[U]||x["@@iterator"],typeof x=="function"?x:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,Z={};function pt(x,Q,nt){this.props=x,this.context=Q,this.refs=Z,this.updater=nt||$}pt.prototype.isReactComponent={},pt.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},pt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Rt(){}Rt.prototype=pt.prototype;function ft(x,Q,nt){this.props=x,this.context=Q,this.refs=Z,this.updater=nt||$}var Et=ft.prototype=new Rt;Et.constructor=ft,it(Et,pt.prototype),Et.isPureReactComponent=!0;var rt=Array.isArray;function tt(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(x,Q,nt){var st=nt.ref;return{$$typeof:a,type:x,key:Q,ref:st!==void 0?st:null,props:nt}}function V(x,Q){return C(x.type,Q,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function M(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Q[nt]})}var b=/\/+/g;function Zt(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):Q.toString(36)}function ie(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(tt,tt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,Q,nt,st,gt){var St=typeof x;(St==="undefined"||St==="boolean")&&(x=null);var Vt=!1;if(x===null)Vt=!0;else switch(St){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(x.$$typeof){case a:case e:Vt=!0;break;case A:return Vt=x._init,H(Vt(x._payload),Q,nt,st,gt)}}if(Vt)return gt=gt(x),Vt=st===""?"."+Zt(x,0):st,rt(gt)?(nt="",Vt!=null&&(nt=Vt.replace(b,"$&/")+"/"),H(gt,Q,nt,"",function(Us){return Us})):gt!=null&&(N(gt)&&(gt=V(gt,nt+(gt.key==null||x&&x.key===gt.key?"":(""+gt.key).replace(b,"$&/")+"/")+Vt)),Q.push(gt)),1;Vt=0;var we=st===""?".":st+":";if(rt(x))for(var te=0;te<x.length;te++)st=x[te],St=we+Zt(st,te),Vt+=H(st,Q,nt,St,gt);else if(te=X(x),typeof te=="function")for(x=te.call(x),te=0;!(st=x.next()).done;)st=st.value,St=we+Zt(st,te++),Vt+=H(st,Q,nt,St,gt);else if(St==="object"){if(typeof x.then=="function")return H(ie(x),Q,nt,st,gt);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(x,Q,nt){if(x==null)return x;var st=[],gt=0;return H(x,st,"","",function(St){return Q.call(nt,St,gt++)}),st}function ht(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var zt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ht={map:et,forEach:function(x,Q,nt){et(x,function(){Q.apply(this,arguments)},nt)},count:function(x){var Q=0;return et(x,function(){Q++}),Q},toArray:function(x){return et(x,function(Q){return Q})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return yt.Activity=D,yt.Children=Ht,yt.Component=pt,yt.Fragment=i,yt.Profiler=u,yt.PureComponent=ft,yt.StrictMode=r,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,yt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},yt.cache=function(x){return function(){return x.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(x,Q,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=it({},x.props),gt=x.key;if(Q!=null)for(St in Q.key!==void 0&&(gt=""+Q.key),Q)!S.call(Q,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Q.ref===void 0||(st[St]=Q[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var Vt=Array(St),we=0;we<St;we++)Vt[we]=arguments[we+2];st.children=Vt}return C(x.type,gt,st)},yt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},yt.createElement=function(x,Q,nt){var st,gt={},St=null;if(Q!=null)for(st in Q.key!==void 0&&(St=""+Q.key),Q)S.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=Q[st]);var Vt=arguments.length-2;if(Vt===1)gt.children=nt;else if(1<Vt){for(var we=Array(Vt),te=0;te<Vt;te++)we[te]=arguments[te+2];gt.children=we}if(x&&x.defaultProps)for(st in Vt=x.defaultProps,Vt)gt[st]===void 0&&(gt[st]=Vt[st]);return C(x,St,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(x){return{$$typeof:y,render:x}},yt.isValidElement=N,yt.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:ht}},yt.memo=function(x,Q){return{$$typeof:_,type:x,compare:Q===void 0?null:Q}},yt.startTransition=function(x){var Q=R.T,nt={};R.T=nt;try{var st=x(),gt=R.S;gt!==null&&gt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(tt,zt)}catch(St){zt(St)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),R.T=Q}},yt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},yt.use=function(x){return R.H.use(x)},yt.useActionState=function(x,Q,nt){return R.H.useActionState(x,Q,nt)},yt.useCallback=function(x,Q){return R.H.useCallback(x,Q)},yt.useContext=function(x){return R.H.useContext(x)},yt.useDebugValue=function(){},yt.useDeferredValue=function(x,Q){return R.H.useDeferredValue(x,Q)},yt.useEffect=function(x,Q){return R.H.useEffect(x,Q)},yt.useEffectEvent=function(x){return R.H.useEffectEvent(x)},yt.useId=function(){return R.H.useId()},yt.useImperativeHandle=function(x,Q,nt){return R.H.useImperativeHandle(x,Q,nt)},yt.useInsertionEffect=function(x,Q){return R.H.useInsertionEffect(x,Q)},yt.useLayoutEffect=function(x,Q){return R.H.useLayoutEffect(x,Q)},yt.useMemo=function(x,Q){return R.H.useMemo(x,Q)},yt.useOptimistic=function(x,Q){return R.H.useOptimistic(x,Q)},yt.useReducer=function(x,Q,nt){return R.H.useReducer(x,Q,nt)},yt.useRef=function(x){return R.H.useRef(x)},yt.useState=function(x){return R.H.useState(x)},yt.useSyncExternalStore=function(x,Q,nt){return R.H.useSyncExternalStore(x,Q,nt)},yt.useTransition=function(){return R.H.useTransition()},yt.version="19.2.0",yt}var iy;function ld(){return iy||(iy=1,vf.exports=ZE()),vf.exports}var fe=ld(),Ef={exports:{}},zl={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function $E(){return sy||(sy=1,(function(a){function e(H,et){var ht=H.length;H.push(et);t:for(;0<ht;){var zt=ht-1>>>1,Ht=H[zt];if(0<u(Ht,et))H[zt]=et,H[ht]=Ht,ht=zt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],ht=H.pop();if(ht!==et){H[0]=ht;t:for(var zt=0,Ht=H.length,x=Ht>>>1;zt<x;){var Q=2*(zt+1)-1,nt=H[Q],st=Q+1,gt=H[st];if(0>u(nt,ht))st<Ht&&0>u(gt,nt)?(H[zt]=gt,H[st]=ht,zt=st):(H[zt]=nt,H[Q]=ht,zt=Q);else if(st<Ht&&0>u(gt,ht))H[zt]=gt,H[st]=ht,zt=st;else break t}}return et}function u(H,et){var ht=H.sortIndex-et.sortIndex;return ht!==0?ht:H.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,D=null,U=3,X=!1,$=!1,it=!1,Z=!1,pt=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Et(H){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=H)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function rt(H){if(it=!1,Et(H),!$)if(i(v)!==null)$=!0,tt||(tt=!0,M());else{var et=i(_);et!==null&&ie(rt,et.startTime-H)}}var tt=!1,R=-1,S=5,C=-1;function V(){return Z?!0:!(a.unstable_now()-C<S)}function N(){if(Z=!1,tt){var H=a.unstable_now();C=H;var et=!0;try{t:{$=!1,it&&(it=!1,Rt(R),R=-1),X=!0;var ht=U;try{e:{for(Et(H),D=i(v);D!==null&&!(D.expirationTime>H&&V());){var zt=D.callback;if(typeof zt=="function"){D.callback=null,U=D.priorityLevel;var Ht=zt(D.expirationTime<=H);if(H=a.unstable_now(),typeof Ht=="function"){D.callback=Ht,Et(H),et=!0;break e}D===i(v)&&r(v),Et(H)}else r(v);D=i(v)}if(D!==null)et=!0;else{var x=i(_);x!==null&&ie(rt,x.startTime-H),et=!1}}break t}finally{D=null,U=ht,X=!1}et=void 0}}finally{et?M():tt=!1}}}var M;if(typeof ft=="function")M=function(){ft(N)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Zt=b.port2;b.port1.onmessage=N,M=function(){Zt.postMessage(null)}}else M=function(){pt(N,0)};function ie(H,et){R=pt(function(){H(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(H){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var ht=U;U=et;try{return H()}finally{U=ht}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=U;U=H;try{return et()}finally{U=ht}},a.unstable_scheduleCallback=function(H,et,ht){var zt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,H={id:A++,callback:et,priorityLevel:H,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>zt?(H.sortIndex=ht,e(_,H),i(v)===null&&H===i(_)&&(it?(Rt(R),R=-1):it=!0,ie(rt,ht-zt))):(H.sortIndex=Ht,e(v,H),$||X||($=!0,tt||(tt=!0,M()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var et=U;return function(){var ht=U;U=et;try{return H.apply(this,arguments)}finally{U=ht}}}})(Af)),Af}var ay;function JE(){return ay||(ay=1,Tf.exports=$E()),Tf.exports}var Sf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function WE(){if(ry)return Qe;ry=1;var a=ld();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=y(A,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:U,fetchPriority:X}):A==="script"&&r.d.X(v,{crossOrigin:D,integrity:U,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var ly;function t1(){if(ly)return Sf.exports;ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sf.exports=WE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function e1(){if(uy)return zl;uy=1;var a=JE(),e=ld(),i=t1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var D=Object.assign,U=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),Rt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function Zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case it:return"Fragment";case pt:return"Profiler";case Z:return"StrictMode";case rt:return"Suspense";case tt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ft:return t.displayName||"Context";case Rt:return(t._context.displayName||"Context")+".Consumer";case Et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Zt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Zt(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],Ht=-1;function x(t){return{current:t}}function Q(t){0>Ht||(t.current=zt[Ht],zt[Ht]=null,Ht--)}function nt(t,n){Ht++,zt[Ht]=t.current,t.current=n}var st=x(null),gt=x(null),St=x(null),Vt=x(null);function we(t,n){switch(nt(St,n),nt(gt,t),nt(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sp(n),t=bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(st),nt(st,t)}function te(){Q(st),Q(gt),Q(St)}function Us(t){t.memoizedState!==null&&nt(Vt,t);var n=st.current,s=bp(n,t.type);n!==s&&(nt(gt,t),nt(st,s))}function Ta(t){gt.current===t&&(Q(st),Q(gt)),Vt.current===t&&(Q(Vt),xl._currentValue=ht)}var Aa,Sa;function Qn(t){if(Aa===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Aa=n&&n[1]||"",Sa=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+t+Sa}var xr=!1;function zs(t,n){if(!t||xr)return"";xr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var j=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){j=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){j=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var P=`
`+w[l].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=l&&0<=c);break}}}finally{xr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Qn(s):""}function Vr(t,n){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return t.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return zs(t.type,!1);case 11:return zs(t.type.render,!1);case 1:return zs(t.type,!0);case 31:return Qn("Activity");default:return""}}function Mr(t){try{var n="",s=null;do n+=Vr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,Hi=a.unstable_cancelCallback,vc=a.unstable_shouldYield,au=a.unstable_requestPaint,Ze=a.unstable_now,Ls=a.unstable_getCurrentPriorityLevel,Ir=a.unstable_ImmediatePriority,Ur=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Ec=a.unstable_LowPriority,ru=a.unstable_IdlePriority,lu=a.log,uu=a.unstable_setDisableYieldValue,In=null,Be=null;function En(t){if(typeof lu=="function"&&uu(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(In,t)}catch{}}var ue=Math.clz32?Math.clz32:cu,ou=Math.log,ba=Math.LN2;function cu(t){return t>>>=0,t===0?32:31-(ou(t)/ba|0)|0}var Yn=256,Bs=262144,pe=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):s||(s=E&~t,s!==0&&(c=Xn(s))))):(E=l&~f,E!==0?c=Xn(E):g!==0?c=Xn(g):s||(s=l&~t,s!==0&&(c=Xn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Tc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Zn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function js(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ac(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(s=g&~s;0<s;){var P=31-ue(s),F=1<<P;E[P]=0,w[P]=-1;var j=B[P];if(j!==null)for(B[P]=null,P=0;P<j.length;P++){var q=j[P];q!==null&&(q.lane&=-536870913)}s&=~F}l!==0&&ks(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ks(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ue(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function zr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ue(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Lr(t,n){var s=n&-n;return s=(s&42)!==0?1:qs(s),(s&(t.suspendedLanes|n))!==0?0:s}function qs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Yp(t.type))}function zn(t,n){var s=et.p;try{return et.p=t,n()}finally{et.p=s}}var Ln=Math.random().toString(36).slice(2),ye="__reactFiber$"+Ln,Ve="__reactProps$"+Ln,$n="__reactContainer$"+Ln,Ra="__reactEvents$"+Ln,Sc="__reactListeners$"+Ln,du="__reactHandles$"+Ln,mu="__reactResources$"+Ln,Jn="__reactMarker$"+Ln;function Ca(t){delete t[ye],delete t[Ve],delete t[Ra],delete t[Sc],delete t[du]}function Wn(t){var n=t[ye];if(n)return n;for(var s=t.parentNode;s;){if(n=s[$n]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=xp(t);t!==null;){if(s=t[ye])return s;t=xp(t)}return n}t=s,s=t.parentNode}return null}function Tn(t){if(t=t[ye]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ti(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[Jn]=!0}var Br=new Set,jr={};function ei(t,n){ni(t,n),ni(t+"Capture",n)}function ni(t,n){for(jr[t]=n,t=0;t<n.length;t++)Br.add(n[t])}var kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qr={},Hr={};function gu(t){return ge.call(Hr,t)?!0:ge.call(qr,t)?!1:kr.test(t)?Hr[t]=!0:(qr[t]=!0,!1)}function wa(t,n,s){if(gu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function hn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function ve(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pr(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Pt(t){if(!t._valueTracker){var n=Gi(t)?"checked":"value";t._valueTracker=Pr(t,n,""+t[n])}}function Hs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Gi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ps=/[\n"\\]/g;function en(t){return t.replace(Ps,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Da(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Gr(t,g,Me(n)):s!=null?Gr(t,g,Me(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function pu(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Pt(t);return}s=s!=null?""+Me(s):"",n=n!=null?""+Me(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Pt(t)}function Gr(t,n,s){n==="number"&&ii(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Fi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function yu(t,n,s){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Me(s):""}function Qi(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Me(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Pt(t)}function nn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fr(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||_u.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Qr(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Fr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Fr(t,f,n[f])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return Yi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Yr=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,si=null;function Gs(t){var n=Tn(t);if(n&&(t=n.stateNode)){var s=t[Ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(Da(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Ve]||null;if(!c)throw Error(r(90));Da(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Hs(l)}break t;case"textarea":yu(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Fi(t,!!s.multiple,n,!1)}}}var xa=!1;function Ki(t,n,s){if(xa)return t(n,s);xa=!0;try{var l=t(n);return l}finally{if(xa=!1,(Xi!==null||si!==null)&&(fo(),Xi&&(n=Xi,t=si,si=Xi=null,Gs(n),t)))for(n=0;n<t.length;n++)Gs(t[n])}}function jn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(Sn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{Fs=!1}var ai=null,Xr=null,Qs=null;function Kr(){if(Qs)return Qs;var t,n=Xr,s=n.length,l,c="value"in ai?ai.value:ai.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return Qs=c.slice(t,1<l?1-l:void 0)}function Ys(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function kn(){return!1}function je(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ti:kn,this.isPropagationStopped=kn,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=je(Ai),Zi=D({},Ai,{view:0,detail:0}),Zr=je(Zi),$i,Va,li,Ma=D({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?($i=t.screenX-li.screenX,Va=t.screenY-li.screenY):Va=$i=0,li=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),$r=je(Ma),Xs=D({},Ma,{dataTransfer:0}),Eu=je(Xs),Tu=D({},Zi,{relatedTarget:0}),Ks=je(Tu),Jr=D({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=je(Jr),Ia=D({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=je(Ia),bu=D({},Ai,{data:0}),ui=je(bu),Ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Ji(){return Du}var $e=D({},Zi,{key:function(t){if(t.key){var n=Ru[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=je($e),Ou=D({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=je(Ou),o=D({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),m=je(o),p=D({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(p),z=D({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k=je(z),J=D({},Ai,{newState:0,oldState:0}),Tt=je(J),oe=[9,13,27,32],kt=Sn&&"CompositionEvent"in window,ee=null;Sn&&"documentMode"in document&&(ee=document.documentMode);var bn=Sn&&"TextEvent"in window&&!ee,oi=Sn&&(!kt||ee&&8<ee&&11>=ee),qn=" ",Hn=!1;function Zs(t,n){switch(t){case"keyup":return oe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function _0(t,n){switch(t){case"compositionend":return Ua(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return t=n.data,t===qn&&Hn?null:t;default:return null}}function v0(t,n){if(za)return t==="compositionend"||!kt&&Zs(t,n)?(t=Kr(),Qs=Xr=ai=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!E0[t.type]:n==="textarea"}function Ud(t,n,s,l){Xi?si?si.push(l):si=[l]:Xi=l,n=Eo(n,"onChange"),0<n.length&&(s=new ri("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Wr=null,tl=null;function T0(t){yp(t,0)}function xu(t){var n=cn(t);if(Hs(n))return t}function zd(t,n){if(t==="change")return n}var Ld=!1;if(Sn){var bc;if(Sn){var Rc="oninput"in document;if(!Rc){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Rc=typeof Bd.oninput=="function"}bc=Rc}else bc=!1;Ld=bc&&(!document.documentMode||9<document.documentMode)}function jd(){Wr&&(Wr.detachEvent("onpropertychange",kd),tl=Wr=null)}function kd(t){if(t.propertyName==="value"&&xu(tl)){var n=[];Ud(n,tl,t,An(t)),Ki(T0,n)}}function A0(t,n,s){t==="focusin"?(jd(),Wr=n,tl=s,Wr.attachEvent("onpropertychange",kd)):t==="focusout"&&jd()}function S0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(tl)}function b0(t,n){if(t==="click")return xu(n)}function R0(t,n){if(t==="input"||t==="change")return xu(n)}function C0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:C0;function el(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ge.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hd(t,n){var s=qd(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=qd(s)}}function Pd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ii(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ii(t.document)}return n}function Cc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var w0=Sn&&"documentMode"in document&&11>=document.documentMode,La=null,wc=null,nl=null,Dc=!1;function Fd(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dc||La==null||La!==ii(l)||(l=La,"selectionStart"in l&&Cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=Eo(wc,"onSelect"),0<l.length&&(n=new ri("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=La)))}function $s(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ba={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Nc={},Qd={};Sn&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Js(t){if(Nc[t])return Nc[t];if(!Ba[t])return t;var n=Ba[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Qd)return Nc[t]=n[s];return t}var Yd=Js("animationend"),Xd=Js("animationiteration"),Kd=Js("animationstart"),D0=Js("transitionrun"),N0=Js("transitionstart"),O0=Js("transitioncancel"),Zd=Js("transitionend"),$d=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function Pn(t,n){$d.set(t,n),ei(n,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],ja=0,xc=0;function Mu(){for(var t=ja,n=xc=ja=0;n<t;){var s=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Jd(s,c,f)}}function Iu(t,n,s,l){Rn[ja++]=t,Rn[ja++]=n,Rn[ja++]=s,Rn[ja++]=l,xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vc(t,n,s,l){return Iu(t,n,s,l),Uu(t)}function Ws(t,n){return Iu(t,null,null,n),Uu(t)}function Jd(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ue(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Uu(t){if(50<bl)throw bl=0,qh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function x0(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,s,l){return new x0(t,n,s,l)}function Mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var s=t.alternate;return s===null?(s=dn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Wd(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")Mc(t)&&(g=1);else if(typeof t=="string")g=zE(t,s,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=dn(31,s,n,c),t.elementType=C,t.lanes=f,t;case it:return ta(s.children,c,f,n);case Z:g=8,c|=24;break;case pt:return t=dn(12,s,n,c|2),t.elementType=pt,t.lanes=f,t;case rt:return t=dn(13,s,n,c),t.elementType=rt,t.lanes=f,t;case tt:return t=dn(19,s,n,c),t.elementType=tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:g=10;break t;case Rt:g=9;break t;case Et:g=11;break t;case R:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=dn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ta(t,n,s,l){return t=dn(7,t,l,n),t.lanes=s,t}function Ic(t,n,s){return t=dn(6,t,null,n),t.lanes=s,t}function tm(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function Uc(t,n,s){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var em=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var s=em.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Mr(n)},em.set(t,n),n)}return{value:t,source:n,stack:Mr(n)}}var qa=[],Ha=0,Lu=null,il=0,wn=[],Dn=0,Wi=null,ci=1,hi="";function Ri(t,n){qa[Ha++]=il,qa[Ha++]=Lu,Lu=t,il=n}function nm(t,n,s){wn[Dn++]=ci,wn[Dn++]=hi,wn[Dn++]=Wi,Wi=t;var l=ci;t=hi;var c=32-ue(l)-1;l&=~(1<<c),s+=1;var f=32-ue(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ci=1<<32-ue(n)+c|s<<c|l,hi=f+t}else ci=1<<f|s<<c|l,hi=t}function zc(t){t.return!==null&&(Ri(t,1),nm(t,1,0))}function Lc(t){for(;t===Lu;)Lu=qa[--Ha],qa[Ha]=null,il=qa[--Ha],qa[Ha]=null;for(;t===Wi;)Wi=wn[--Dn],wn[Dn]=null,hi=wn[--Dn],wn[Dn]=null,ci=wn[--Dn],wn[Dn]=null}function im(t,n){wn[Dn++]=ci,wn[Dn++]=hi,wn[Dn++]=Wi,ci=n.id,hi=n.overflow,Wi=t}var ke=null,Jt=null,Ot=!1,ts=null,Nn=!1,Bc=Error(r(519));function es(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Cn(n,t)),Bc}function sm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Ve]=l,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<Cl.length;s++)wt(Cl[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),pu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Qi(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Tp(n.textContent,s)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||es(t,!0)}function am(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ke=ke.return}}function Pa(t){if(t!==ke)return!1;if(!Ot)return am(t),Ot=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||nf(t.type,t.memoizedProps)),s=!s),s&&Jt&&es(t),am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Jt=Op(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Jt=Op(t)}else n===27?(n=Jt,gs(t.type)?(t=uf,uf=null,Jt=t):Jt=n):Jt=ke?xn(t.stateNode.nextSibling):null;return!0}function ea(){Jt=ke=null,Ot=!1}function jc(){var t=ts;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ts=null),t}function sl(t){ts===null?ts=[t]:ts.push(t)}var kc=x(null),na=null,Ci=null;function ns(t,n,s){nt(kc,n._currentValue),n._currentValue=s}function wi(t){t._currentValue=kc.current,Q(kc)}function qc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Hc(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),qc(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),qc(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ga(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Vt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&Hc(n,t,s,l),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return rm(na,t)}function ju(t,n){return na===null&&ia(t),rm(t,n)}function rm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ci===null){if(t===null)throw Error(r(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return s}var V0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},M0=a.unstable_scheduleCallback,I0=a.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new V0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&M0(I0,function(){t.controller.abort()})}var rl=null,Gc=0,Fa=0,Qa=null;function U0(t,n){if(rl===null){var s=rl=[];Gc=0,Fa=Yh(),Qa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Gc++,n.then(lm,lm),n}function lm(){if(--Gc===0&&rl!==null){Qa!==null&&(Qa.status="fulfilled");var t=rl;rl=null,Fa=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function z0(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var um=H.S;H.S=function(t,n){Fg=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&U0(t,n),um!==null&&um(t,n)};var sa=x(null);function Fc(){var t=sa.current;return t!==null?t:$t.pooledCache}function ku(t,n){n===null?nt(sa,sa.current):nt(sa,n.pool)}function om(){var t=Fc();return t===null?null:{parent:Ee._currentValue,pool:t}}var Ya=Error(r(460)),Qc=Error(r(474)),qu=Error(r(542)),Hu={then:function(){}};function cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dm(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dm(t),t}throw ra=n,Ya}}function aa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ra=s,Ya):s}}var ra=null;function fm(){if(ra===null)throw Error(r(459));var t=ra;return ra=null,t}function dm(t){if(t===Ya||t===qu)throw Error(r(483))}var Xa=null,ll=0;function Pu(t){var n=ll;return ll+=1,Xa===null&&(Xa=[]),hm(Xa,t,n)}function ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===U?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mm(t){function n(I,O){if(t){var L=I.deletions;L===null?(I.deletions=[O],I.flags|=16):L.push(O)}}function s(I,O){if(!t)return null;for(;O!==null;)n(I,O),O=O.sibling;return null}function l(I){for(var O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function c(I,O){return I=bi(I,O),I.index=0,I.sibling=null,I}function f(I,O,L){return I.index=L,t?(L=I.alternate,L!==null?(L=L.index,L<O?(I.flags|=67108866,O):L):(I.flags|=67108866,O)):(I.flags|=1048576,O)}function g(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function E(I,O,L,G){return O===null||O.tag!==6?(O=Ic(L,I.mode,G),O.return=I,O):(O=c(O,L),O.return=I,O)}function w(I,O,L,G){var ot=L.type;return ot===it?P(I,O,L.props.children,G,L.key):O!==null&&(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&aa(ot)===O.type)?(O=c(O,L.props),ul(O,L),O.return=I,O):(O=zu(L.type,L.key,L.props,null,I.mode,G),ul(O,L),O.return=I,O)}function B(I,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Uc(L,I.mode,G),O.return=I,O):(O=c(O,L.children||[]),O.return=I,O)}function P(I,O,L,G,ot){return O===null||O.tag!==7?(O=ta(L,I.mode,G,ot),O.return=I,O):(O=c(O,L),O.return=I,O)}function F(I,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ic(""+O,I.mode,L),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case X:return L=zu(O.type,O.key,O.props,null,I.mode,L),ul(L,O),L.return=I,L;case $:return O=Uc(O,I.mode,L),O.return=I,O;case S:return O=aa(O),F(I,O,L)}if(ie(O)||M(O))return O=ta(O,I.mode,L,null),O.return=I,O;if(typeof O.then=="function")return F(I,Pu(O),L);if(O.$$typeof===ft)return F(I,ju(I,O),L);Gu(I,O)}return null}function j(I,O,L,G){var ot=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(I,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case X:return L.key===ot?w(I,O,L,G):null;case $:return L.key===ot?B(I,O,L,G):null;case S:return L=aa(L),j(I,O,L,G)}if(ie(L)||M(L))return ot!==null?null:P(I,O,L,G,null);if(typeof L.then=="function")return j(I,O,Pu(L),G);if(L.$$typeof===ft)return j(I,O,ju(I,L),G);Gu(I,L)}return null}function q(I,O,L,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return I=I.get(L)||null,E(O,I,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case X:return I=I.get(G.key===null?L:G.key)||null,w(O,I,G,ot);case $:return I=I.get(G.key===null?L:G.key)||null,B(O,I,G,ot);case S:return G=aa(G),q(I,O,L,G,ot)}if(ie(G)||M(G))return I=I.get(L)||null,P(O,I,G,ot,null);if(typeof G.then=="function")return q(I,O,L,Pu(G),ot);if(G.$$typeof===ft)return q(I,O,L,ju(O,G),ot);Gu(O,G)}return null}function lt(I,O,L,G){for(var ot=null,Bt=null,ut=O,bt=O=0,Nt=null;ut!==null&&bt<L.length;bt++){ut.index>bt?(Nt=ut,ut=null):Nt=ut.sibling;var jt=j(I,ut,L[bt],G);if(jt===null){ut===null&&(ut=Nt);break}t&&ut&&jt.alternate===null&&n(I,ut),O=f(jt,O,bt),Bt===null?ot=jt:Bt.sibling=jt,Bt=jt,ut=Nt}if(bt===L.length)return s(I,ut),Ot&&Ri(I,bt),ot;if(ut===null){for(;bt<L.length;bt++)ut=F(I,L[bt],G),ut!==null&&(O=f(ut,O,bt),Bt===null?ot=ut:Bt.sibling=ut,Bt=ut);return Ot&&Ri(I,bt),ot}for(ut=l(ut);bt<L.length;bt++)Nt=q(ut,I,bt,L[bt],G),Nt!==null&&(t&&Nt.alternate!==null&&ut.delete(Nt.key===null?bt:Nt.key),O=f(Nt,O,bt),Bt===null?ot=Nt:Bt.sibling=Nt,Bt=Nt);return t&&ut.forEach(function(Es){return n(I,Es)}),Ot&&Ri(I,bt),ot}function dt(I,O,L,G){if(L==null)throw Error(r(151));for(var ot=null,Bt=null,ut=O,bt=O=0,Nt=null,jt=L.next();ut!==null&&!jt.done;bt++,jt=L.next()){ut.index>bt?(Nt=ut,ut=null):Nt=ut.sibling;var Es=j(I,ut,jt.value,G);if(Es===null){ut===null&&(ut=Nt);break}t&&ut&&Es.alternate===null&&n(I,ut),O=f(Es,O,bt),Bt===null?ot=Es:Bt.sibling=Es,Bt=Es,ut=Nt}if(jt.done)return s(I,ut),Ot&&Ri(I,bt),ot;if(ut===null){for(;!jt.done;bt++,jt=L.next())jt=F(I,jt.value,G),jt!==null&&(O=f(jt,O,bt),Bt===null?ot=jt:Bt.sibling=jt,Bt=jt);return Ot&&Ri(I,bt),ot}for(ut=l(ut);!jt.done;bt++,jt=L.next())jt=q(ut,I,bt,jt.value,G),jt!==null&&(t&&jt.alternate!==null&&ut.delete(jt.key===null?bt:jt.key),O=f(jt,O,bt),Bt===null?ot=jt:Bt.sibling=jt,Bt=jt);return t&&ut.forEach(function(YE){return n(I,YE)}),Ot&&Ri(I,bt),ot}function Kt(I,O,L,G){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case X:t:{for(var ot=L.key;O!==null;){if(O.key===ot){if(ot=L.type,ot===it){if(O.tag===7){s(I,O.sibling),G=c(O,L.props.children),G.return=I,I=G;break t}}else if(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&aa(ot)===O.type){s(I,O.sibling),G=c(O,L.props),ul(G,L),G.return=I,I=G;break t}s(I,O);break}else n(I,O);O=O.sibling}L.type===it?(G=ta(L.props.children,I.mode,G,L.key),G.return=I,I=G):(G=zu(L.type,L.key,L.props,null,I.mode,G),ul(G,L),G.return=I,I=G)}return g(I);case $:t:{for(ot=L.key;O!==null;){if(O.key===ot)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(I,O.sibling),G=c(O,L.children||[]),G.return=I,I=G;break t}else{s(I,O);break}else n(I,O);O=O.sibling}G=Uc(L,I.mode,G),G.return=I,I=G}return g(I);case S:return L=aa(L),Kt(I,O,L,G)}if(ie(L))return lt(I,O,L,G);if(M(L)){if(ot=M(L),typeof ot!="function")throw Error(r(150));return L=ot.call(L),dt(I,O,L,G)}if(typeof L.then=="function")return Kt(I,O,Pu(L),G);if(L.$$typeof===ft)return Kt(I,O,ju(I,L),G);Gu(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(I,O.sibling),G=c(O,L),G.return=I,I=G):(s(I,O),G=Ic(L,I.mode,G),G.return=I,I=G),g(I)):s(I,O)}return function(I,O,L,G){try{ll=0;var ot=Kt(I,O,L,G);return Xa=null,ot}catch(ut){if(ut===Ya||ut===qu)throw ut;var Bt=dn(29,ut,null,I.mode);return Bt.lanes=G,Bt.return=I,Bt}finally{}}}var la=mm(!0),gm=mm(!1),is=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function as(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uu(t),Jd(t,null,s),n}return Iu(t,l,n,s),Uu(t)}function ol(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,zr(t,s)}}function Kc(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Zc=!1;function cl(){if(Zc){var t=Qa;if(t!==null)throw t}}function hl(t,n,s,l){Zc=!1;var c=t.updateQueue;is=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?f=B:g.next=B,g=w;var P=t.alternate;P!==null&&(P=P.updateQueue,E=P.lastBaseUpdate,E!==g&&(E===null?P.firstBaseUpdate=B:E.next=B,P.lastBaseUpdate=w))}if(f!==null){var F=c.baseState;g=0,P=B=w=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Dt&j)===j:(l&j)===j){j!==0&&j===Fa&&(Zc=!0),P!==null&&(P=P.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=t,dt=E;j=n;var Kt=s;switch(dt.tag){case 1:if(lt=dt.payload,typeof lt=="function"){F=lt.call(Kt,F,j);break t}F=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=dt.payload,j=typeof lt=="function"?lt.call(Kt,F,j):lt,j==null)break t;F=D({},F,j);break t;case 2:is=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},P===null?(B=P=q,w=F):P=P.next=q,g|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);P===null&&(w=F),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=P,f===null&&(c.shared.lanes=0),cs|=g,t.lanes=g,t.memoizedState=F}}function pm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function ym(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)pm(s[t],n)}var Ka=x(null),Fu=x(0);function _m(t,n){t=zi,nt(Fu,t),nt(Ka,n),zi=t|n.baseLanes}function $c(){nt(Fu,zi),nt(Ka,Ka.current)}function Jc(){zi=Fu.current,Q(Ka),Q(Fu)}var mn=x(null),On=null;function rs(t){var n=t.alternate;nt(ce,ce.current&1),nt(mn,t),On===null&&(n===null||Ka.current!==null||n.memoizedState!==null)&&(On=t)}function Wc(t){nt(ce,ce.current),nt(mn,t),On===null&&(On=t)}function vm(t){t.tag===22?(nt(ce,ce.current),nt(mn,t),On===null&&(On=t)):ls()}function ls(){nt(ce,ce.current),nt(mn,mn.current)}function gn(t){Q(mn),On===t&&(On=null),Q(ce)}var ce=x(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||rf(s)||lf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Di=0,At=null,Yt=null,Te=null,Yu=!1,Za=!1,ua=!1,Xu=0,fl=0,$a=null,L0=0;function re(){throw Error(r(321))}function th(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!fn(t[s],n[s]))return!1;return!0}function eh(t,n,s,l,c,f){return Di=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?ng:ph,ua=!1,f=s(l,c),ua=!1,Za&&(f=Tm(n,s,l,c)),Em(t),f}function Em(t){H.H=gl;var n=Yt!==null&&Yt.next!==null;if(Di=0,Te=Yt=At=null,Yu=!1,fl=0,$a=null,n)throw Error(r(300));t===null||Ae||(t=t.dependencies,t!==null&&Bu(t)&&(Ae=!0))}function Tm(t,n,s,l){At=t;var c=0;do{if(Za&&($a=null),fl=0,Za=!1,25<=c)throw Error(r(301));if(c+=1,Te=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=ig,f=n(s,l)}while(Za);return f}function B0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(At.flags|=1024),n}function nh(){var t=Xu!==0;return Xu=0,t}function ih(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function sh(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}Di=0,Te=Yt=At=null,Za=!1,fl=Xu=0,$a=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=t:Te=Te.next=t,Te}function he(){if(Yt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Yt=t;else{if(t===null)throw At.alternate===null?Error(r(467)):Error(r(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?At.memoizedState=Te=t:Te=Te.next=t}return Te}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,$a===null&&($a=[]),t=hm($a,t,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ng:ph),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===ft)return qe(t)}throw Error(r(438,String(t)))}function ah(t){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ku(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=V;return n.index++,s}function Ni(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=he();return rh(n,Yt,t)}function rh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,B=n,P=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Dt&F)===F:(Di&F)===F){var j=B.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Fa&&(P=!0);else if((Di&j)===j){B=B.next,j===Fa&&(P=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=F,g=f):w=w.next=F,At.lanes|=j,cs|=j;F=B.action,ua&&s(f,F),f=B.hasEagerState?B.eagerState:s(f,F)}else j={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=j,g=f):w=w.next=j,At.lanes|=F,cs|=F;B=B.next}while(B!==null&&B!==n);if(w===null?g=f:w.next=E,!fn(f,t.memoizedState)&&(Ae=!0,P&&(s=Qa,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function lh(t){var n=he(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Am(t,n,s){var l=At,c=he(),f=Ot;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!fn((Yt||c).memoizedState,s);if(g&&(c.memoizedState=s,Ae=!0),c=c.queue,ch(Rm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},bm.bind(null,l,c,s,n),null),$t===null)throw Error(r(349));f||(Di&127)!==0||Sm(l,n,s)}return s}function Sm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Ku(),At.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function bm(t,n,s,l){n.value=s,n.getSnapshot=l,Cm(n)&&wm(t)}function Rm(t,n,s){return s(function(){Cm(n)&&wm(t)})}function Cm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!fn(t,s)}catch{return!0}}function wm(t){var n=Ws(t,2);n!==null&&un(n,t,2)}function uh(t){var n=Je();if(typeof t=="function"){var s=t;if(t=s(),ua){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function Dm(t,n,s,l){return t.baseState=s,rh(t,Yt,typeof l=="function"?l:Ni)}function j0(t,n,s,l,c){if(to(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Nm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Nm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(c,l),w=H.S;w!==null&&w(g,E),Om(t,n,E)}catch(B){oh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(c,l),Om(t,n,f)}catch(B){oh(t,n,B)}}function Om(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){xm(t,n,l)},function(l){return oh(t,n,l)}):xm(t,n,s)}function xm(t,n,s){n.status="fulfilled",n.value=s,Vm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Nm(t,s)))}function oh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Vm(n),n=n.next;while(n!==l)}t.action=null}function Vm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mm(t,n){return n}function Im(t,n){if(Ot){var s=$t.formState;if(s!==null){t:{var l=At;if(Ot){if(Jt){e:{for(var c=Jt,f=Nn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Jt=xn(c.nextSibling),l=c.data==="F!";break t}}es(l)}l=!1}l&&(n=s[0])}}return s=Je(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:n},s.queue=l,s=Wm.bind(null,At,l),l.dispatch=s,l=uh(!1),f=gh.bind(null,At,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=j0.bind(null,At,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Um(t){var n=he();return zm(n,Yt,t)}function zm(t,n,s){if(n=rh(t,n,Mm)[0],t=$u(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=dl(n)}catch(g){throw g===Ya?qu:g}else l=n;n=he();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Ja(9,{destroy:void 0},k0.bind(null,c,s),null)),[l,f,t]}function k0(t,n){t.action=n}function Lm(t){var n=he(),s=Yt;if(s!==null)return zm(n,s,t);he(),n=n.memoizedState,s=he();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Ja(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Ku(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Bm(){return he().memoizedState}function Ju(t,n,s,l){var c=Je();At.flags|=t,c.memoizedState=Ja(1|n,{destroy:void 0},s,l===void 0?null:l)}function Wu(t,n,s,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&th(l,Yt.memoizedState.deps)?c.memoizedState=Ja(n,f,s,l):(At.flags|=t,c.memoizedState=Ja(1|n,f,s,l))}function jm(t,n){Ju(8390656,8,t,n)}function ch(t,n){Wu(2048,8,t,n)}function q0(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=Ku(),At.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function km(t){var n=he().memoizedState;return q0({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function qm(t,n){return Wu(4,2,t,n)}function Hm(t,n){return Wu(4,4,t,n)}function Pm(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gm(t,n,s){s=s!=null?s.concat([t]):null,Wu(4,4,Pm.bind(null,n,t),s)}function hh(){}function Fm(t,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&th(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Qm(t,n){var s=he();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&th(n,l[1]))return l[0];if(l=t(),ua){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l}function fh(t,n,s){return s===void 0||(Di&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Yg(),At.lanes|=t,cs|=t,s)}function Ym(t,n,s,l){return fn(s,n)?s:Ka.current!==null?(t=fh(t,s,l),fn(t,n)||(Ae=!0),t):(Di&42)===0||(Di&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,t.memoizedState=s):(t=Yg(),At.lanes|=t,cs|=t,n)}function Xm(t,n,s,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,gh(t,!1,n,s);try{var w=c(),B=H.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var P=z0(w,l);ml(t,n,P,_n(t))}else ml(t,n,l,_n(t))}catch(F){ml(t,n,{then:function(){},status:"rejected",reason:F},_n())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function H0(){}function dh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=Km(t).queue;Xm(t,c,n,ht,s===null?H0:function(){return Zm(t),s(l)})}function Km(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zm(t){var n=Km(t);n.next===null&&(n=t.alternate.memoizedState),ml(t,n.next.queue,{},_n())}function mh(){return qe(xl)}function $m(){return he().memoizedState}function Jm(){return he().memoizedState}function P0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();t=ss(s);var l=as(n,t,s);l!==null&&(un(l,n,s),ol(l,n,s)),n={cache:Pc()},t.payload=n;return}n=n.return}}function G0(t,n,s){var l=_n();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},to(t)?tg(n,s):(s=Vc(t,n,s,l),s!==null&&(un(s,t,l),eg(s,n,l)))}function Wm(t,n,s){var l=_n();ml(t,n,s,l)}function ml(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(to(t))tg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return Iu(t,n,c,0),$t===null&&Mu(),!1}catch{}finally{}if(s=Vc(t,n,c,l),s!==null)return un(s,t,l),eg(s,n,l),!0}return!1}function gh(t,n,s,l){if(l={lane:2,revertLane:Yh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},to(t)){if(n)throw Error(r(479))}else n=Vc(t,s,l,2),n!==null&&un(n,t,2)}function to(t){var n=t.alternate;return t===At||n!==null&&n===At}function tg(t,n){Za=Yu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function eg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,zr(t,s)}}var gl={readContext:qe,use:Zu,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};gl.useEffectEvent=re;var ng={readContext:qe,use:Zu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:jm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Ju(4194308,4,Pm.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var s=Je();n=n===void 0?null:n;var l=t();if(ua){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Je();if(s!==void 0){var c=s(n);if(ua){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=G0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=uh(t);var n=t.queue,s=Wm.bind(null,At,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:hh,useDeferredValue:function(t,n){var s=Je();return fh(s,t,n)},useTransition:function(){var t=uh(!1);return t=Xm.bind(null,At,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=At,c=Je();if(Ot){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$t===null)throw Error(r(349));(Dt&127)!==0||Sm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,jm(Rm.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},bm.bind(null,l,f,s,n),null),s},useId:function(){var t=Je(),n=$t.identifierPrefix;if(Ot){var s=hi,l=ci;s=(l&~(1<<32-ue(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Xu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=L0++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:mh,useFormState:Im,useActionState:Im,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=gh.bind(null,At,!0,s),s.dispatch=n,[t,n]},useMemoCache:ah,useCacheRefresh:function(){return Je().memoizedState=P0.bind(null,At)},useEffectEvent:function(t){var n=Je(),s={impl:t};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},ph={readContext:qe,use:Zu,useCallback:Fm,useContext:qe,useEffect:ch,useImperativeHandle:Gm,useInsertionEffect:qm,useLayoutEffect:Hm,useMemo:Qm,useReducer:$u,useRef:Bm,useState:function(){return $u(Ni)},useDebugValue:hh,useDeferredValue:function(t,n){var s=he();return Ym(s,Yt.memoizedState,t,n)},useTransition:function(){var t=$u(Ni)[0],n=he().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Am,useId:$m,useHostTransitionStatus:mh,useFormState:Um,useActionState:Um,useOptimistic:function(t,n){var s=he();return Dm(s,Yt,t,n)},useMemoCache:ah,useCacheRefresh:Jm};ph.useEffectEvent=km;var ig={readContext:qe,use:Zu,useCallback:Fm,useContext:qe,useEffect:ch,useImperativeHandle:Gm,useInsertionEffect:qm,useLayoutEffect:Hm,useMemo:Qm,useReducer:lh,useRef:Bm,useState:function(){return lh(Ni)},useDebugValue:hh,useDeferredValue:function(t,n){var s=he();return Yt===null?fh(s,t,n):Ym(s,Yt.memoizedState,t,n)},useTransition:function(){var t=lh(Ni)[0],n=he().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Am,useId:$m,useHostTransitionStatus:mh,useFormState:Lm,useActionState:Lm,useOptimistic:function(t,n){var s=he();return Yt!==null?Dm(s,Yt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ah,useCacheRefresh:Jm};ig.useEffectEvent=km;function yh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:D({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var _h={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=_n(),c=ss(l);c.payload=n,s!=null&&(c.callback=s),n=as(t,c,l),n!==null&&(un(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=_n(),c=ss(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=as(t,c,l),n!==null&&(un(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=_n(),l=ss(s);l.tag=2,n!=null&&(l.callback=n),n=as(t,l,s),n!==null&&(un(n,t,s),ol(n,t,s))}};function sg(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!el(s,l)||!el(c,f):!0}function ag(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&_h.enqueueReplaceState(n,n.state,null)}function oa(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=D({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function rg(t){Vu(t)}function lg(t){console.error(t)}function ug(t){Vu(t)}function eo(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function og(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vh(t,n,s){return s=ss(s),s.tag=3,s.payload={element:null},s.callback=function(){eo(t,n)},s}function cg(t){return t=ss(t),t.tag=3,t}function hg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){og(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){og(n,s,l),typeof c!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function F0(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ga(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?mo():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Hu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Gh(t,l,c)),!1;case 22:return s.flags|=65536,l===Hu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Gh(t,l,c)),!1}throw Error(r(435,s.tag))}return Gh(t,l,c),mo(),!1}if(Ot)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Bc&&(t=Error(r(422),{cause:l}),sl(Cn(t,s)))):(l!==Bc&&(n=Error(r(423),{cause:l}),sl(Cn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Cn(l,s),c=vh(t.stateNode,l,c),Kc(t,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:l});if(f=Cn(f,s),Sl===null?Sl=[f]:Sl.push(f),le!==4&&(le=2),n===null)return!0;l=Cn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=vh(s.stateNode,l,t),Kc(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hs===null||!hs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=cg(c),hg(c,t,s,l),Kc(s,c),!1}s=s.return}while(s!==null);return!1}var Eh=Error(r(461)),Ae=!1;function He(t,n,s,l){n.child=t===null?gm(n,null,s,l):la(n,t.child,s,l)}function fg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ia(n),l=eh(t,n,s,g,f,c),E=nh(),t!==null&&!Ae?(ih(t,n,c),Oi(t,n,c)):(Ot&&E&&zc(n),n.flags|=1,He(t,n,l,c),n.child)}function dg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Mc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,mg(t,n,f,l,c)):(t=zu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Dh(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:el,s(g,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function mg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(el(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,Dh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return Th(t,n,s,l,c)}function gg(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return pg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?_m(n,f):$c(),vm(n);else return l=n.lanes=536870912,pg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(ku(n,f.cachePool),_m(n,f),ls(),n.memoizedState=null):(t!==null&&ku(n,null),$c(),ls());return He(t,n,c,s),n.child}function pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function pg(t,n,s,l,c){var f=Fc();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&ku(n,null),$c(),vm(n),t!==null&&Ga(t,n,l,!0),n.childLanes=c,null}function no(t,n){return n=so({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function yg(t,n,s){return la(n,t.child,null,s),t=no(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function Q0(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=no(n,l),n.lanes=536870912,pl(null,t);if(Wc(n),(t=Jt)?(t=Np(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},s=tm(t),s.return=n,n.child=s,ke=n,Jt=null)):t=null,t===null)throw es(n);return n.lanes=536870912,null}return no(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Wc(n),c)if(n.flags&256)n.flags&=-257,n=yg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||Ga(t,n,s,!1),c=(s&t.childLanes)!==0,Ae||c){if(l=$t,l!==null&&(g=Lr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ws(t,g),un(l,t,g),Eh;mo(),n=yg(t,n,s)}else t=f.treeContext,Jt=xn(g.nextSibling),ke=n,Ot=!0,ts=null,Nn=!1,t!==null&&im(n,t),n=no(n,l),n.flags|=4096;return n}return t=bi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function io(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Th(t,n,s,l,c){return ia(n),s=eh(t,n,s,l,void 0,c),l=nh(),t!==null&&!Ae?(ih(t,n,c),Oi(t,n,c)):(Ot&&l&&zc(n),n.flags|=1,He(t,n,s,c),n.child)}function _g(t,n,s,l,c,f){return ia(n),n.updateQueue=null,s=Tm(n,l,s,c),Em(t),l=nh(),t!==null&&!Ae?(ih(t,n,f),Oi(t,n,f)):(Ot&&l&&zc(n),n.flags|=1,He(t,n,s,f),n.child)}function vg(t,n,s,l,c){if(ia(n),n.stateNode===null){var f=ka,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Yc(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ka,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(yh(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&_h.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=oa(s,E);f.props=w;var B=f.context,P=s.contextType;g=ka,typeof P=="object"&&P!==null&&(g=qe(P));var F=s.getDerivedStateFromProps;P=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,P||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&ag(n,f,l,g),is=!1;var j=n.memoizedState;f.state=j,hl(n,l,f,c),cl(),B=n.memoizedState,E||j!==B||is?(typeof F=="function"&&(yh(n,s,F,l),B=n.memoizedState),(w=is||sg(n,s,w,l,j,B,g))?(P||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Xc(t,n),g=n.memoizedProps,P=oa(s,g),f.props=P,F=n.pendingProps,j=f.context,B=s.contextType,w=ka,typeof B=="object"&&B!==null&&(w=qe(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||j!==w)&&ag(n,f,l,w),is=!1,j=n.memoizedState,f.state=j,hl(n,l,f,c),cl();var q=n.memoizedState;g!==F||j!==q||is||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(yh(n,s,E,l),q=n.memoizedState),(P=is||sg(n,s,P,l,j,q,w)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=w,l=P):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,io(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,c),n.child=la(n,null,s,c)):He(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function Eg(t,n,s,l){return ea(),n.flags|=256,He(t,n,s,l),n.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sh(t){return{baseLanes:t,cachePool:om()}}function bh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=yn),t}function Tg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ce.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?rs(n):ls(),(t=Jt)?(t=Np(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},s=tm(t),s.return=n,n.child=s,ke=n,Jt=null)):t=null,t===null)throw es(n);return lf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ls(),c=n.mode,E=so({mode:"hidden",children:E},c),l=ta(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Sh(s),l.childLanes=bh(t,g,s),n.memoizedState=Ah,pl(null,l)):(rs(n),Rh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(rs(n),n.flags&=-257,n=Ch(t,n,s)):n.memoizedState!==null?(ls(),n.child=t.child,n.flags|=128,n=null):(ls(),E=l.fallback,c=n.mode,l=so({mode:"visible",children:l.children},c),E=ta(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,la(n,t.child,null,s),l=n.child,l.memoizedState=Sh(s),l.childLanes=bh(t,g,s),n.memoizedState=Ah,n=pl(null,l));else if(rs(n),lf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,sl({value:l,source:null,stack:null}),n=Ch(t,n,s)}else if(Ae||Ga(t,n,s,!1),g=(s&t.childLanes)!==0,Ae||g){if(g=$t,g!==null&&(l=Lr(g,s),l!==0&&l!==w.retryLane))throw w.retryLane=l,Ws(t,l),un(g,t,l),Eh;rf(E)||mo(),n=Ch(t,n,s)}else rf(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,Jt=xn(E.nextSibling),ke=n,Ot=!0,ts=null,Nn=!1,t!==null&&im(n,t),n=Rh(n,l.children),n.flags|=4096);return n}return c?(ls(),E=l.fallback,c=n.mode,w=t.child,B=w.sibling,l=bi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=bi(B,E):(E=ta(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,pl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Sh(s):(c=E.cachePool,c!==null?(w=Ee._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=om(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=bh(t,g,s),n.memoizedState=Ah,pl(t.child,l)):(rs(n),s=t.child,t=s.sibling,s=bi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Rh(t,n){return n=so({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function so(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function Ch(t,n,s){return la(n,t.child,null,s),t=Rh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ag(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),qc(t.return,n,s)}function wh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Sg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ce.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(ce,g),He(t,n,l,s),l=Ot?il:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,s,n);else if(t.tag===19)Ag(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Qu(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),wh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Qu(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}wh(n,!0,s,null,f,l);break;case"together":wh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Oi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),cs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Ga(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=bi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=bi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Dh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function Y0(t,n,s){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),ns(n,Ee,t.memoizedState.cache),ea();break;case 27:case 5:Us(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wc(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Tg(t,n,s):(rs(n),t=Oi(t,n,s),t!==null?t.sibling:null);rs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ga(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Sg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(ce,ce.current),l)break;return null;case 22:return n.lanes=0,gg(t,n,s,n.pendingProps);case 24:ns(n,Ee,t.memoizedState.cache)}return Oi(t,n,s)}function bg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Dh(t,s)&&(n.flags&128)===0)return Ae=!1,Y0(t,n,s);Ae=(t.flags&131072)!==0}else Ae=!1,Ot&&(n.flags&1048576)!==0&&nm(n,il,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=aa(n.elementType),n.type=t,typeof t=="function")Mc(t)?(l=oa(t,l),n.tag=1,n=vg(null,n,t,l,s)):(n.tag=0,n=Th(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===Et){n.tag=11,n=fg(null,n,t,l,s);break t}else if(c===R){n.tag=14,n=dg(null,n,t,l,s);break t}}throw n=Zt(t)||t,Error(r(306,n,""))}}return n;case 0:return Th(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=oa(l,n.pendingProps),vg(t,n,l,c,s);case 3:t:{if(we(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Xc(t,n),hl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,ns(n,Ee,l),l!==f.cache&&Hc(n,[Ee],s,!0),cl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Eg(t,n,l,s);break t}else if(l!==c){c=Cn(Error(r(424)),n),sl(c),n=Eg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Jt=xn(t.firstChild),ke=n,Ot=!0,ts=null,Nn=!0,s=gm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ea(),l===c){n=Oi(t,n,s);break t}He(t,n,l,s)}n=n.child}return n;case 26:return io(t,n),t===null?(s=Up(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ot||(s=n.type,t=n.pendingProps,l=To(St.current).createElement(s),l[ye]=n,l[Ve]=t,Pe(l,s,t),_e(l),n.stateNode=l):n.memoizedState=Up(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Us(n),t===null&&Ot&&(l=n.stateNode=Vp(n.type,n.pendingProps,St.current),ke=n,Nn=!0,c=Jt,gs(n.type)?(uf=c,Jt=xn(l.firstChild)):Jt=c),He(t,n,n.pendingProps.children,s),io(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=Jt)&&(l=SE(l,n.type,n.pendingProps,Nn),l!==null?(n.stateNode=l,ke=n,Jt=xn(l.firstChild),Nn=!1,c=!0):c=!1),c||es(n)),Us(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,nf(c,f)?l=null:g!==null&&nf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=eh(t,n,B0,null,null,s),xl._currentValue=c),io(t,n),He(t,n,l,s),n.child;case 6:return t===null&&Ot&&((t=s=Jt)&&(s=bE(s,n.pendingProps,Nn),s!==null?(n.stateNode=s,ke=n,Jt=null,t=!0):t=!1),t||es(n)),null;case 13:return Tg(t,n,s);case 4:return we(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,s):He(t,n,l,s),n.child;case 11:return fg(t,n,n.type,n.pendingProps,s);case 7:return He(t,n,n.pendingProps,s),n.child;case 8:return He(t,n,n.pendingProps.children,s),n.child;case 12:return He(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ns(n,n.type,l.value),He(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ia(n),c=qe(c),l=l(c),n.flags|=1,He(t,n,l,s),n.child;case 14:return dg(t,n,n.type,n.pendingProps,s);case 15:return mg(t,n,n.type,n.pendingProps,s);case 19:return Sg(t,n,s);case 31:return Q0(t,n,s);case 22:return gg(t,n,s,n.pendingProps);case 24:return ia(n),l=qe(Ee),t===null?(c=Fc(),c===null&&(c=$t,f=Pc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Yc(n),ns(n,Ee,c)):((t.lanes&s)!==0&&(Xc(t,n),hl(n,null,null,s),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ns(n,Ee,l)):(l=f.cache,ns(n,Ee,l),l!==c.cache&&Hc(n,[Ee],s,!0))),He(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function xi(t){t.flags|=4}function Nh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if($g())t.flags|=8192;else throw ra=Hu,Qc}else t.flags&=-16777217}function Rg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kp(n))if($g())t.flags|=8192;else throw ra=Hu,Qc}function ao(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?hu():536870912,t.lanes|=n,nr|=n)}function yl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function X0(t,n,s){var l=n.pendingProps;switch(Lc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(Ee),te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Pa(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jc())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(Wt(n),Rg(n,f)):(Wt(n),Nh(n,c,null,l,s))):f?f!==t.memoizedState?(xi(n),Wt(n),Rg(n,f)):(Wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),Wt(n),Nh(n,c,t,l,s)),null;case 27:if(Ta(n),s=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}t=st.current,Pa(n)?sm(n):(t=Vp(c,l,s),n.stateNode=t,xi(n))}return Wt(n),null;case 5:if(Ta(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}if(f=st.current,Pa(n))sm(n);else{var g=To(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Ve]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Pe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return Wt(n),Nh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=St.current,Pa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Tp(t.nodeValue,s)),t||es(n,!0)}else t=To(t).createTextNode(l),t[ye]=n,n.stateNode=t}return Wt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Pa(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ye]=n}else ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),t=!1}else s=jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Pa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),ao(n,n.updateQueue),Wt(n),null);case 4:return te(),t===null&&$h(n.stateNode.containerInfo),Wt(n),null;case 10:return wi(n.type),Wt(n),null;case 19:if(Q(ce),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)yl(l,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,yl(l,!1),t=f.updateQueue,n.updateQueue=t,ao(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Wd(s,t),s=s.sibling;return nt(ce,ce.current&1|2),Ot&&Ri(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>co&&(n.flags|=128,c=!0,yl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Qu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,ao(n,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return Wt(n),null}else 2*Ze()-l.renderingStartTime>co&&s!==536870912&&(n.flags|=128,c=!0,yl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,s=ce.current,nt(ce,c?s&1|2:s&1),Ot&&Ri(n,l.treeForkCount),t):(Wt(n),null);case 22:case 23:return gn(n),Jc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&ao(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Q(sa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),wi(Ee),Wt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function K0(t,n){switch(Lc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(Ee),te(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ta(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(r(340));ea()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ea()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(ce),null;case 4:return te(),null;case 10:return wi(n.type),null;case 22:case 23:return gn(n),Jc(),t!==null&&Q(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(Ee),null;case 25:return null;default:return null}}function Cg(t,n){switch(Lc(n),n.tag){case 3:wi(Ee),te();break;case 26:case 27:case 5:Ta(n);break;case 4:te();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Q(ce);break;case 10:wi(n.type);break;case 22:case 23:gn(n),Jc(),t!==null&&Q(sa);break;case 24:wi(Ee)}}function _l(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Ft(n,n.return,E)}}function us(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=s,B=E;try{B()}catch(P){Ft(c,w,P)}}}l=l.next}while(l!==f)}}catch(P){Ft(n,n.return,P)}}function wg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{ym(n,s)}catch(l){Ft(t,t.return,l)}}}function Dg(t,n,s){s.props=oa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ft(t,n,l)}}function vl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Ft(t,n,c)}}function fi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ft(t,n,c)}else s.current=null}function Ng(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Ft(t,t.return,c)}}function Oh(t,n,s){try{var l=t.stateNode;yE(l,t.type,s,n),l[Ve]=n}catch(c){Ft(t,t.return,c)}}function Og(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gs(t.type)||t.tag===4}function xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&gs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Vh(t,n,s),t=t.sibling;t!==null;)Vh(t,n,s),t=t.sibling}function ro(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&gs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ro(t,n,s),t=t.sibling;t!==null;)ro(t,n,s),t=t.sibling}function xg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,s),n[ye]=t,n[Ve]=s}catch(f){Ft(t,t.return,f)}}var Vi=!1,Se=!1,Mh=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Z0(t,n){if(t=t.containerInfo,tf=Do,t=Gd(t),Cc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,w=-1,B=0,P=0,F=t,j=null;e:for(;;){for(var q;F!==s||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(w=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)j=F,F=q;for(;;){if(F===t)break e;if(j===s&&++B===c&&(E=g),j===f&&++P===l&&(w=g),(q=F.nextSibling)!==null)break;F=j,j=F.parentNode}F=q}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(ef={focusedElem:t,selectionRange:s},Do=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var lt=oa(s.type,c);t=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Ft(s,s.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)af(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Mg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(t,s),l&4&&_l(5,s);break;case 1:if(Ii(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Ft(s,s.return,g)}else{var c=oa(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(s,s.return,g)}}l&64&&wg(s),l&512&&vl(s,s.return);break;case 3:if(Ii(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ym(t,n)}catch(g){Ft(s,s.return,g)}}break;case 27:n===null&&l&4&&xg(s);case 26:case 5:Ii(t,s),n===null&&l&4&&Ng(s),l&512&&vl(s,s.return);break;case 12:Ii(t,s);break;case 31:Ii(t,s),l&4&&zg(t,s);break;case 13:Ii(t,s),l&4&&Lg(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=aE.bind(null,s),RE(t,s))));break;case 22:if(l=s.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||Se,c=Vi;var f=Se;Vi=l,(Se=n)&&!f?Ui(t,s,(s.subtreeFlags&8772)!==0):Ii(t,s),Vi=c,Se=f}break;case 30:break;default:Ii(t,s)}}function Ig(t){var n=t.alternate;n!==null&&(t.alternate=null,Ig(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ca(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,sn=!1;function Mi(t,n,s){for(s=s.child;s!==null;)Ug(t,n,s),s=s.sibling}function Ug(t,n,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(In,s)}catch{}switch(s.tag){case 26:Se||fi(s,n),Mi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||fi(s,n);var l=ne,c=sn;gs(s.type)&&(ne=s.stateNode,sn=!1),Mi(t,n,s),Dl(s.stateNode),ne=l,sn=c;break;case 5:Se||fi(s,n);case 6:if(l=ne,c=sn,ne=null,Mi(t,n,s),ne=l,sn=c,ne!==null)if(sn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(s.stateNode)}catch(f){Ft(s,n,f)}else try{ne.removeChild(s.stateNode)}catch(f){Ft(s,n,f)}break;case 18:ne!==null&&(sn?(t=ne,wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),cr(t)):wp(ne,s.stateNode));break;case 4:l=ne,c=sn,ne=s.stateNode.containerInfo,sn=!0,Mi(t,n,s),ne=l,sn=c;break;case 0:case 11:case 14:case 15:us(2,s,n),Se||us(4,s,n),Mi(t,n,s);break;case 1:Se||(fi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Dg(s,n,l)),Mi(t,n,s);break;case 21:Mi(t,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,Mi(t,n,s),Se=l;break;default:Mi(t,n,s)}}function zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cr(t)}catch(s){Ft(n,n.return,s)}}}function Lg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cr(t)}catch(s){Ft(n,n.return,s)}}function $0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Vg),n;default:throw Error(r(435,t.tag))}}function lo(t,n){var s=$0(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=rE.bind(null,t,l);l.then(c,c)}})}function an(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(gs(E.type)){ne=E.stateNode,sn=!1;break t}break;case 5:ne=E.stateNode,sn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ne===null)throw Error(r(160));Ug(f,g,c),ne=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bg(n,t),n=n.sibling}var Gn=null;function Bg(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(us(3,t,t.return),_l(3,t),us(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(Se||s===null||fi(s,s.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Gn;if(an(n,t),rn(t),l&512&&(Se||s===null||fi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Jn]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,s),f[ye]=t,_e(f),l=f;break t;case"link":var g=Bp("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Bp("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else jp(c,t.type,t.stateNode);else t.stateNode=Lp(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?jp(c,t.type,t.stateNode):Lp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Oh(t,t.memoizedProps,s.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(Se||s===null||fi(s,s.return)),s!==null&&l&4&&Oh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(Se||s===null||fi(s,s.return)),t.flags&32){c=t.stateNode;try{nn(c,"")}catch(lt){Ft(t,t.return,lt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Oh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Mh=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(lt){Ft(t,t.return,lt)}}break;case 3:if(bo=null,c=Gn,Gn=Ao(n.containerInfo),an(n,t),Gn=c,rn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{cr(n.containerInfo)}catch(lt){Ft(t,t.return,lt)}Mh&&(Mh=!1,jg(t));break;case 4:l=Gn,Gn=Ao(t.stateNode.containerInfo),an(n,t),rn(t),Gn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lo(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(oo=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lo(t,l)));break;case 22:c=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,B=Vi,P=Se;if(Vi=B||c,Se=P||w,an(n,t),Se=P,Vi=B,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||w||Vi||Se||ca(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var F=w.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Ft(w,w.return,lt)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(lt){Ft(w,w.return,lt)}}}else if(n.tag===18){if(s===null){w=n;try{var q=w.stateNode;c?Dp(q,!0):Dp(w.stateNode,!1)}catch(lt){Ft(w,w.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,lo(t,s))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lo(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Og(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=xh(t);ro(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=xh(t);ro(t,E,g);break;case 3:case 4:var w=s.stateNode.containerInfo,B=xh(t);Vh(t,B,w);break;default:throw Error(r(161))}}catch(P){Ft(t,t.return,P)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ii(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mg(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:us(4,n,n.return),ca(n);break;case 1:fi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Dg(n,n.return,s),ca(n);break;case 27:Dl(n.stateNode);case 26:case 5:fi(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function Ui(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(c,f,s),_l(4,f);break;case 1:if(Ui(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ft(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)pm(w[c],E)}catch(B){Ft(l,l.return,B)}}s&&g&64&&wg(f),vl(f,f.return);break;case 27:xg(f);case 26:case 5:Ui(c,f,s),s&&l===null&&g&4&&Ng(f),vl(f,f.return);break;case 12:Ui(c,f,s);break;case 31:Ui(c,f,s),s&&g&4&&zg(c,f);break;case 13:Ui(c,f,s),s&&g&4&&Lg(c,f);break;case 22:f.memoizedState===null&&Ui(c,f,s),vl(f,f.return);break;case 30:break;default:Ui(c,f,s)}n=n.sibling}}function Ih(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&al(s))}function Uh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Fn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kg(t,n,s,l),n=n.sibling}function kg(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,s,l),c&2048&&_l(9,n);break;case 1:Fn(t,n,s,l);break;case 3:Fn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Fn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Ft(n,n.return,w)}}else Fn(t,n,s,l);break;case 31:Fn(t,n,s,l);break;case 13:Fn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,s,l):El(t,n):f._visibility&2?Fn(t,n,s,l):(f._visibility|=2,Wa(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Ih(g,n);break;case 24:Fn(t,n,s,l),c&2048&&Uh(n.alternate,n);break;default:Fn(t,n,s,l)}}function Wa(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,w=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:Wa(f,g,E,w,c),_l(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&2?Wa(f,g,E,w,c):El(f,g):(P._visibility|=2,Wa(f,g,E,w,c)),c&&B&2048&&Ih(g.alternate,g);break;case 24:Wa(f,g,E,w,c),c&&B&2048&&Uh(g.alternate,g);break;default:Wa(f,g,E,w,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:El(s,l),c&2048&&Ih(l.alternate,l);break;case 24:El(s,l),c&2048&&Uh(l.alternate,l);break;default:El(s,l)}n=n.sibling}}var Tl=8192;function tr(t,n,s){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)qg(t,n,s),t=t.sibling}function qg(t,n,s){switch(t.tag){case 26:tr(t,n,s),t.flags&Tl&&t.memoizedState!==null&&LE(s,Gn,t.memoizedState,t.memoizedProps);break;case 5:tr(t,n,s);break;case 3:case 4:var l=Gn;Gn=Ao(t.stateNode.containerInfo),tr(t,n,s),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,tr(t,n,s),Tl=l):tr(t,n,s));break;default:tr(t,n,s)}}function Hg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,Gg(l,t)}Hg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pg(t),t=t.sibling}function Pg(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&us(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uo(t)):Al(t);break;default:Al(t)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,Gg(l,t)}Hg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:us(8,n,n.return),uo(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,uo(n));break;default:uo(n)}t=t.sibling}}function Gg(t,n){for(;Ie!==null;){var s=Ie;switch(s.tag){case 0:case 11:case 15:us(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ie=l;else t:for(s=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Ig(l),l===s){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var J0={getCacheForType:function(t){var n=qe(Ee),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return qe(Ee).controller.signal}},W0=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,Ct=null,Dt=0,Gt=0,pn=null,os=!1,er=!1,zh=!1,zi=0,le=0,cs=0,ha=0,Lh=0,yn=0,nr=0,Sl=null,ln=null,Bh=!1,oo=0,Fg=0,co=1/0,ho=null,hs=null,Ne=0,fs=null,ir=null,Li=0,jh=0,kh=null,Qg=null,bl=0,qh=null;function _n(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?Yh():fu()}function Yg(){if(yn===0)if((Dt&536870912)===0||Ot){var t=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function un(t,n,s){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(sr(t,0),ds(t,Dt,yn,!1)),js(t,s),((qt&2)===0||t!==$t)&&(t===$t&&((qt&2)===0&&(ha|=s),le===4&&ds(t,Dt,yn,!1)),di(t))}function Xg(t,n,s){if((qt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),c=l?nE(t,n):Ph(t,n,!0),f=l;do{if(c===0){er&&!l&&ds(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!tE(s)){c=Ph(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Sl;var w=E.current.memoizedState.isDehydrated;if(w&&(sr(E,g).flags|=256),g=Ph(E,g,!1),g!==2){if(zh&&!w){E.errorRecoveryDisabledLanes|=f,ha|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){sr(t,0),ds(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ds(l,n,yn,!os);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=oo+300-Ze(),10<c)){if(ds(l,n,yn,!os),Kn(l,0,!0)!==0)break t;Li=n,l.timeoutHandle=Rp(Kg.bind(null,l,s,ln,ho,Bh,n,yn,ha,nr,os,f,"Throttled",-0,0),c);break t}Kg(l,s,ln,ho,Bh,n,yn,ha,nr,os,f,null,-0,0)}}break}while(!0);di(t)}function Kg(t,n,s,l,c,f,g,E,w,B,P,F,j,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},qg(n,f,F);var lt=(f&62914560)===f?oo-Ze():(f&4194048)===f?Fg-Ze():0;if(lt=BE(F,lt),lt!==null){Li=f,t.cancelPendingCommit=lt(ip.bind(null,t,n,f,s,l,c,g,E,w,P,F,null,j,q)),ds(t,f,g,!B);return}}ip(t,n,f,s,l,c,g,E,w)}function tE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ds(t,n,s,l){n&=~Lh,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ue(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&ks(t,s,n)}function fo(){return(qt&6)===0?(Rl(0),!1):!0}function Hh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,Ci=na=null,sh(t),Xa=null,ll=0,t=Ct;for(;t!==null;)Cg(t.alternate,t),t=t.return;Ct=null}}function sr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,EE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Li=0,Hh(),$t=t,Ct=s=bi(t.current,null),Dt=n,Gt=0,pn=null,os=!1,er=Un(t,n),zh=!1,nr=yn=Lh=ha=cs=le=0,ln=Sl=null,Bh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ue(l),f=1<<c;n|=t[c],l&=~f}return zi=n,Mu(),s}function Zg(t,n){At=null,H.H=gl,n===Ya||n===qu?(n=fm(),Gt=3):n===Qc?(n=fm(),Gt=4):Gt=n===Eh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Ct===null&&(le=1,eo(t,Cn(n,t.current)))}function $g(){var t=mn.current;return t===null?!0:(Dt&4194048)===Dt?On===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===On:!1}function Jg(){var t=H.H;return H.H=gl,t===null?gl:t}function Wg(){var t=H.A;return H.A=J0,t}function mo(){le=4,os||(Dt&4194048)!==Dt&&mn.current!==null||(er=!0),(cs&134217727)===0&&(ha&134217727)===0||$t===null||ds($t,Dt,yn,!1)}function Ph(t,n,s){var l=qt;qt|=2;var c=Jg(),f=Wg();($t!==t||Dt!==n)&&(ho=null,sr(t,n)),n=!1;var g=le;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,w=pn;switch(Gt){case 8:Hh(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var B=Gt;if(Gt=0,pn=null,ar(t,E,w,B),s&&er){g=0;break t}break;default:B=Gt,Gt=0,pn=null,ar(t,E,w,B)}}eE(),g=le;break}catch(P){Zg(t,P)}while(!0);return n&&t.shellSuspendCounter++,Ci=na=null,qt=l,H.H=c,H.A=f,Ct===null&&($t=null,Dt=0,Mu()),g}function eE(){for(;Ct!==null;)tp(Ct)}function nE(t,n){var s=qt;qt|=2;var l=Jg(),c=Wg();$t!==t||Dt!==n?(ho=null,co=Ze()+500,sr(t,n)):er=Un(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=pn;e:switch(Gt){case 1:Gt=0,pn=null,ar(t,n,f,1);break;case 2:case 9:if(cm(f)){Gt=0,pn=null,ep(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),di(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:cm(f)?(Gt=0,pn=null,ep(n)):(Gt=0,pn=null,ar(t,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?kp(g):E.stateNode.complete){Gt=0,pn=null;var w=E.sibling;if(w!==null)Ct=w;else{var B=E.return;B!==null?(Ct=B,go(B)):Ct=null}break e}}Gt=0,pn=null,ar(t,n,f,5);break;case 6:Gt=0,pn=null,ar(t,n,f,6);break;case 8:Hh(),le=6;break t;default:throw Error(r(462))}}iE();break}catch(P){Zg(t,P)}while(!0);return Ci=na=null,H.H=l,H.A=c,qt=s,Ct!==null?0:($t=null,Dt=0,Mu(),le)}function iE(){for(;Ct!==null&&!vc();)tp(Ct)}function tp(t){var n=bg(t.alternate,t,zi);t.memoizedProps=t.pendingProps,n===null?go(t):Ct=n}function ep(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=_g(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=_g(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:sh(n);default:Cg(s,n),n=Ct=Wd(n,zi),n=bg(s,n,zi)}t.memoizedProps=t.pendingProps,n===null?go(t):Ct=n}function ar(t,n,s,l){Ci=na=null,sh(n),Xa=null,ll=0;var c=n.return;try{if(F0(t,c,n,s,Dt)){le=1,eo(t,Cn(s,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,eo(t,Cn(s,t.current)),Ct=null;return}n.flags&32768?(Ot||l===1?t=!0:er||(Dt&536870912)!==0?t=!1:(os=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),np(n,t)):go(n)}function go(t){var n=t;do{if((n.flags&32768)!==0){np(n,os);return}t=n.return;var s=X0(n.alternate,n,zi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);le===0&&(le=5)}function np(t,n){do{var s=K0(t.alternate,t);if(s!==null){s.flags&=32767,Ct=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=s}while(t!==null);le=6,Ct=null}function ip(t,n,s,l,c,f,g,E,w){t.cancelPendingCommit=null;do po();while(Ne!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=xc,Ac(t,s,f,g,E,w),t===$t&&(Ct=$t=null,Dt=0),ir=n,fs=t,Li=s,jh=f,kh=c,Qg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lE(Pi,function(){return up(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,g=qt,qt|=4;try{Z0(t,n,s)}finally{qt=g,et.p=c,H.T=l}}Ne=1,sp(),ap(),rp()}}function sp(){if(Ne===1){Ne=0;var t=fs,n=ir,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{Bg(n,t);var f=ef,g=Gd(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Pd(E.ownerDocument.documentElement,E)){if(w!==null&&Cc(E)){var B=w.start,P=w.end;if(P===void 0&&(P=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(P,E.value.length);else{var F=E.ownerDocument||document,j=F&&F.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,dt=Math.min(w.start,lt),Kt=w.end===void 0?dt:Math.min(w.end,lt);!q.extend&&dt>Kt&&(g=Kt,Kt=dt,dt=g);var I=Hd(E,dt),O=Hd(E,Kt);if(I&&O&&(q.rangeCount!==1||q.anchorNode!==I.node||q.anchorOffset!==I.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=F.createRange();L.setStart(I.node,I.offset),q.removeAllRanges(),dt>Kt?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Do=!!tf,ef=tf=null}finally{qt=c,et.p=l,H.T=s}}t.current=n,Ne=2}}function ap(){if(Ne===2){Ne=0;var t=fs,n=ir,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{Mg(t,n.alternate,n)}finally{qt=c,et.p=l,H.T=s}}Ne=3}}function rp(){if(Ne===4||Ne===3){Ne=0,au();var t=fs,n=ir,s=Li,l=Qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,ir=fs=null,lp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(hs=null),Ei(s),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(In,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Li&3)!==0&&po(),di(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===qh?bl++:(bl=0,qh=t):bl=0,Rl(0)}}function lp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function po(){return sp(),ap(),rp(),up()}function up(){if(Ne!==5)return!1;var t=fs,n=jh;jh=0;var s=Ei(Li),l=H.T,c=et.p;try{et.p=32>s?32:s,H.T=null,s=kh,kh=null;var f=fs,g=Li;if(Ne=0,ir=fs=null,Li=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,Pg(f.current),kg(f,f.current,g,s),qt=E,Rl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(In,f)}catch{}return!0}finally{et.p=c,H.T=l,lp(t,n)}}function op(t,n,s){n=Cn(s,n),n=vh(t.stateNode,n,2),t=as(t,n,2),t!==null&&(js(t,2),di(t))}function Ft(t,n,s){if(t.tag===3)op(t,t,s);else for(;n!==null;){if(n.tag===3){op(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){t=Cn(s,t),s=cg(2),l=as(n,s,2),l!==null&&(hg(s,l,n,t),js(l,2),di(l));break}}n=n.return}}function Gh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new W0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(zh=!0,c.add(s),t=sE.bind(null,t,n,s),n.then(t,t))}function sE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,$t===t&&(Dt&s)===s&&(le===4||le===3&&(Dt&62914560)===Dt&&300>Ze()-oo?(qt&2)===0&&sr(t,0):Lh|=s,nr===Dt&&(nr=0)),di(t)}function cp(t,n){n===0&&(n=hu()),t=Ws(t,n),t!==null&&(js(t,n),di(t))}function aE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),cp(t,s)}function rE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),cp(t,s)}function lE(t,n){return De(t,n)}var yo=null,rr=null,Fh=!1,_o=!1,Qh=!1,ms=0;function di(t){t!==rr&&t.next===null&&(rr===null?yo=rr=t:rr=rr.next=t),_o=!0,Fh||(Fh=!0,oE())}function Rl(t,n){if(!Qh&&_o){Qh=!0;do for(var s=!1,l=yo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ue(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,mp(l,f))}else f=Dt,f=Kn(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(s=!0,mp(l,f));l=l.next}while(s);Qh=!1}}function uE(){hp()}function hp(){_o=Fh=!1;var t=0;ms!==0&&vE()&&(t=ms);for(var n=Ze(),s=null,l=yo;l!==null;){var c=l.next,f=fp(l,n);f===0?(l.next=null,s===null?yo=c:s.next=c,c===null&&(rr=s)):(s=l,(t!==0||(f&3)!==0)&&(_o=!0)),l=c}Ne!==0&&Ne!==5||Rl(t),ms!==0&&(ms=0)}function fp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ue(f),E=1<<g,w=c[g];w===-1?((E&s)===0||(E&l)!==0)&&(c[g]=Tc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,s=Dt,s=Kn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Hi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Un(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Hi(l),Ei(s)){case 2:case 8:s=Ur;break;case 32:s=Pi;break;case 268435456:s=ru;break;default:s=Pi}return l=dp.bind(null,t),s=De(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Hi(l),t.callbackPriority=2,t.callbackNode=null,2}function dp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(po()&&t.callbackNode!==s)return null;var l=Dt;return l=Kn(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xg(t,l,n),fp(t,Ze()),t.callbackNode!=null&&t.callbackNode===s?dp.bind(null,t):null)}function mp(t,n){if(po())return null;Xg(t,n,!0)}function oE(){TE(function(){(qt&6)!==0?De(Ir,uE):hp()})}function Yh(){if(ms===0){var t=Fa;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),ms=t}return ms}function gp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function pp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function cE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=gp((c[Ve]||null).action),g=l.submitter;g&&(n=(n=g[Ve]||null)?gp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ri("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ms!==0){var w=g?pp(c,g):new FormData(c);dh(s,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?pp(c,g):new FormData(c),dh(s,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Xh=0;Xh<Oc.length;Xh++){var Kh=Oc[Xh],hE=Kh.toLowerCase(),fE=Kh[0].toUpperCase()+Kh.slice(1);Pn(hE,"on"+fE)}Pn(Yd,"onAnimationEnd"),Pn(Xd,"onAnimationIteration"),Pn(Kd,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(D0,"onTransitionRun"),Pn(N0,"onTransitionStart"),Pn(O0,"onTransitionCancel"),Pn(Zd,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function yp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(P){Vu(P)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(P){Vu(P)}c.currentTarget=null,f=w}}}}function wt(t,n){var s=n[Ra];s===void 0&&(s=n[Ra]=new Set);var l=t+"__bubble";s.has(l)||(_p(n,t,2,!1),s.add(l))}function Zh(t,n,s){var l=0;n&&(l|=4),_p(s,t,l,n)}var vo="_reactListening"+Math.random().toString(36).slice(2);function $h(t){if(!t[vo]){t[vo]=!0,Br.forEach(function(s){s!=="selectionchange"&&(dE.has(s)||Zh(s,!1,t),Zh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vo]||(n[vo]=!0,Zh("selectionchange",!1,n))}}function _p(t,n,s,l){switch(Yp(n)){case 2:var c=qE;break;case 8:c=HE;break;default:c=df}s=c.bind(null,n,s,t),c=void 0,!Fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function Jh(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Wn(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Ki(function(){var B=f,P=An(s),F=[];t:{var j=$d.get(t);if(j!==void 0){var q=ri,lt=t;switch(t){case"keypress":if(Ys(s)===0)break t;case"keydown":case"keyup":q=Nu;break;case"focusin":lt="focus",q=Ks;break;case"focusout":lt="blur",q=Ks;break;case"beforeblur":case"afterblur":q=Ks;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Yd:case Xd:case Kd:q=Au;break;case Zd:q=T;break;case"scroll":case"scrollend":q=Zr;break;case"wheel":q=k;break;case"copy":case"cut":case"paste":q=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Si;break;case"toggle":case"beforetoggle":q=Tt}var dt=(n&4)!==0,Kt=!dt&&(t==="scroll"||t==="scrollend"),I=dt?j!==null?j+"Capture":null:j;dt=[];for(var O=B,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||I===null||(G=jn(O,I),G!=null&&dt.push(wl(O,G,L))),Kt)break;O=O.return}0<dt.length&&(j=new q(j,lt,null,s,P),F.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&s!==Yr&&(lt=s.relatedTarget||s.fromElement)&&(Wn(lt)||lt[$n]))break t;if((q||j)&&(j=P.window===P?P:(j=P.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=B,lt=lt?Wn(lt):null,lt!==null&&(Kt=h(lt),dt=lt.tag,lt!==Kt||dt!==5&&dt!==27&&dt!==6)&&(lt=null)):(q=null,lt=B),q!==lt)){if(dt=$r,G="onMouseLeave",I="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Si,G="onPointerLeave",I="onPointerEnter",O="pointer"),Kt=q==null?j:cn(q),L=lt==null?j:cn(lt),j=new dt(G,O+"leave",q,s,P),j.target=Kt,j.relatedTarget=L,G=null,Wn(P)===B&&(dt=new dt(I,O+"enter",lt,s,P),dt.target=L,dt.relatedTarget=Kt,G=dt),Kt=G,q&&lt)e:{for(dt=mE,I=q,O=lt,L=0,G=I;G;G=dt(G))L++;G=0;for(var ot=O;ot;ot=dt(ot))G++;for(;0<L-G;)I=dt(I),L--;for(;0<G-L;)O=dt(O),G--;for(;L--;){if(I===O||O!==null&&I===O.alternate){dt=I;break e}I=dt(I),O=dt(O)}dt=null}else dt=null;q!==null&&vp(F,j,q,dt,!1),lt!==null&&Kt!==null&&vp(F,Kt,lt,dt,!0)}}t:{if(j=B?cn(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=zd;else if(Id(j))if(Ld)Bt=R0;else{Bt=S0;var ut=A0}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Na(B.elementType)&&(Bt=zd):Bt=b0;if(Bt&&(Bt=Bt(t,B))){Ud(F,Bt,s,P);break t}ut&&ut(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Gr(j,"number",j.value)}switch(ut=B?cn(B):window,t){case"focusin":(Id(ut)||ut.contentEditable==="true")&&(La=ut,wc=B,nl=null);break;case"focusout":nl=wc=La=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,Fd(F,s,P);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":Fd(F,s,P)}var bt;if(kt)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else za?Zs(t,s)&&(Nt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(oi&&s.locale!=="ko"&&(za||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&za&&(bt=Kr()):(ai=P,Xr="value"in ai?ai.value:ai.textContent,za=!0)),ut=Eo(B,Nt),0<ut.length&&(Nt=new ui(Nt,t,null,s,P),F.push({event:Nt,listeners:ut}),bt?Nt.data=bt:(bt=Ua(s),bt!==null&&(Nt.data=bt)))),(bt=bn?_0(t,s):v0(t,s))&&(Nt=Eo(B,"onBeforeInput"),0<Nt.length&&(ut=new ui("onBeforeInput","beforeinput",null,s,P),F.push({event:ut,listeners:Nt}),ut.data=bt)),cE(F,t,B,s,P)}yp(F,n)})}function wl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Eo(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jn(t,s),c!=null&&l.unshift(wl(t,c,f)),c=jn(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function mE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vp(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=jn(s,f),B!=null&&g.unshift(wl(s,B,w))):c||(B=jn(s,f),B!=null&&g.push(wl(s,B,w)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var gE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function Ep(t){return(typeof t=="string"?t:""+t).replace(gE,`
`).replace(pE,"")}function Tp(t,n){return n=Ep(n),Ep(t)===n}function Xt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,s,l);break;case"style":Qr(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Oa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Oa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vu.get(s)||s,wa(t,s,l))}}function Wh(t,n,s,l,c,f){switch(s){case"style":Qr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):wa(t,s,l)}}}function Pe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,f,g,s,null)}}c&&Xt(t,n,"srcSet",s.srcSet,s,null),l&&Xt(t,n,"src",s.src,s,null);return;case"input":wt("invalid",t);var E=f=g=c=null,w=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var P=s[l];if(P!=null)switch(l){case"name":c=P;break;case"type":g=P;break;case"checked":w=P;break;case"defaultChecked":B=P;break;case"value":f=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Xt(t,n,l,P,s,null)}}pu(t,f,E,w,B,g,c,!1);return;case"select":wt("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Fi(t,!!l,n,!1):s!=null&&Fi(t,!!l,s,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(t,n,g,E,s,null)}Qi(t,l,c,f);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,s,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)wt(Cl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,B,l,s,null)}return;default:if(Na(n)){for(P in s)s.hasOwnProperty(P)&&(l=s[P],l!==void 0&&Wh(t,n,P,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(t,n,E,l,s,null))}function yE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,B=null,P=null;for(q in s){var F=s[q];if(s.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=F;default:l.hasOwnProperty(q)||Xt(t,n,q,null,l,F)}}for(var j in l){var q=l[j];if(F=s[j],l.hasOwnProperty(j)&&(q!=null||F!=null))switch(j){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":P=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==F&&Xt(t,n,j,q,l,F)}}Da(t,g,E,w,B,P,f,c);return;case"select":q=g=E=j=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=s[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(t,n,c,f,l,w)}n=E,s=g,l=q,j!=null?Fi(t,!!s,j,!1):!!l!=!!s&&(n!=null?Fi(t,!!s,n,!0):Fi(t,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":j=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}yu(t,j,q);return;case"option":for(var lt in s)if(j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Xt(t,n,lt,null,l,j)}for(w in l)if(j=l[w],q=s[w],l.hasOwnProperty(w)&&j!==q&&(j!=null||q!=null))switch(w){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(t,n,w,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)j=s[dt],s.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt)&&Xt(t,n,dt,null,l,j);for(B in l)if(j=l[B],q=s[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Xt(t,n,B,j,l,q)}return;default:if(Na(n)){for(var Kt in s)j=s[Kt],s.hasOwnProperty(Kt)&&j!==void 0&&!l.hasOwnProperty(Kt)&&Wh(t,n,Kt,void 0,l,j);for(P in l)j=l[P],q=s[P],!l.hasOwnProperty(P)||j===q||j===void 0&&q===void 0||Wh(t,n,P,j,l,q);return}}for(var I in s)j=s[I],s.hasOwnProperty(I)&&j!=null&&!l.hasOwnProperty(I)&&Xt(t,n,I,null,l,j);for(F in l)j=l[F],q=s[F],!l.hasOwnProperty(F)||j===q||j==null&&q==null||Xt(t,n,F,j,l,q)}function Ap(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _E(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Ap(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var w=s[l],B=w.startTime;if(B>E)break;var P=w.transferSize,F=w.initiatorType;P&&Ap(F)&&(w=w.responseEnd,g+=P*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tf=null,ef=null;function To(t){return t.nodeType===9?t:t.ownerDocument}function Sp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function nf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function vE(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,EE=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,TE=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(t){return Cp.resolve(null).then(t).catch(AE)}:Rp;function AE(t){setTimeout(function(){throw t})}function gs(t){return t==="head"}function wp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),cr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Dl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Dl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Jn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Dl(t.ownerDocument.body);s=c}while(s);cr(n)}function Dp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":af(s),Ca(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function SE(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Jn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function bE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=xn(t.nextSibling),t===null))return null;return t}function Np(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xn(t.nextSibling),t===null))return null;return t}function rf(t){return t.data==="$?"||t.data==="$~"}function lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function RE(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var uf=null;function Op(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return xn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Vp(t,n,s){switch(n=To(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ca(t)}var Vn=new Map,Mp=new Set;function Ao(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=et.d;et.d={f:CE,r:wE,D:DE,C:NE,L:OE,m:xE,X:ME,S:VE,M:IE};function CE(){var t=Bi.f(),n=fo();return t||n}function wE(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?Zm(n):Bi.r(t)}var lr=typeof document>"u"?null:document;function Ip(t,n,s){var l=lr;if(l&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Mp.has(c)||(Mp.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function DE(t){Bi.D(t),Ip("dns-prefetch",t,null)}function NE(t,n){Bi.C(t,n),Ip("preconnect",t,n)}function OE(t,n,s){Bi.L(t,n,s);var l=lr;if(l&&t&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(t)+'"]';var f=c;switch(n){case"style":f=ur(t);break;case"script":f=or(t)}Vn.has(f)||(t=D({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),Pe(n,"link",t),_e(n),l.head.appendChild(n)))}}function xE(t,n){Bi.m(t,n);var s=lr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=or(t)}if(!Vn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Vn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ol(f)))return}l=s.createElement("link"),Pe(l,"link",t),_e(l),s.head.appendChild(l)}}}function VE(t,n,s){Bi.S(t,n,s);var l=lr;if(l&&t){var c=ti(l).hoistableStyles,f=ur(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Nl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Vn.get(f))&&of(t,s);var w=g=l.createElement("link");_e(w),Pe(w,"link",t),w._p=new Promise(function(B,P){w.onload=B,w.onerror=P}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,So(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function ME(t,n){Bi.X(t,n);var s=lr;if(s&&t){var l=ti(s).hoistableScripts,c=or(t),f=l.get(c);f||(f=s.querySelector(Ol(c)),f||(t=D({src:t,async:!0},n),(n=Vn.get(c))&&cf(t,n),f=s.createElement("script"),_e(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function IE(t,n){Bi.M(t,n);var s=lr;if(s&&t){var l=ti(s).hoistableScripts,c=or(t),f=l.get(c);f||(f=s.querySelector(Ol(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&cf(t,n),f=s.createElement("script"),_e(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Up(t,n,s,l){var c=(c=St.current)?Ao(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ur(s.href),s=ti(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ur(s.href);var f=ti(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Nl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(t,s),f||UE(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=or(s),s=ti(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ur(t){return'href="'+en(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function zp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function UE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",s),_e(n),t.head.appendChild(n))}function or(t){return'[src="'+en(t)+'"]'}function Ol(t){return"script[async]"+t}function Lp(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(s.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=D({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),Pe(l,"style",c),So(l,s.precedence,t),n.instance=l;case"stylesheet":c=ur(s.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=zp(s),(c=Vn.get(c))&&of(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Pe(f,"link",l),n.state.loading|=4,So(f,s.precedence,t),n.instance=f;case"script":return f=or(s.src),(c=t.querySelector(Ol(f)))?(n.instance=c,_e(c),c):(l=s,(c=Vn.get(f))&&(l=D({},s),cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,So(l,s.precedence,t));return n.instance}function So(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bo=null;function Bp(t,n,s){if(bo===null){var l=new Map,c=bo=new Map;c.set(s,l)}else c=bo,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[Jn]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function jp(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function zE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function LE(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ur(l.href),f=n.querySelector(Nl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ro.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,l=zp(l),(c=Vn.get(c))&&of(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),Pe(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ro.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var hf=0;function BE(t,n){return t.stylesheets&&t.count===0&&wo(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&wo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&hf===0&&(hf=62500*_E());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>hf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Co=null;function wo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Co=new Map,n.forEach(jE,t),Co=null,Ro.call(t))}function jE(t,n){if(!(n.state.loading&4)){var s=Co.get(t);if(s)var l=s.get(null);else{s=new Map,Co.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Ro.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function kE(t,n,s,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function qp(t,n,s,l,c,f,g,E,w,B,P,F){return t=new kE(t,n,s,g,w,B,P,F,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=Pc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Yc(f),t}function Hp(t){return t?(t=ka,t):ka}function Pp(t,n,s,l,c,f){c=Hp(c),l.context===null?l.context=c:l.pendingContext=c,l=ss(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=as(t,l,n),s!==null&&(un(s,t,n),ol(s,t,n))}function Gp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function ff(t,n){Gp(t,n),(t=t.alternate)&&Gp(t,n)}function Fp(t){if(t.tag===13||t.tag===31){var n=Ws(t,67108864);n!==null&&un(n,t,67108864),ff(t,67108864)}}function Qp(t){if(t.tag===13||t.tag===31){var n=_n();n=qs(n);var s=Ws(t,n);s!==null&&un(s,t,n),ff(t,n)}}var Do=!0;function qE(t,n,s,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,df(t,n,s,l)}finally{et.p=f,H.T=c}}function HE(t,n,s,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,df(t,n,s,l)}finally{et.p=f,H.T=c}}function df(t,n,s,l){if(Do){var c=mf(l);if(c===null)Jh(t,n,l,No,s),Xp(t,l);else if(GE(c,t,n,s,l))l.stopPropagation();else if(Xp(t,l),n&4&&-1<PE.indexOf(t)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Xn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ue(g);E.entanglements[1]|=w,g&=~w}di(f),(qt&6)===0&&(co=Ze()+500,Rl(0))}}break;case 31:case 13:E=Ws(f,2),E!==null&&un(E,f,2),fo(),ff(f,2)}if(f=mf(l),f===null&&Jh(t,n,l,No,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Jh(t,n,l,null,s)}}function mf(t){return t=An(t),gf(t)}var No=null;function gf(t){if(No=null,t=Wn(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return No=t,null}function Yp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ls()){case Ir:return 2;case Ur:return 8;case Pi:case Ec:return 32;case ru:return 268435456;default:return 32}default:return 32}}var pf=!1,ps=null,ys=null,_s=null,Vl=new Map,Ml=new Map,vs=[],PE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(t,n){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Il(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&Fp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function GE(t,n,s,l,c){switch(n){case"focusin":return ps=Il(ps,t,n,s,l,c),!0;case"dragenter":return ys=Il(ys,t,n,s,l,c),!0;case"mouseover":return _s=Il(_s,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,Il(Vl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Il(Ml.get(f)||null,t,n,s,l,c)),!0}return!1}function Kp(t){var n=Wn(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,zn(t.priority,function(){Qp(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,zn(t.priority,function(){Qp(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=mf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Yr=l,s.target.dispatchEvent(l),Yr=null}else return n=Tn(s),n!==null&&Fp(n),t.blockedOn=s,!1;n.shift()}return!0}function Zp(t,n,s){Oo(t)&&s.delete(n)}function FE(){pf=!1,ps!==null&&Oo(ps)&&(ps=null),ys!==null&&Oo(ys)&&(ys=null),_s!==null&&Oo(_s)&&(_s=null),Vl.forEach(Zp),Ml.forEach(Zp)}function xo(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,FE)))}var Vo=null;function $p(t){Vo!==t&&(Vo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vo===t&&(Vo=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(gf(l||s)===null)continue;break}var f=Tn(s);f!==null&&(t.splice(n,3),n-=3,dh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function cr(t){function n(w){return xo(w,t)}ps!==null&&xo(ps,t),ys!==null&&xo(ys,t),_s!==null&&xo(_s,t),Vl.forEach(n),Ml.forEach(n);for(var s=0;s<vs.length;s++){var l=vs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vs.length&&(s=vs[0],s.blockedOn===null);)Kp(s),s.blockedOn===null&&vs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Ve]||null;if(typeof f=="function")g||$p(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ve]||null)E=g.formAction;else if(gf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),$p(s)}}}function Jp(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function yf(t){this._internalRoot=t}Mo.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=_n();Pp(s,l,t,n,null,null)},Mo.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Pp(t.current,2,null,t,null,null),fo(),n[$n]=null}};function Mo(t){this._internalRoot=t}Mo.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<vs.length&&n!==0&&n<vs[s].priority;s++);vs.splice(s,0,t),s===0&&Kp(t)}};var Wp=e.version;if(Wp!=="19.2.0")throw Error(r(527,Wp,"19.2.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var QE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{In=Io.inject(QE),Be=Io}catch{}}return zl.createRoot=function(t,n){if(!u(t))throw Error(r(299));var s=!1,l="",c=rg,f=lg,g=ug;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=qp(t,1,!1,null,null,s,l,null,c,f,g,Jp),t[$n]=n.current,$h(t),new yf(n)},zl.hydrateRoot=function(t,n,s){if(!u(t))throw Error(r(299));var l=!1,c="",f=rg,g=lg,E=ug,w=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=qp(t,1,!0,n,s??null,l,c,w,f,g,E,Jp),n.context=Hp(null),s=n.current,l=_n(),l=qs(l),c=ss(l),c.callback=null,as(s,c,l),s=l,n.current.lanes=s,js(n,s),di(n),t[$n]=n.current,$h(t),new Mo(n)},zl.version="19.2.0",zl}var oy;function n1(){if(oy)return Ef.exports;oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ef.exports=e1(),Ef.exports}var i1=n1();const s1=()=>{};var cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},a1=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const u=a[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],y=a[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},w_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,y=d?a[u+1]:0,v=u+2<a.length,_=v?a[u+2]:0,A=h>>2,D=(h&3)<<4|y>>4;let U=(y&15)<<2|_>>6,X=_&63;v||(X=64,d||(U=64)),r.push(i[A],i[D],i[U],i[X])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(C_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):a1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],y=u<a.length?i[a.charAt(u)]:0;++u;const _=u<a.length?i[a.charAt(u)]:64;++u;const D=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||y==null||_==null||D==null)throw new r1;const U=h<<2|y>>4;if(r.push(U),_!==64){const X=y<<4&240|_>>2;if(r.push(X),D!==64){const $=_<<6&192|D;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l1=function(a){const e=C_(a);return w_.encodeByteArray(e,!0)},Xo=function(a){return l1(a).replace(/\./g,"")},u1=function(a){try{return w_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=()=>o1().__FIREBASE_DEFAULTS__,h1=()=>{if(typeof process>"u"||typeof cy>"u")return;const a=cy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},f1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&u1(a[1]);return e&&JSON.parse(e)},ud=()=>{try{return s1()||c1()||h1()||f1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},d1=a=>ud()?.emulatorHosts?.[a],D_=a=>{const e=d1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},N_=()=>ud()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O_(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Xo(JSON.stringify(i)),Xo(JSON.stringify(d)),""].join(".")}const ql={};function g1(){const a={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?a.emulator.push(e):a.prod.push(e);return a}function p1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let hy=!1;function V_(a,e){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||ql[a]===e||ql[a]||hy)return;ql[a]=e;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",h=g1().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function y(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,X){U.setAttribute("width","24"),U.setAttribute("id",X),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{hy=!0,d()},U}function A(U,X){U.setAttribute("id",X),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function D(){const U=p1(r),X=i("text"),$=document.getElementById(X)||document.createElement("span"),it=i("learnmore"),Z=document.getElementById(it)||document.createElement("a"),pt=i("preprendIcon"),Rt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const ft=U.element;y(ft),A(Z,it);const Et=_();v(Rt,pt),ft.append(Rt,$,Z,Et),document.body.appendChild(ft)}h?($.innerText="Preview backend disconnected.",Rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _1(){const a=ud()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v1(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E1(){try{return typeof indexedDB=="object"}catch{return!1}}function T1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="FirebaseError";class va extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=A1,Object.setPrototypeOf(this,va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M_.prototype.create)}}class M_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?S1(h,r):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new va(u,y,r)}}function S1(a,e){return a.replace(b1,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const b1=/\{\$([^}]+)}/g;function Ko(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=a[u],d=e[u];if(fy(h)&&fy(d)){if(!Ko(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function fy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(a){return a&&a._delegate?a._delegate:a}class Er{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new m1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w1(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(u)}return u}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(r)??new Set;u.add(e),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&e(h,r),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C1(a){return a===fa?void 0:a}function w1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new R1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(It||(It={}));const N1={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},O1=It.INFO,x1={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},V1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),u=x1[e];if(u)console[u](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I_{constructor(e){this.name=e,this._logLevel=O1,this._logHandler=V1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const M1=(a,e)=>e.some(i=>a instanceof i);let dy,my;function I1(){return dy||(dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U_=new WeakMap,Uf=new WeakMap,z_=new WeakMap,bf=new WeakMap,od=new WeakMap;function z1(a){const e=new Promise((i,r)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ss(a.result)),u()},d=()=>{r(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&U_.set(i,a)}).catch(()=>{}),od.set(e,a),e}function L1(a){if(Uf.has(a))return;const e=new Promise((i,r)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Uf.set(a,e)}let zf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Uf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||z_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ss(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function B1(a){zf=a(zf)}function j1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Rf(this),e,...i);return z_.set(r,e.sort?e.sort():[e]),Ss(r)}:U1().includes(a)?function(...e){return a.apply(Rf(this),e),Ss(U_.get(this))}:function(...e){return Ss(a.apply(Rf(this),e))}}function k1(a){return typeof a=="function"?j1(a):(a instanceof IDBTransaction&&L1(a),M1(a,I1())?new Proxy(a,zf):a)}function Ss(a){if(a instanceof IDBRequest)return z1(a);if(bf.has(a))return bf.get(a);const e=k1(a);return e!==a&&(bf.set(a,e),od.set(e,a)),e}const Rf=a=>od.get(a);function q1(a,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),y=Ss(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ss(d.result),v.oldVersion,v.newVersion,Ss(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const H1=["get","getKey","getAll","getAllKeys","count"],P1=["put","add","delete","clear"],Cf=new Map;function gy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=P1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||H1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Cf.set(e,h),h}B1(a=>({...a,get:(e,i,r)=>gy(e,i)||a.get(e,i,r),has:(e,i)=>!!gy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(F1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function F1(a){return a.getComponent()?.type==="VERSION"}const Lf="@firebase/app",py="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new I_("@firebase/app"),Q1="@firebase/app-compat",Y1="@firebase/analytics-compat",X1="@firebase/analytics",K1="@firebase/app-check-compat",Z1="@firebase/app-check",$1="@firebase/auth",J1="@firebase/auth-compat",W1="@firebase/database",tT="@firebase/data-connect",eT="@firebase/database-compat",nT="@firebase/functions",iT="@firebase/functions-compat",sT="@firebase/installations",aT="@firebase/installations-compat",rT="@firebase/messaging",lT="@firebase/messaging-compat",uT="@firebase/performance",oT="@firebase/performance-compat",cT="@firebase/remote-config",hT="@firebase/remote-config-compat",fT="@firebase/storage",dT="@firebase/storage-compat",mT="@firebase/firestore",gT="@firebase/ai",pT="@firebase/firestore-compat",yT="firebase",_T="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",vT={[Lf]:"fire-core",[Q1]:"fire-core-compat",[X1]:"fire-analytics",[Y1]:"fire-analytics-compat",[Z1]:"fire-app-check",[K1]:"fire-app-check-compat",[$1]:"fire-auth",[J1]:"fire-auth-compat",[W1]:"fire-rtdb",[tT]:"fire-data-connect",[eT]:"fire-rtdb-compat",[nT]:"fire-fn",[iT]:"fire-fn-compat",[sT]:"fire-iid",[aT]:"fire-iid-compat",[rT]:"fire-fcm",[lT]:"fire-fcm-compat",[uT]:"fire-perf",[oT]:"fire-perf-compat",[cT]:"fire-rc",[hT]:"fire-rc-compat",[fT]:"fire-gcs",[dT]:"fire-gcs-compat",[mT]:"fire-fst",[pT]:"fire-fst-compat",[gT]:"fire-vertex","fire-js":"fire-js",[yT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Map,ET=new Map,jf=new Map;function yy(a,e){try{a.container.addComponent(e)}catch(i){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Yl(a){const e=a.name;if(jf.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;jf.set(e,a);for(const i of Zo.values())yy(i,a);for(const i of ET.values())yy(i,a);return!0}function L_(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function B_(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new M_("app","Firebase",TT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=_T;function k_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Bf,automaticDataCollectionEnabled:!0,...e},u=r.name;if(typeof u!="string"||!u)throw bs.create("bad-app-name",{appName:String(u)});if(i||(i=N_()),!i)throw bs.create("no-options");const h=Zo.get(u);if(h){if(Ko(i,h.options)&&Ko(r,h.config))return h;throw bs.create("duplicate-app",{appName:u})}const d=new D1(u);for(const v of jf.values())d.addComponent(v);const y=new AT(i,r,d);return Zo.set(u,y),y}function q_(a=Bf){const e=Zo.get(a);if(!e&&a===Bf&&N_())return k_();if(!e)throw bs.create("no-app",{appName:a});return e}function Rs(a,e,i){let r=vT[a]??a;i&&(r+=`-${i}`);const u=r.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${r}" with version "${e}":`];u&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}Yl(new Er(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebase-heartbeat-database",bT=1,Xl="firebase-heartbeat-store";let wf=null;function H_(){return wf||(wf=q1(ST,bT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(a=>{throw bs.create("idb-open",{originalErrorMessage:a.message})})),wf}async function RT(a){try{const i=(await H_()).transaction(Xl),r=await i.objectStore(Xl).get(P_(a));return await i.done,r}catch(e){if(e instanceof va)ji.warn(e.message);else{const i=bs.create("idb-get",{originalErrorMessage:e?.message});ji.warn(i.message)}}}async function _y(a,e){try{const r=(await H_()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,P_(a)),await r.done}catch(i){if(i instanceof va)ji.warn(i.message);else{const r=bs.create("idb-set",{originalErrorMessage:i?.message});ji.warn(r.message)}}}function P_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=1024,wT=30;class DT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new OT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>wT){const u=xT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vy(),{heartbeatsToSend:i,unsentEntries:r}=NT(this._heartbeatsCache.heartbeats),u=Xo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ji.warn(e),""}}}function vy(){return new Date().toISOString().substring(0,10)}function NT(a,e=CT){const i=[];let r=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Ey(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Ey(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class OT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E1()?T1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _y(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _y(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ey(a){return Xo(JSON.stringify({version:2,heartbeats:a})).length}function xT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(a){Yl(new Er("platform-logger",e=>new G1(e),"PRIVATE")),Yl(new Er("heartbeat",e=>new DT(e),"PRIVATE")),Rs(Lf,py,a),Rs(Lf,py,"esm2020"),Rs("fire-js","")}VT("");var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,G_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function C(){}C.prototype=S.prototype,R.F=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,N,M){for(var b=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)b[Zt-2]=arguments[Zt];return S.prototype[N].apply(V,b)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(R,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],N=R.g[2];let M=R.g[3],b;b=S+(M^C&(N^M))+V[0]+3614090360&4294967295,S=C+(b<<7&4294967295|b>>>25),b=M+(N^S&(C^N))+V[1]+3905402710&4294967295,M=S+(b<<12&4294967295|b>>>20),b=N+(C^M&(S^C))+V[2]+606105819&4294967295,N=M+(b<<17&4294967295|b>>>15),b=C+(S^N&(M^S))+V[3]+3250441966&4294967295,C=N+(b<<22&4294967295|b>>>10),b=S+(M^C&(N^M))+V[4]+4118548399&4294967295,S=C+(b<<7&4294967295|b>>>25),b=M+(N^S&(C^N))+V[5]+1200080426&4294967295,M=S+(b<<12&4294967295|b>>>20),b=N+(C^M&(S^C))+V[6]+2821735955&4294967295,N=M+(b<<17&4294967295|b>>>15),b=C+(S^N&(M^S))+V[7]+4249261313&4294967295,C=N+(b<<22&4294967295|b>>>10),b=S+(M^C&(N^M))+V[8]+1770035416&4294967295,S=C+(b<<7&4294967295|b>>>25),b=M+(N^S&(C^N))+V[9]+2336552879&4294967295,M=S+(b<<12&4294967295|b>>>20),b=N+(C^M&(S^C))+V[10]+4294925233&4294967295,N=M+(b<<17&4294967295|b>>>15),b=C+(S^N&(M^S))+V[11]+2304563134&4294967295,C=N+(b<<22&4294967295|b>>>10),b=S+(M^C&(N^M))+V[12]+1804603682&4294967295,S=C+(b<<7&4294967295|b>>>25),b=M+(N^S&(C^N))+V[13]+4254626195&4294967295,M=S+(b<<12&4294967295|b>>>20),b=N+(C^M&(S^C))+V[14]+2792965006&4294967295,N=M+(b<<17&4294967295|b>>>15),b=C+(S^N&(M^S))+V[15]+1236535329&4294967295,C=N+(b<<22&4294967295|b>>>10),b=S+(N^M&(C^N))+V[1]+4129170786&4294967295,S=C+(b<<5&4294967295|b>>>27),b=M+(C^N&(S^C))+V[6]+3225465664&4294967295,M=S+(b<<9&4294967295|b>>>23),b=N+(S^C&(M^S))+V[11]+643717713&4294967295,N=M+(b<<14&4294967295|b>>>18),b=C+(M^S&(N^M))+V[0]+3921069994&4294967295,C=N+(b<<20&4294967295|b>>>12),b=S+(N^M&(C^N))+V[5]+3593408605&4294967295,S=C+(b<<5&4294967295|b>>>27),b=M+(C^N&(S^C))+V[10]+38016083&4294967295,M=S+(b<<9&4294967295|b>>>23),b=N+(S^C&(M^S))+V[15]+3634488961&4294967295,N=M+(b<<14&4294967295|b>>>18),b=C+(M^S&(N^M))+V[4]+3889429448&4294967295,C=N+(b<<20&4294967295|b>>>12),b=S+(N^M&(C^N))+V[9]+568446438&4294967295,S=C+(b<<5&4294967295|b>>>27),b=M+(C^N&(S^C))+V[14]+3275163606&4294967295,M=S+(b<<9&4294967295|b>>>23),b=N+(S^C&(M^S))+V[3]+4107603335&4294967295,N=M+(b<<14&4294967295|b>>>18),b=C+(M^S&(N^M))+V[8]+1163531501&4294967295,C=N+(b<<20&4294967295|b>>>12),b=S+(N^M&(C^N))+V[13]+2850285829&4294967295,S=C+(b<<5&4294967295|b>>>27),b=M+(C^N&(S^C))+V[2]+4243563512&4294967295,M=S+(b<<9&4294967295|b>>>23),b=N+(S^C&(M^S))+V[7]+1735328473&4294967295,N=M+(b<<14&4294967295|b>>>18),b=C+(M^S&(N^M))+V[12]+2368359562&4294967295,C=N+(b<<20&4294967295|b>>>12),b=S+(C^N^M)+V[5]+4294588738&4294967295,S=C+(b<<4&4294967295|b>>>28),b=M+(S^C^N)+V[8]+2272392833&4294967295,M=S+(b<<11&4294967295|b>>>21),b=N+(M^S^C)+V[11]+1839030562&4294967295,N=M+(b<<16&4294967295|b>>>16),b=C+(N^M^S)+V[14]+4259657740&4294967295,C=N+(b<<23&4294967295|b>>>9),b=S+(C^N^M)+V[1]+2763975236&4294967295,S=C+(b<<4&4294967295|b>>>28),b=M+(S^C^N)+V[4]+1272893353&4294967295,M=S+(b<<11&4294967295|b>>>21),b=N+(M^S^C)+V[7]+4139469664&4294967295,N=M+(b<<16&4294967295|b>>>16),b=C+(N^M^S)+V[10]+3200236656&4294967295,C=N+(b<<23&4294967295|b>>>9),b=S+(C^N^M)+V[13]+681279174&4294967295,S=C+(b<<4&4294967295|b>>>28),b=M+(S^C^N)+V[0]+3936430074&4294967295,M=S+(b<<11&4294967295|b>>>21),b=N+(M^S^C)+V[3]+3572445317&4294967295,N=M+(b<<16&4294967295|b>>>16),b=C+(N^M^S)+V[6]+76029189&4294967295,C=N+(b<<23&4294967295|b>>>9),b=S+(C^N^M)+V[9]+3654602809&4294967295,S=C+(b<<4&4294967295|b>>>28),b=M+(S^C^N)+V[12]+3873151461&4294967295,M=S+(b<<11&4294967295|b>>>21),b=N+(M^S^C)+V[15]+530742520&4294967295,N=M+(b<<16&4294967295|b>>>16),b=C+(N^M^S)+V[2]+3299628645&4294967295,C=N+(b<<23&4294967295|b>>>9),b=S+(N^(C|~M))+V[0]+4096336452&4294967295,S=C+(b<<6&4294967295|b>>>26),b=M+(C^(S|~N))+V[7]+1126891415&4294967295,M=S+(b<<10&4294967295|b>>>22),b=N+(S^(M|~C))+V[14]+2878612391&4294967295,N=M+(b<<15&4294967295|b>>>17),b=C+(M^(N|~S))+V[5]+4237533241&4294967295,C=N+(b<<21&4294967295|b>>>11),b=S+(N^(C|~M))+V[12]+1700485571&4294967295,S=C+(b<<6&4294967295|b>>>26),b=M+(C^(S|~N))+V[3]+2399980690&4294967295,M=S+(b<<10&4294967295|b>>>22),b=N+(S^(M|~C))+V[10]+4293915773&4294967295,N=M+(b<<15&4294967295|b>>>17),b=C+(M^(N|~S))+V[1]+2240044497&4294967295,C=N+(b<<21&4294967295|b>>>11),b=S+(N^(C|~M))+V[8]+1873313359&4294967295,S=C+(b<<6&4294967295|b>>>26),b=M+(C^(S|~N))+V[15]+4264355552&4294967295,M=S+(b<<10&4294967295|b>>>22),b=N+(S^(M|~C))+V[6]+2734768916&4294967295,N=M+(b<<15&4294967295|b>>>17),b=C+(M^(N|~S))+V[13]+1309151649&4294967295,C=N+(b<<21&4294967295|b>>>11),b=S+(N^(C|~M))+V[4]+4149444226&4294967295,S=C+(b<<6&4294967295|b>>>26),b=M+(C^(S|~N))+V[11]+3174756917&4294967295,M=S+(b<<10&4294967295|b>>>22),b=N+(S^(M|~C))+V[2]+718787259&4294967295,N=M+(b<<15&4294967295|b>>>17),b=C+(M^(N|~S))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+M&4294967295}r.prototype.v=function(R,S){S===void 0&&(S=R.length);const C=S-this.blockSize,V=this.C;let N=this.h,M=0;for(;M<S;){if(N==0)for(;M<=C;)u(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<S;)if(V[N++]=R.charCodeAt(M++),N==this.blockSize){u(this,V),N=0;break}}else for(;M<S;)if(V[N++]=R[M++],N==this.blockSize){u(this,V),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[S++]=this.g[C]>>>V&255;return R};function h(R,S){var C=y;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function d(R,S){this.h=S;const C=[];let V=!0;for(let N=R.length-1;N>=0;N--){const M=R[N]|0;V&&M==S||(C[N]=M,V=!1)}this.g=C}var y={};function v(R){return-128<=R&&R<128?h(R,function(S){return new d([S|0],S<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return D;if(R<0)return Z(_(-R));const S=[];let C=1;for(let V=0;R>=C;V++)S[V]=R/C|0,C*=4294967296;return new d(S,0)}function A(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return Z(A(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let V=D;for(let M=0;M<R.length;M+=8){var N=Math.min(8,R.length-M);const b=parseInt(R.substring(M,M+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(b))):(V=V.j(C),V=V.add(_(b)))}return V}var D=v(0),U=v(1),X=v(16777216);a=d.prototype,a.m=function(){if(it(this))return-Z(this).m();let R=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*S,S*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if($(this))return"0";if(it(this))return"-"+Z(this).toString(R);const S=_(Math.pow(R,6));var C=this;let V="";for(;;){const N=Et(C,S).g;C=pt(C,N.j(S));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=N,$(C))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function $(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function it(R){return R.h==-1}a.l=function(R){return R=pt(this,R),it(R)?-1:$(R)?0:1};function Z(R){const S=R.g.length,C=[];for(let V=0;V<S;V++)C[V]=~R.g[V];return new d(C,~R.h).add(U)}a.abs=function(){return it(this)?Z(this):this},a.add=function(R){const S=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let M=V+(this.i(N)&65535)+(R.i(N)&65535),b=(M>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);V=b>>>16,M&=65535,b&=65535,C[N]=b<<16|M}return new d(C,C[C.length-1]&-2147483648?-1:0)};function pt(R,S){return R.add(Z(S))}a.j=function(R){if($(this)||$(R))return D;if(it(this))return it(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(it(R))return Z(this.j(Z(R)));if(this.l(X)<0&&R.l(X)<0)return _(this.m()*R.m());const S=this.g.length+R.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<R.g.length;N++){const M=this.i(V)>>>16,b=this.i(V)&65535,Zt=R.i(N)>>>16,ie=R.i(N)&65535;C[2*V+2*N]+=b*ie,Rt(C,2*V+2*N),C[2*V+2*N+1]+=M*ie,Rt(C,2*V+2*N+1),C[2*V+2*N+1]+=b*Zt,Rt(C,2*V+2*N+1),C[2*V+2*N+2]+=M*Zt,Rt(C,2*V+2*N+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new d(C,0)};function Rt(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function ft(R,S){this.g=R,this.h=S}function Et(R,S){if($(S))throw Error("division by zero");if($(R))return new ft(D,D);if(it(R))return S=Et(Z(R),S),new ft(Z(S.g),Z(S.h));if(it(S))return S=Et(R,Z(S)),new ft(Z(S.g),S.h);if(R.g.length>30){if(it(R)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var C=U,V=S;V.l(R)<=0;)C=rt(C),V=rt(V);var N=tt(C,1),M=tt(V,1);for(V=tt(V,2),C=tt(C,2);!$(V);){var b=M.add(V);b.l(R)<=0&&(N=N.add(C),M=b),V=tt(V,1),C=tt(C,1)}return S=pt(R,N.j(S)),new ft(N,S)}for(N=D;R.l(S)>=0;){for(C=Math.max(1,Math.floor(R.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=_(C),b=M.j(S);it(b)||b.l(R)>0;)C-=V,M=_(C),b=M.j(S);$(M)&&(M=U),N=N.add(M),R=pt(R,b)}return new ft(N,R)}a.B=function(R){return Et(this,R).h},a.and=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&R.i(V);return new d(C,this.h&R.h)},a.or=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|R.i(V);return new d(C,this.h|R.h)},a.xor=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^R.i(V);return new d(C,this.h^R.h)};function rt(R){const S=R.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(C,R.h)}function tt(R,S){const C=S>>5;S%=32;const V=R.g.length-C,N=[];for(let M=0;M<V;M++)N[M]=S>0?R.i(M+C)>>>S|R.i(M+C+1)<<32-S:R.i(M+C);return new d(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,G_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Cs=d}).apply(typeof Ty<"u"?Ty:typeof self<"u"?self:typeof window<"u"?window:{});var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F_,Bl,Q_,Po,kf,Y_,X_,K_;(function(){var a,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uo=="object"&&Uo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in p))break t;p=p[z]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function A(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function D(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,z,k){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[z].apply(T,J)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function X(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=o.length||0;const k=z.length||0;o.length=p+k;for(let J=0;J<k;J++)o[p+J]=z[J]}else o.push(z)}}class it{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(o){d.setTimeout(()=>{throw o},0)}function pt(){var o=R;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Rt{constructor(){this.h=this.g=null}add(m,p){const T=ft.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new it(()=>new Et,o=>o.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,tt=!1,R=new Rt,S=()=>{const o=Promise.resolve(void 0);rt=()=>{o.then(C)}};function C(){for(var o;o=pt();){try{o.h.call(o.g)}catch(p){Z(p)}var m=ft;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function b(o){return/^[\s\xa0]*$/.test(o)}function Zt(o,m){N.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}D(Zt,N),Zt.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(o,m,p,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++H,this.da=this.fa=!1}function ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function zt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Ht(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function x(o){const m={};for(const p in o)m[p]=o[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(o,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)o[p]=T[p];for(let k=0;k<Q.length;k++)p=Q[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function st(o){this.src=o,this.g={},this.h=0}st.prototype.add=function(o,m,p,T,z){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const J=St(o,m,T,z);return J>-1?(m=o[J],p||(m.fa=!1)):(m=new et(m,this.src,k,!!T,z),m.fa=p,o.push(m)),m};function gt(o,m){const p=m.type;if(p in o.g){var T=o.g[p],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=z>=0)&&Array.prototype.splice.call(T,z,1),k&&(ht(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function St(o,m,p,T){for(let z=0;z<o.length;++z){const k=o[z];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return z}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),we={};function te(o,m,p,T,z){if(Array.isArray(m)){for(let k=0;k<m.length;k++)te(o,m[k],p,T,z);return null}return p=Mr(p),o&&o[ie]?o.J(m,p,y(T)?!!T.capture:!1,z):Us(o,m,p,!1,T,z)}function Us(o,m,p,T,z,k){if(!m)throw Error("Invalid event type");const J=y(z)?!!z.capture:!!z;let Tt=zs(o);if(Tt||(o[Vt]=Tt=new st(o)),p=Tt.add(m,p,T,J,k),p.proxy)return p;if(T=Ta(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)M||(z=J),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Qn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ta(){function o(p){return m.call(o.src,o.listener,p)}const m=xr;return o}function Aa(o,m,p,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Aa(o,m[k],p,T,z);else T=y(T)?!!T.capture:!!T,p=Mr(p),o&&o[ie]?(o=o.i,k=String(m).toString(),k in o.g&&(m=o.g[k],p=St(m,p,T,z),p>-1&&(ht(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[k],o.h--)))):o&&(o=zs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=St(m,p,T,z)),(p=o>-1?m[o]:null)&&Sa(p))}function Sa(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ie])gt(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Qn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=zs(m))?(gt(p,o),p.h==0&&(p.src=null,m[Vt]=null)):ht(o)}}}function Qn(o){return o in we?we[o]:we[o]="on"+o}function xr(o,m){if(o.da)o=!0;else{m=new Zt(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&Sa(o),o=p.call(T,m)}return o}function zs(o){return o=o[Vt],o instanceof st?o:null}var Vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mr(o){return typeof o=="function"?o:(o[Vr]||(o[Vr]=function(m){return o.handleEvent(m)}),o[Vr])}function ge(){V.call(this),this.i=new st(this),this.M=this,this.G=null}D(ge,V),ge.prototype[ie]=!0,ge.prototype.removeEventListener=function(o,m,p,T){Aa(this,o,m,p,T)};function De(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new N(m,o);else if(m instanceof N)m.target=m.target||o;else{var z=m;m=new N(T,o),nt(m,z)}z=!0;let k,J;if(p)for(J=p.length-1;J>=0;J--)k=m.g=p[J],z=Hi(k,T,!0,m)&&z;if(k=m.g=o,z=Hi(k,T,!0,m)&&z,z=Hi(k,T,!1,m)&&z,p)for(J=0;J<p.length;J++)k=m.g=p[J],z=Hi(k,T,!1,m)&&z}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ht(p[T]);delete o.g[m],o.h--}}this.G=null},ge.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ge.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Hi(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let k=0;k<m.length;++k){const J=m[k];if(J&&!J.da&&J.capture==p){const Tt=J.listener,oe=J.ha||J.src;J.fa&&gt(o.i,J),z=Tt.call(oe,T)!==!1&&z}}return z&&!T.defaultPrevented}function vc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function au(o){o.g=vc(()=>{o.g=null,o.i&&(o.i=!1,au(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ze extends V{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(o){V.call(this),this.h=o,this.g={}}D(Ls,V);var Ir=[];function Ur(o){zt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Sa(m)},o),o.g={}}Ls.prototype.N=function(){Ls.Z.N.call(this),Ur(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=d.JSON.stringify,Ec=d.JSON.parse,ru=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function lu(){}function uu(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){N.call(this,"d")}D(Be,N);function En(){N.call(this,"c")}D(En,N);var ue={},ou=null;function ba(){return ou=ou||new ge}ue.Ia="serverreachability";function cu(o){N.call(this,ue.Ia,o)}D(cu,N);function Yn(o){const m=ba();De(m,new cu(m))}ue.STAT_EVENT="statevent";function Bs(o,m){N.call(this,ue.STAT_EVENT,o),this.stat=m}D(Bs,N);function pe(o){const m=ba();De(m,new Bs(m,o))}ue.Ja="timingevent";function Xn(o,m){N.call(this,ue.Ja,o),this.size=m}D(Xn,N);function Kn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Tc(o,m,p,T,z,k){o.info(function(){if(o.g)if(k){var J="",Tt=k.split("&");for(let kt=0;kt<Tt.length;kt++){var oe=Tt[kt].split("=");if(oe.length>1){const ee=oe[0];oe=oe[1];const bn=ee.split("_");J=bn.length>=2&&bn[1]=="type"?J+(ee+"="+oe+"&"):J+(ee+"=redacted&")}}}else J=null;else J=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+J})}function hu(o,m,p,T,z,k,J){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+k+" "+J})}function Zn(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ac(o,p)+(T?" "+T:"")})}function js(o,m){o.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Ac(o,m){if(!o.g)return m;if(!m)return null;try{const k=JSON.parse(m);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var p=k[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return Pi(k)}catch{return m}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lr;function qs(){}D(qs,lu),qs.prototype.g=function(){return new XMLHttpRequest},Lr=new qs;function Ei(o){return encodeURIComponent(String(o))}function fu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function zn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new Ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function $n(o,m,p){o.M=1,o.A=Hs(ve(m)),o.u=p,o.R=!0,Ra(o,null)}function Ra(o,m){o.F=Date.now(),Jn(o),o.B=ve(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Na(p.i,"t",T),o.C=0,p=o.j.L,o.h=new Ln,o.g=wu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ze(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ir[0]=z.toString()),z=Ir);for(let k=0;k<z.length;k++){const J=te(p,z[k],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.J?x(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Yn(),Tc(o.i,o.v,o.B,o.l,o.S,o.u)}zn.prototype.ba=function(o){o=o.target;const m=this.O;m&&kn(o)==3?m.j():this.Y(o)},zn.prototype.Y=function(o){try{if(o==this.g)t:{const Tt=kn(this.g),oe=this.g.ya(),kt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||oe==7||(oe==8||kt<=0?Yn(3):Yn(2)),Wn(this);var m=this.g.ca();this.X=m;var p=Sc(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var k=T;break e}}k=null}if(o=k)Zn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,o);else{this.o=!1,this.m=3,pe(12),cn(this),Tn(this);break t}}if(this.R){o=!0;let ee;for(;!this.K&&this.C<p.length;)if(ee=mu(this,p),ee==Ve){Tt==4&&(this.m=4,pe(14),o=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ee==ye){this.m=4,pe(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Zn(this.i,this.l,ee,null),ti(this,ee);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||p.length!=0||this.h.h||(this.m=1,pe(16),o=!1),this.o=this.o&&o,!o)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(p.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Jr(J),J.P=!0,pe(11))}}else Zn(this.i,this.l,p,null),ti(this,p);Tt==4&&cn(this),this.o&&!this.K&&(Tt==4?Su(this.j,this):(this.o=!1,Jn(this)))}else Ai(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),Tn(this)}}}catch{}finally{}};function Sc(o){if(!du(o))return o.g.la();const m=je(o.g);if(m==="")return"";let p="";const T=m.length,z=kn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return cn(o),Tn(o),"";o.h.i=new d.TextDecoder}for(let k=0;k<T;k++)o.h.h=!0,p+=o.h.i.decode(m[k],{stream:!(z&&k==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function du(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function mu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ve:(p=Number(m.substring(p,T)),isNaN(p)?ye:(T+=1,T+p>m.length?Ve:(m=m.slice(T,T+p),o.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,cn(this)};function Jn(o){o.T=Date.now()+o.H,Ca(o,o.H)}function Ca(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Kn(_(o.aa,o),m)}function Wn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}zn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(js(this.i,this.B),this.M!=2&&(Yn(),pe(17)),cn(this),this.m=2,Tn(this)):Ca(this,this.T-o)};function Tn(o){o.j.I==0||o.K||Su(o.j,o)}function cn(o){Wn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Ur(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ti(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ni(p.h,o))){if(!o.L&&ni(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Ia(p),$i(p);else break t;Ks(p),pe(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Kn(_(p.Va,p),6e3));ei(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((o.L||p.g==o)&&Ia(p),!b(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let kt=z[m];const ee=kt[0];if(!(ee<=p.K))if(p.K=ee,kt=kt[1],p.I==2)if(kt[0]=="c"){p.M=kt[1],p.ba=kt[2];const bn=kt[3];bn!=null&&(p.ka=bn,p.j.info("VER="+p.ka));const oi=kt[4];oi!=null&&(p.za=oi,p.j.info("SVER="+p.za));const qn=kt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Hn=o.g;if(Hn){const Zs=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var k=T.h;k.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(kr(k,k.h),k.h=null))}if(T.G){const Ua=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(T.wa=Ua,Pt(T.J,T.G,Ua))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var J=o;if(T.na=Cu(T,T.L?T.ba:null,T.W),J.L){qr(T.h,J);var Tt=J,oe=T.O;oe&&(Tt.H=oe),Tt.D&&(Wn(Tt),Jn(Tt)),T.g=J}else Tu(T);p.i.length>0&&li(p)}else kt[0]!="stop"&&kt[0]!="close"||ui(p,7);else p.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?ui(p,7):Zr(p):kt[0]!="noop"&&p.l&&p.l.qa(kt),p.A=0)}}Yn(4)}catch{}}var _e=class{constructor(o,m){this.g=o,this.map=m}};function Br(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ei(o){return o.h?1:o.g?o.g.size:0}function ni(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function kr(o,m){o.g?o.g.add(m):o.h=m}function qr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Br.prototype.cancel=function(){if(this.i=Hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Hr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return X(o.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let z,k=null;T>=0?(z=o[p].substring(0,T),k=o[p].substring(T+1)):z=o[p],m(z,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function hn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof hn?(this.l=o.l,Me(this,o.j),this.o=o.o,this.g=o.g,Gi(this,o.u),this.h=o.h,Pr(this,vu(o.i)),this.m=o.m):o&&(m=String(o).match(gu))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),Gi(this,m[4]),this.h=ii(m[5]||"",!0),Pr(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new Qi(null,this.l))}hn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Ps(m,Da,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ps(m,Da,!0),"@"),o.push(Ei(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Ps(p,p.charAt(0)=="/"?Gr:pu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Ps(p,yu)),o.join("")},hn.prototype.resolve=function(o){const m=ve(this);let p=!!o.j;p?Me(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Gi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const k=[];for(let J=0;J<z.length;){const Tt=z[J++];Tt=="."?T&&J==z.length&&k.push(""):Tt==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),T&&J==z.length&&k.push("")):(k.push(Tt),T=!0)}T=k.join("/")}else T=z}return p?m.h=T:p=o.i.toString()!=="",p?Pr(m,vu(o.i)):p=!!o.m,p&&(m.m=o.m),m};function ve(o){return new hn(o)}function Me(o,m,p){o.j=p?ii(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Gi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Pr(o,m,p){m instanceof Qi?(o.i=m,Oa(o.i,o.l)):(p||(m=Ps(m,Fi)),o.i=new Qi(m,o.l))}function Pt(o,m,p){o.i.set(m,p)}function Hs(o){return Pt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ii(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ps(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,en),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function en(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Da=/[#\/\?@]/g,pu=/[#\?:]/g,Gr=/[#\?]/g,Fi=/[#\?@]/g,yu=/#/g;function Qi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function nn(o){o.g||(o.g=new Map,o.h=0,o.i&&wa(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Qi.prototype,a.add=function(o,m){nn(this),this.i=null,o=Yi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function _u(o,m){nn(o),m=Yi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Fr(o,m){return nn(o),m=Yi(o,m),o.g.has(m)}a.forEach=function(o,m){nn(this),this.g.forEach(function(p,T){p.forEach(function(z){o.call(m,z,T,this)},this)},this)};function Qr(o,m){nn(o);let p=[];if(typeof m=="string")Fr(o,m)&&(p=p.concat(o.g.get(Yi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}a.set=function(o,m){return nn(this),this.i=null,o=Yi(this,o),Fr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=Qr(this,o),o.length>0?String(o[0]):m):m};function Na(o,m,p){_u(o,m),p.length>0&&(o.i=null,o.g.set(Yi(o,m),X(p)),o.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const z=Ei(p);p=Qr(this,p);for(let k=0;k<p.length;k++){let J=z;p[k]!==""&&(J+="="+Ei(p[k])),o.push(J)}}return this.i=o.join("&")};function vu(o){const m=new Qi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Yi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Oa(o,m){m&&!o.j&&(nn(o),o.i=null,o.g.forEach(function(p,T){const z=T.toLowerCase();T!=z&&(_u(this,T),Na(this,z,p))},o)),o.j=m}function Bn(o,m){const p=new Un;if(d.Image){const T=new Image;T.onload=A(An,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,p,"TestLoadImage: error",!1,m,T),T.onabort=A(An,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Yr(o,m){const p=new Un,T=new AbortController,z=setTimeout(()=>{T.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),An(p,"TestPingServer: error",!1,m)})}function An(o,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function Xi(){this.g=new ru}function si(o){this.i=o.Sb||null,this.h=o.ab||!1}D(si,lu),si.prototype.g=function(){return new Gs(this.i,this.h)};function Gs(o,m){ge.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}D(Gs,ge),a=Gs.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,jn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},a.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}a.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Ki(this):jn(this),this.readyState==3&&xa(this)}},a.Oa=function(o){this.g&&(this.response=this.responseText=o,Ki(this))},a.Na=function(o){this.g&&(this.response=o,Ki(this))},a.ga=function(){this.g&&Ki(this)};function Ki(o){o.readyState=4,o.l=null,o.j=null,o.B=null,jn(o)}a.setRequestHeader=function(o,m){this.A.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Sn(o){let m="";return zt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Fs(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Sn(p),typeof o=="string"?p!=null&&Ei(p):Pt(o,m,p))}function Qt(o){ge.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}D(Qt,ge);var ai=/^https?$/i,Xr=["POST","PUT"];a=Qt.prototype,a.Fa=function(o){this.H=o},a.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lr.g(),this.g.onreadystatechange=U(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){Qs(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),z=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Xr,m,void 0)>=0)||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,J]of p)this.g.setRequestHeader(k,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){Qs(this,k)}};function Qs(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Kr(o),Ti(o)}function Kr(o){o.A||(o.A=!0,De(o,"complete"),De(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,De(this,"complete"),De(this,"abort"),Ti(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Qt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},a.Xa=function(){Ys(this)};function Ys(o){if(o.h&&typeof h<"u"){if(o.v&&kn(o)==4)setTimeout(o.Ca.bind(o),0);else if(De(o,"readystatechange"),kn(o)==4){o.h=!1;try{const k=o.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=k===0){let J=String(o.D).match(gu)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ai.test(J?J.toLowerCase():"")}p=T}if(p)De(o,"complete"),De(o,"success");else{o.o=6;try{var z=kn(o)>2?o.g.statusText:""}catch{z=""}o.l=z+" ["+o.ca()+"]",Kr(o)}}finally{Ti(o)}}}}function Ti(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||De(o,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function kn(o){return o.g?o.g.readyState:0}a.ca=function(){try{return kn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ec(m)}};function je(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(o){const m={};o=(o.g&&kn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(b(o[T]))continue;var p=fu(o[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[z]||[];m[z]=k,k.push(p)}Ht(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Zi(o){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,o),this.Za=ri("retryDelaySeedMs",1e4,o),this.Ta=ri("forwardChannelMaxRetries",2,o),this.va=ri("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Br(o&&o.concurrentRequestLimit),this.Ba=new Xi,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Zi.prototype,a.ka=8,a.I=1,a.connect=function(o,m,p,T){pe(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Cu(this,null,this.W),li(this)};function Zr(o){if(Va(o),o.I==3){var m=o.V++,p=ve(o.J);if(Pt(p,"SID",o.M),Pt(p,"RID",m),Pt(p,"TYPE","terminate"),Xs(o,p),m=new zn(o,o.j,m),m.M=2,m.A=Hs(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Jn(m)}Ru(o)}function $i(o){o.g&&(Jr(o),o.g.cancel(),o.g=null)}function Va(o){$i(o),o.v&&(d.clearTimeout(o.v),o.v=null),Ia(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function li(o){if(!jr(o.h)&&!o.m){o.m=!0;var m=o.Ea;rt||S(),tt||(rt(),tt=!0),R.add(m,o),o.D=0}}function Ma(o,m){return ei(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Kn(_(o.Ea,o,m),bu(o,o.D)),o.D++,!0)}a.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const z=new zn(this,this.j,o);let k=this.o;if(this.U&&(k?(k=x(k),nt(k,this.U)):k=this.U),this.u!==null||this.R||(z.J=k,k=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Eu(this,z,m),p=ve(this.J),Pt(p,"RID",o),Pt(p,"CVER",22),this.G&&Pt(p,"X-HTTP-Session-Id",this.G),Xs(this,p),k&&(this.R?m="headers="+Ei(Sn(k))+"&"+m:this.u&&Fs(p,this.u,k)),kr(this.h,z),this.Ra&&Pt(p,"TYPE","init"),this.S?(Pt(p,"$req",m),Pt(p,"SID","null"),z.U=!0,$n(z,p,null)):$n(z,p,m),this.I=2}}else this.I==3&&(o?$r(this,o):this.i.length==0||jr(this.h)||$r(this))};function $r(o,m){var p;m?p=m.l:p=o.V++;const T=ve(o.J);Pt(T,"SID",o.M),Pt(T,"RID",p),Pt(T,"AID",o.K),Xs(o,T),o.u&&o.o&&Fs(T,o.u,o.o),p=new zn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Eu(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),kr(o.h,p),$n(p,T,m)}function Xs(o,m){o.H&&zt(o.H,function(p,T){Pt(m,T,p)}),o.l&&zt({},function(p,T){Pt(m,T,p)})}function Eu(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var z=o.i;let Tt=-1;for(;;){const oe=["count="+p];Tt==-1?p>0?(Tt=z[0].g,oe.push("ofs="+Tt)):Tt=0:oe.push("ofs="+Tt);let kt=!0;for(let ee=0;ee<p;ee++){var k=z[ee].g;const bn=z[ee].map;if(k-=Tt,k<0)Tt=Math.max(0,z[ee].g-100),kt=!1;else try{k="req"+k+"_"||"";try{var J=bn instanceof Map?bn:Object.entries(bn);for(const[oi,qn]of J){let Hn=qn;y(qn)&&(Hn=Pi(qn)),oe.push(k+oi+"="+encodeURIComponent(Hn))}}catch(oi){throw oe.push(k+"type="+encodeURIComponent("_badmap")),oi}}catch{T&&T(bn)}}if(kt){J=oe.join("&");break t}}J=void 0}return o=o.i.splice(0,p),m.G=o,J}function Tu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;rt||S(),tt||(rt(),tt=!0),R.add(m,o),o.A=0}}function Ks(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Kn(_(o.Da,o),bu(o,o.A)),o.A++,!0)}a.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Kn(_(this.Wa,this),o)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),$i(this),Au(this))};function Jr(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Au(o){o.g=new zn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=ve(o.na);Pt(m,"RID","rpc"),Pt(m,"SID",o.M),Pt(m,"AID",o.K),Pt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Pt(m,"TO",o.ia),Pt(m,"TYPE","xmlhttp"),Xs(o,m),o.u&&o.o&&Fs(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Hs(ve(m)),p.u=null,p.R=!0,Ra(p,o)}a.Va=function(){this.C!=null&&(this.C=null,$i(this),Ks(this),pe(19))};function Ia(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Su(o,m){var p=null;if(o.g==m){Ia(o),Jr(o),o.g=null;var T=2}else if(ni(o.h,m))p=m.G,qr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=o.D;T=ba(),De(T,new Xn(T,p)),li(o)}else Tu(o);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&Ma(o,m)||T==2&&Ks(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),z){case 1:ui(o,5);break;case 4:ui(o,10);break;case 3:ui(o,6);break;default:ui(o,2)}}}function bu(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ui(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const z=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),Hs(T),z?Bn(T.toString(),p):Yr(T.toString(),p)}else pe(2);o.I=0,o.l&&o.l.pa(m),Ru(o),Va(o)}a.bb=function(o){o?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function Ru(o){if(o.I=0,o.ja=[],o.l){const m=Hr(o.h);(m.length!=0||o.i.length!=0)&&($(o.ja,m),$(o.ja,o.i),o.h.i.length=0,X(o.i),o.i.length=0),o.l.oa()}}function Cu(o,m,p){var T=p instanceof hn?ve(p):new hn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const k=new hn(null);T&&Me(k,T),m&&(k.g=m),z&&Gi(k,z),p&&(k.h=p),T=k}return p=o.G,m=o.wa,p&&m&&Pt(T,p,m),Pt(T,"VER",o.ka),Xs(o,T),T}function wu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Qt(new si({ab:p})):new Qt(o.ma),m.Fa(o.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}a=Du.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ji(){}Ji.prototype.g=function(o,m){return new $e(o,m)};function $e(o,m){ge.call(this),this.g=new Zi(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!b(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Si(this)}D($e,ge),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Zr(this.g)},$e.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Pi(o),o=p);m.i.push(new _e(m.Ya++,o)),m.I==3&&li(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Zr(this.g),delete this.g,$e.Z.N.call(this)};function Nu(o){Be.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}D(Nu,Be);function Ou(){En.call(this),this.status=1}D(Ou,En);function Si(o){this.g=o}D(Si,Du),Si.prototype.ra=function(){De(this.g,"a")},Si.prototype.qa=function(o){De(this.g,new Nu(o))},Si.prototype.pa=function(o){De(this.g,new Ou)},Si.prototype.oa=function(){De(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,K_=function(){return new Ji},X_=function(){return ba()},Y_=ue,kf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Po=ks,zr.COMPLETE="complete",Q_=zr,uu.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Bl=uu,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,F_=Qt}).apply(typeof Uo<"u"?Uo:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore",Sy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new I_("@firebase/firestore");function hr(){return ya.logLevel}function at(a,...e){if(ya.logLevel<=It.DEBUG){const i=e.map(cd);ya.debug(`Firestore (${Dr}): ${a}`,...i)}}function ki(a,...e){if(ya.logLevel<=It.ERROR){const i=e.map(cd);ya.error(`Firestore (${Dr}): ${a}`,...i)}}function Tr(a,...e){if(ya.logLevel<=It.WARN){const i=e.map(cd);ya.warn(`Firestore (${Dr}): ${a}`,...i)}}function cd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Z_(a,r,i)}function Z_(a,e,i){let r=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ki(r),new Error(r)}function ae(a,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,a||Z_(e,u,r)}function Ut(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends va{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class IT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class UT{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ae(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ma,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ma)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new $_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class zT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new zT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class by{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,B_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ae(this.o===void 0,3512);const r=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new by(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ae(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new by(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=jT(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function xt(a,e){return a<e?-1:a>e?1:0}function qf(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const u=a.charAt(r),h=e.charAt(r);if(u!==h)return Df(u)===Df(h)?xt(u,h):Df(u)?1:-1}return xt(a.length,e.length)}const kT=55296,qT=57343;function Df(a){const e=a.charCodeAt(0);return e>=kT&&e<=qT}function Ar(a,e,i){return a.length===e.length&&a.every(((r,u)=>i(r,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="__name__";class mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&vt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=mi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return xt(e.length,i.length)}static compareSegments(e,i){const r=mi.isNumericId(e),u=mi.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?mi.extractNumericId(e).compare(mi.extractNumericId(i)):qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class se extends mi{construct(e,i,r){return new se(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((u=>u.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const HT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends mi{construct(e,i,r){return new tn(e,i,r)}static isValidIdentifier(e){return HT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ry}static keyField(){return new tn([Ry])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(r+=y,u++):(h(),u++)}if(h(),d)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(se.fromString(e))}static fromName(e){return new mt(se.fromString(e).popFirst(5))}static empty(){return new mt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new se(e.slice()))}}function PT(a,e,i,r){if(e===!0&&r===!0)throw new ct(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Cy(a){if(mt.isDocumentKey(a))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function GT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function FT(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function Hf(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=FT(a);throw new ct(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(a,e){const i={typeString:a};return e&&(i.value=e),i}function tu(a,e){if(!GT(a))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const u=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(u&&typeof d!==u){i=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ct(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-62135596800,Dy=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Dy);return new Re(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<wy)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Ce("string",Re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Re(0,0))}static max(){return new _t(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function QT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(r===1e9?new Re(i+1,0):new Re(i,r));return new Ns(u,mt.empty(),e)}function YT(a){return new Ns(a.readTime,a.key,Kl)}class Ns{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ns(_t.min(),mt.empty(),Kl)}static max(){return new Ns(_t.max(),mt.empty(),Kl)}}function XT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,e.documentKey),i!==0?i:xt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==KT)throw a;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y(((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.reject(i)}static resolve(e){return new Y(((i,r)=>{i(e)}))}static reject(e){return new Y(((i,r)=>{r(e)}))}static waitFor(e){return new Y(((i,r)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>r(v)))})),d=!0,h===u&&i()}))}static or(e){let i=Y.resolve(!1);for(const r of e)i=i.next((u=>u?Y.resolve(u):r()));return i}static forEach(e,i){const r=[];return e.forEach(((u,h)=>{r.push(i.call(this,u,h))})),this.waitFor(r)}static mapArray(e,i){return new Y(((r,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new Y(((r,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):r()};h()}))}}function $T(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=-1;function oc(a){return a==null}function Pf(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="";function WT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Ny(e)),e=tA(a.get(i),e);return Ny(e)}function tA(a,e){let i=e;const r=a.length;for(let u=0;u<r;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case W_:i+="";break;default:i+=h}}return i}function Ny(a){return a+W_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function eu(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function eA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new me(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zo(this.root,e,this.comparator,!0)}}class zo{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??Ge.RED,this.left=u??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new Ge(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Ge.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ts([])}unionWith(e){let i=new xe(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Ts(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ar(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new tv("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const nA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(a){if(ae(!!a,39018),typeof a=="string"){let e=0;const i=nA.exec(a);if(ae(!!i,46558,{timestamp:a}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function xs(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="server_timestamp",nv="__type__",iv="__previous_value__",sv="__local_write_time__";function hd(a){return(a?.mapValue?.fields||{})[nv]?.stringValue===ev}function cc(a){const e=a.mapValue.fields[iv];return hd(e)?cc(e):e}function Zl(a){const e=Os(a.mapValue.fields[sv].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,i,r,u,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const $o="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||$o}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===$o}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__type__",aA="__max__",Lo={mapValue:{}},rA="__vector__",Gf="value";function Vs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?hd(a)?4:uA(a)?9007199254740991:lA(a)?10:11:vt(28295,{value:a})}function _i(a,e){if(a===e)return!0;const i=Vs(a);if(i!==Vs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Zl(a).isEqual(Zl(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Os(u.timestampValue),y=Os(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(u,h){return xs(u.bytesValue).isEqual(xs(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(u,h){return de(u.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(a,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return de(u.integerValue)===de(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=de(u.doubleValue),y=de(h.doubleValue);return d===y?Pf(d)===Pf(y):isNaN(d)&&isNaN(y)}return!1})(a,e);case 9:return Ar(a.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Oy(d)!==Oy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!_i(d[v],y[v])))return!1;return!0})(a,e);default:return vt(52216,{left:a})}}function Jl(a,e){return(a.values||[]).find((i=>_i(i,e)))!==void 0}function Sr(a,e){if(a===e)return 0;const i=Vs(a),r=Vs(e);if(i!==r)return xt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(a,e);case 3:return Vy(a.timestampValue,e.timestampValue);case 4:return Vy(Zl(a),Zl(e));case 5:return qf(a.stringValue,e.stringValue);case 6:return(function(h,d){const y=xs(h),v=xs(d);return y.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=xt(y[_],v[_]);if(A!==0)return A}return xt(y.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=xt(de(h.latitude),de(d.latitude));return y!==0?y:xt(de(h.longitude),de(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return My(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[Gf]?.arrayValue,A=v[Gf]?.arrayValue,D=xt(_?.values?.length||0,A?.values?.length||0);return D!==0?D:My(_,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Lo.mapValue&&d===Lo.mapValue)return 0;if(h===Lo.mapValue)return 1;if(d===Lo.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const U=qf(v[D],A[D]);if(U!==0)return U;const X=Sr(y[v[D]],_[A[D]]);if(X!==0)return X}return xt(v.length,A.length)})(a.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function Vy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return xt(a,e);const i=Os(a),r=Os(e),u=xt(i.seconds,r.seconds);return u!==0?u:xt(i.nanos,r.nanos)}function My(a,e){const i=a.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=Sr(i[u],r[u]);if(h)return h}return xt(i.length,r.length)}function br(a){return Ff(a)}function Ff(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Os(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return xs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return mt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Ff(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Ff(i.fields[d])}`;return u+"}"})(a.mapValue):vt(61005,{value:a})}function Go(a){switch(Vs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cc(a);return e?16+Go(e):16;case 5:return 2*a.stringValue.length;case 6:return xs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,h)=>u+Go(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let u=0;return eu(r.fields,((h,d)=>{u+=h.length+Go(d)})),u})(a.mapValue);default:throw vt(13486,{value:a})}}function Qf(a){return!!a&&"integerValue"in a}function fd(a){return!!a&&"arrayValue"in a}function Iy(a){return!!a&&"nullValue"in a}function Uy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Nf(a){return!!a&&"mapValue"in a}function lA(a){return(a?.mapValue?.fields||{})[sA]?.stringValue===rA}function Hl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return eu(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Hl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(a.arrayValue.values[i]);return e}return{...a}}function uA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===aA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Nf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=tn.emptyPath(),r={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=y.popLast()}d?r[y.lastSegment()]=Hl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Nf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Nf(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){eu(i,((u,h)=>e[u]=h));for(const u of r)delete e[u]}clone(){return new gi(Hl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,r,u,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ke(e,0,_t.min(),_t.min(),_t.min(),gi.empty(),0)}static newFoundDocument(e,i,r,u){return new Ke(e,1,i,_t.min(),r,u,0)}static newNoDocument(e,i){return new Ke(e,2,i,_t.min(),_t.min(),gi.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,_t.min(),_t.min(),gi.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.position=e,this.inclusive=i}}function zy(a,e,i){let r=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?r=mt.comparator(mt.fromName(d.referenceValue),i.key):r=Sr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ly(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!_i(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i="asc"){this.field=e,this.dir=i}}function oA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{}class Oe extends av{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new hA(e,i,r):i==="array-contains"?new mA(e,r):i==="in"?new gA(e,r):i==="not-in"?new pA(e,r):i==="array-contains-any"?new yA(e,r):new Oe(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new fA(e,r):new dA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Sr(i,this.value)):i!==null&&Vs(this.value)===Vs(i)&&this.matchesComparison(Sr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends av{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new vi(e,i)}matches(e){return rv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rv(a){return a.op==="and"}function lv(a){return cA(a)&&rv(a)}function cA(a){for(const e of a.filters)if(e instanceof vi)return!1;return!0}function Yf(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+br(a.value);if(lv(a))return a.filters.map((e=>Yf(e))).join(",");{const e=a.filters.map((i=>Yf(i))).join(",");return`${a.op}(${e})`}}function uv(a,e){return a instanceof Oe?(function(r,u){return u instanceof Oe&&r.op===u.op&&r.field.isEqual(u.field)&&_i(r.value,u.value)})(a,e):a instanceof vi?(function(r,u){return u instanceof vi&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((h,d,y)=>h&&uv(d,u.filters[y])),!0):!1})(a,e):void vt(19439)}function ov(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${br(i.value)}`})(a):a instanceof vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(ov).join(" ,")+"}"})(a):"Filter"}class hA extends Oe{constructor(e,i,r){super(e,i,r),this.key=mt.fromName(r.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class fA extends Oe{constructor(e,i){super(e,"in",i),this.keys=cv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dA extends Oe{constructor(e,i){super(e,"not-in",i),this.keys=cv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function cv(a,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class mA extends Oe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return fd(i)&&Jl(i.arrayValue,this.value)}}class gA extends Oe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class pA extends Oe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class yA extends Oe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!fd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Jl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i=null,r=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function By(a,e=null,i=[],r=[],u=null,h=null,d=null){return new _A(a,e,i,r,u,h,d)}function dd(a){const e=Ut(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Yf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),oc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>br(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>br(r))).join(",")),e.Te=i}return e.Te}function md(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!oA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!uv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Ly(a.startAt,e.startAt)&&Ly(a.endAt,e.endAt)}function Xf(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i=null,r=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vA(a,e,i,r,u,h,d,y){return new hc(a,e,i,r,u,h,d,y)}function hv(a){return new hc(a)}function jy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function EA(a){return a.collectionGroup!==null}function Pl(a){const e=Ut(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new xe(tn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Wo(h,r))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new Wo(tn.keyField(),r))}return e.Ie}function yi(a){const e=Ut(a);return e.Ee||(e.Ee=TA(e,Pl(a))),e.Ee}function TA(a,e){if(a.limitType==="F")return By(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Wo(u.field,h)}));const i=a.endAt?new Jo(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Jo(a.startAt.position,a.startAt.inclusive):null;return By(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function Kf(a,e,i){return new hc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function fc(a,e){return md(yi(a),yi(e))&&a.limitType===e.limitType}function fv(a){return`${dd(yi(a))}|lt:${a.limitType}`}function fr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((u=>ov(u))).join(", ")}]`),oc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((u=>br(u))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((u=>br(u))).join(",")),`Target(${r})`})(yi(a))}; limitType=${a.limitType})`}function dc(a,e){return e.isFoundDocument()&&(function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):mt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,u){for(const h of Pl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0})(a,e)&&(function(r,u){return!(r.startAt&&!(function(d,y,v){const _=zy(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Pl(r),u)||r.endAt&&!(function(d,y,v){const _=zy(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Pl(r),u))})(a,e)}function AA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function dv(a){return(e,i)=>{let r=!1;for(const u of Pl(a)){const h=SA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function SA(a,e,i){const r=a.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Sr(v,_):vt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){eu(this.inner,((i,r)=>{for(const[u,h]of r)e(u,h)}))}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new me(mt.comparator);function Ms(){return bA}const mv=new me(mt.comparator);function jl(...a){let e=mv;for(const i of a)e=e.insert(i.key,i);return e}function RA(a){let e=mv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function da(){return Gl()}function gv(){return Gl()}function Gl(){return new Ea((a=>a.toString()),((a,e)=>a.isEqual(e)))}const CA=new xe(mt.comparator);function Lt(...a){let e=CA;for(const i of a)e=e.add(i);return e}const wA=new xe(xt);function DA(){return wA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function OA(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this._=void 0}}function xA(a,e,i){return a instanceof Zf?(function(u,h){const d={fields:{[nv]:{stringValue:ev},[sv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&hd(h)&&(h=cc(h)),h&&(d.fields[iv]=h),{mapValue:d}})(i,e):a instanceof tc?pv(a,e):a instanceof ec?yv(a,e):(function(u,h){const d=MA(u,h),y=ky(d)+ky(u.Ae);return Qf(d)&&Qf(u.Ae)?OA(y):NA(u.serializer,y)})(a,e)}function VA(a,e,i){return a instanceof tc?pv(a,e):a instanceof ec?yv(a,e):i}function MA(a,e){return a instanceof $f?(function(r){return Qf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class Zf extends mc{}class tc extends mc{constructor(e){super(),this.elements=e}}function pv(a,e){const i=_v(e);for(const r of a.elements)i.some((u=>_i(u,r)))||i.push(r);return{arrayValue:{values:i}}}class ec extends mc{constructor(e){super(),this.elements=e}}function yv(a,e){let i=_v(e);for(const r of a.elements)i=i.filter((u=>!_i(u,r)));return{arrayValue:{values:i}}}class $f extends mc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function ky(a){return de(a.integerValue||a.doubleValue)}function _v(a){return fd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function IA(a,e){return a.field.isEqual(e.field)&&(function(r,u){return r instanceof tc&&u instanceof tc||r instanceof ec&&u instanceof ec?Ar(r.elements,u.elements,_i):r instanceof $f&&u instanceof $f?_i(r.Ae,u.Ae):r instanceof Zf&&u instanceof Zf})(a.transform,e.transform)}class ga{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ga}static exists(e){return new ga(void 0,e)}static updateTime(e){return new ga(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fo(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class gd{}function vv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new zA(a.key,ga.none()):new pd(a.key,a.data,ga.none());{const i=a.data,r=gi.empty();let u=new xe(tn.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new gc(a.key,r,new Ts(u.toArray()),ga.none())}}function UA(a,e,i){a instanceof pd?(function(u,h,d){const y=u.value.clone(),v=Hy(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):a instanceof gc?(function(u,h,d){if(!Fo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=Hy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Ev(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(a,e,i,r){return a instanceof pd?(function(h,d,y,v){if(!Fo(h.precondition,d))return y;const _=h.value.clone(),A=Py(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,r):a instanceof gc?(function(h,d,y,v){if(!Fo(h.precondition,d))return y;const _=Py(h.fieldTransforms,v,d),A=d.data;return A.setAll(Ev(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((D=>D.field)))})(a,e,i,r):(function(h,d,y){return Fo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,e,i)}function qy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&Ar(r,u,((h,d)=>IA(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class pd extends gd{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gc extends gd{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Ev(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function Hy(a,e,i){const r=new Map;ae(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,y=e.data.field(h.field);r.set(h.field,VA(d,y,i[u]))}return r}function Py(a,e,i){const r=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);r.set(u.field,xA(h,d,e))}return r}class zA extends gd{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&UA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=gv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=vv(d,y);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&Ar(this.mutations,e.mutations,((i,r)=>qy(i,r)))&&Ar(this.baseMutations,e.baseMutations,((i,r)=>qy(i,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Mt;function Tv(a){if(a===void 0)return ki("GRPC error has no .code"),W.UNKNOWN;switch(a){case be.OK:return W.OK;case be.CANCELLED:return W.CANCELLED;case be.UNKNOWN:return W.UNKNOWN;case be.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case be.INTERNAL:return W.INTERNAL;case be.UNAVAILABLE:return W.UNAVAILABLE;case be.UNAUTHENTICATED:return W.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case be.NOT_FOUND:return W.NOT_FOUND;case be.ALREADY_EXISTS:return W.ALREADY_EXISTS;case be.PERMISSION_DENIED:return W.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case be.ABORTED:return W.ABORTED;case be.OUT_OF_RANGE:return W.OUT_OF_RANGE;case be.UNIMPLEMENTED:return W.UNIMPLEMENTED;case be.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:a})}}(Mt=be||(be={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new Cs([4294967295,4294967295],0);function Gy(a){const e=kA().encode(a),i=new G_;return i.update(e),new Uint8Array(i.digest())}function Fy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Cs([i,r],0),new Cs([u,h],0)]}class yd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Cs.fromNumber(this.ge)}ye(e,i,r){let u=e.add(i.multiply(Cs.fromNumber(r)));return u.compare(qA)===1&&(u=new Cs([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Gy(e),[r,u]=Fy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new yd(h,u,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Gy(e),[r,u]=Fy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new pc(_t.min(),u,new me(xt),Ms(),Lt())}}class nu{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new nu(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i,r,u){this.be=e,this.removedTargetIds=i,this.key=r,this.De=u}}class Av{constructor(e,i){this.targetId=e,this.Ce=i}}class Sv{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class Qy{constructor(){this.ve=0,this.Fe=Yy(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:vt(38017,{changeType:h})}})),new nu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Yy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=Bo(),this.He=Bo(),this.Ye=new me(xt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,r=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Xf(h))if(r===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,_t.min()))}else ae(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=xs(r).toUint8Array()}catch(v){if(v instanceof tv)return Tr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new yd(d,u,h)}catch(v){return Tr(v instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let u=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Xf(y.target)){const v=new mt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Lt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new pc(e,i,this.Ye,this.je,r);return this.je=Ms(),this.Je=Bo(),this.He=Bo(),this.Ye=new me(xt),u}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Qy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new xe(xt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new xe(xt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qy),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bo(){return new me(mt.comparator)}function Yy(){return new me(mt.comparator)}const PA={asc:"ASCENDING",desc:"DESCENDING"},GA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FA={and:"AND",or:"OR"};class QA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Jf(a,e){return a.useProto3Json||oc(e)?e:{value:e}}function YA(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function gr(a){return ae(!!a,49232),_t.fromTimestamp((function(i){const r=Os(i);return new Re(r.seconds,r.nanos)})(a))}function KA(a,e){return Wf(a,e).canonicalString()}function Wf(a,e){const i=(function(u){return new se(["projects",u.projectId,"databases",u.database])})(a).child("documents");return e===void 0?i:i.child(e)}function bv(a){const e=se.fromString(a);return ae(Nv(e),10190,{key:e.toString()}),e}function Of(a,e){const i=bv(e);if(i.get(1)!==a.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(Cv(i))}function Rv(a,e){return KA(a.databaseId,e)}function ZA(a){const e=bv(a);return e.length===4?se.emptyPath():Cv(e)}function Xy(a){return new se(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Cv(a){return ae(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function $A(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(ae(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(ae(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?W.UNKNOWN:Tv(_.code);return new ct(A,_.message||"")})(d);i=new Sv(r,u,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=Of(a,r.document.name),h=gr(r.document.updateTime),d=r.document.createTime?gr(r.document.createTime):_t.min(),y=new gi({mapValue:{fields:r.document.fields}}),v=Ke.newFoundDocument(u,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Qo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=Of(a,r.document),h=r.readTime?gr(r.readTime):_t.min(),d=Ke.newNoDocument(u,h),y=r.removedTargetIds||[];i=new Qo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=Of(a,r.document),h=r.removedTargetIds||[];i=new Qo([],h,u,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new jA(u,h),y=r.targetId;i=new Av(y,d)}}return i}function JA(a,e){return{documents:[Rv(a,e.path)]}}function WA(a,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Rv(a,u);const h=(function(_){if(_.length!==0)return Dv(vi.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(U){return{field:dr(U.field),direction:nS(U.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Jf(a,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function tS(a){let e=ZA(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){ae(r===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(D){const U=wv(D);return U instanceof vi&&lv(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(D){return D.map((U=>(function($){return new Wo(mr($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(U)))})(i.orderBy));let y=null;i.limit&&(y=(function(D){let U;return U=typeof D=="object"?D.value:D,oc(U)?null:U})(i.limit));let v=null;i.startAt&&(v=(function(D){const U=!!D.before,X=D.values||[];return new Jo(X,U)})(i.startAt));let _=null;return i.endAt&&(_=(function(D){const U=!D.before,X=D.values||[];return new Jo(X,U)})(i.endAt)),vA(e,u,d,h,y,"F",v,_)}function eS(a,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function wv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=mr(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=mr(i.unaryFilter.field);return Oe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=mr(i.unaryFilter.field);return Oe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mr(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(mr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return vi.create(i.compositeFilter.filters.map((r=>wv(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(a):vt(30097,{filter:a})}function nS(a){return PA[a]}function iS(a){return GA[a]}function sS(a){return FA[a]}function dr(a){return{fieldPath:a.canonicalString()}}function mr(a){return tn.fromServerFormat(a.fieldPath)}function Dv(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(Uy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NAN"}};if(Iy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NAN"}};if(Iy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dr(i.field),op:iS(i.op),value:i.value}}})(a):a instanceof vi?(function(i){const r=i.getFilters().map((u=>Dv(u)));return r.length===1?r[0]:{compositeFilter:{op:sS(i.op),filters:r}}})(a):vt(54877,{filter:a})}function Nv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,i,r,u,h=_t.min(),d=_t.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.yt=e}}function rS(a){const e=tS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.Cn=new uS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Ns.min())}updateCollectionGroup(e,i,r){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class uS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new xe(se.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new xe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ov=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Ov,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rr(0)}static cr(){return new Rr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LruGarbageCollector",oS=1048576;function $y([a,e],[i,r]){const u=xt(a,i);return u===0?xt(e,r):u}class cS{constructor(e){this.Ir=e,this.buffer=new xe($y),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();$y(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(Zy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nr(i)?at(Zy,"Ignoring IndexedDB error during garbage collection: ",i):await lc(i)}await this.Vr(3e5)}))}}class fS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(uc.ce);const r=new cS(i);return this.mr.forEachTarget(e,(u=>r.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>r.Ar(u))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Ky)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,u,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u)))).next((D=>(r=D,y=Date.now(),this.removeTargets(e,r,i)))).next((D=>(h=D,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((D=>(_=Date.now(),hr()<=It.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${D} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D}))))}}function dS(a,e){return new fS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.changes=new Ea((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(r=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(r!==null&&Fl(r.mutation,u,Ts.empty(),Re.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Lt()){const u=da();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,r).next((h=>{let d=jl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=da();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Lt())))}populateOverlays(e,i,r){const u=[];return r.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,u){let h=Ms();const d=Gl(),y=(function(){return Gl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof gc)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),Re.now())):d.set(_.key,Ts.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new gS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Gl();let u=new me(((d,y)=>d-y)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||Ts.empty();A=y.applyToLocalView(_,A),r.set(v,A);const D=(u.get(y.batchId)||Lt()).add(v);u=u.insert(y.batchId,D)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,D=gv();A.forEach((U=>{if(!h.has(U)){const X=vv(i.get(U),r.get(U));X!==null&&D.set(U,X),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,D))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,u){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):EA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):Y.resolve(da());let y=Kl,v=h;return d.next((_=>Y.forEach(_,((A,D)=>(y<D.largestBatchId&&(y=D.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next((U=>{v=v.insert(A,U)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Lt()))).next((A=>({batchId:y,changes:RA(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((r=>{let u=jl();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,h).next((y=>Y.forEach(y,(v=>{const _=(function(D,U){return new hc(U,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next((A=>{A.forEach(((D,U)=>{d=d.insert(D,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let y=jl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,Ts.empty(),Re.now()),dc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:gr(u.createTime)}})(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:rS(u.bundledQuery),readTime:gr(u.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.overlays=new me(mt.comparator),this.qr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const r=da();return Y.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&r.set(u,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((u,h)=>{this.St(e,i,h)})),Y.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.qr.get(r);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,i,r){const u=da(),h=i.length+1,d=new mt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return Y.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new me(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=da(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=da(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return Y.resolve(y)}St(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(r.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new BA(i,r));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.Qr=new xe(Ue.$r),this.Ur=new xe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new mt(new se([])),r=new Ue(i,e),u=new Ue(i,e+1),h=[];return this.Ur.forEachInRange([r,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new se([])),r=new Ue(i,e),u=new Ue(i,e+1);let h=Lt();return this.Ur.forEachInRange([r,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||xt(e.Yr,i.Yr)}static Kr(e,i){return xt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Ue.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LA(h,i,r,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.ei(r),h=u<0?0:u;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?JT:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),u=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new xe(xt);return i.forEach((u=>{const h=new Ue(u,0),d=new Ue(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;mt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new mt(h),0);let y=new xe(xt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),Y.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const u=this.Xr(r);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){ae(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(i.mutations,(u=>{const h=new Ue(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ue(i,0),u=this.Zr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.ri=e,this.docs=(function(){return new me(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let r=Ms();return i.forEach((u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Ke.newInvalidDocument(u))})),Y.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Ms();const d=i.path,y=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||XT(YT(A),r)<=0||(u.has(A.key)||dc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,r,u){vt(9500)}ii(e,i){return Y.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new AS(this)}getSize(e){return Y.resolve(this.size)}}class AS extends mS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(r)})),Y.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.persistence=e,this.si=new Ea((i=>dd(i)),md),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new _d,this.targetCount=0,this.ai=Rr.ur()}forEachTarget(e,i){return this.si.forEach(((r,u)=>i(u))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Y.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.Pr(i),Y.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),Y.waitFor(h).next((()=>u))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Y.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Y.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Y.resolve(r)}containsKey(e,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,i){this.ui={},this.overlays={},this.ci=new uc(0),this.li=!1,this.li=!0,this.hi=new vS,this.referenceDelegate=e(this),this.Pi=new SS(this),this.indexManager=new lS,this.remoteDocumentCache=(function(u){return new TS(u)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new aS(i),this.Ii=new yS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _S,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new ES(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){at("MemoryPersistence","Starting transaction:",e);const u=new bS(this.ci.next());return this.referenceDelegate.Ei(),r(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class bS extends ZT{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Ri=new _d,this.Vi=null}static mi(e){return new vd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const u=mt.fromPath(r);return this.gi(e,u).next((h=>{h||i.removeEntry(u,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class nc{constructor(e,i){this.persistence=e,this.pi=new Ea((r=>WT(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=dS(this,i)}static mi(e,i){return new nc(e,i)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((u=>r+u))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Y.forEach(this.pi,((r,u)=>this.br(e,r,u).next((h=>h?Y.resolve():i(u)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Go(e.data.value)),i}br(e,i,r){return Y.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return Y.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=u}static As(e,i){let r=Lt(),u=Lt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ed(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v1()?8:$T(y1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new RS;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,u){return r.documentReadCount<this.fs?(hr()<=It.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",fr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(hr()<=It.DEBUG&&at("QueryEngine","Query:",fr(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.gs*u?(hr()<=It.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",fr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):Y.resolve())}ys(e,i){if(jy(i))return Y.resolve(null);let r=yi(i);return this.indexManager.getIndexType(e,r).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=Kf(i,null,"F"),r=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Lt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Kf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,u){return jy(i)||u.isEqual(_t.min())?Y.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,u)?Y.resolve(null):(hr()<=It.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fr(i)),this.vs(e,d,i,QT(u,Kl)).next((y=>y)))}))}Ds(e,i){let r=new xe(dv(e));return i.forEach(((u,h)=>{dc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,r){return hr()<=It.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",fr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ns.min(),r)}vs(e,i,r,u){return this.ps.getDocumentsMatchingQuery(e,r,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",wS=3e8;class DS{constructor(e,i,r,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new me(xt),this.xs=new Ea((h=>dd(h)),md),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function NS(a,e,i,r){return new DS(a,e,i,r)}async function Vv(a,e){const i=Ut(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=Lt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Mv(a){const e=Ut(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function OS(a,e){const i=Ut(a),r=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,D)=>{const U=u.get(D);if(!U)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D))));let X=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?X=X.withResumeToken(Fe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(A.resumeToken,r)),u=u.insert(D,X),(function(it,Z,pt){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=wS?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(U,X,A)&&y.push(i.Pi.updateTargetData(h,X))}));let v=Ms(),_=Lt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(xS(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return Y.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function xS(a,e,i){let r=Lt(),u=Lt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=Ms();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):at(Td,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function VS(a,e){const i=Ut(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let u;return i.Pi.getTargetData(r,e).next((h=>h?(u=h,Y.resolve(u)):i.Pi.allocateTargetId(r).next((d=>(u=new As(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,u).next((()=>u)))))))})).then((r=>{const u=i.Ms.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function td(a,e,i){const r=Ut(a),u=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Nr(d))throw d;at(Td,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(u.target)}function Jy(a,e,i){const r=Ut(a);let u=_t.min(),h=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const D=Ut(v),U=D.xs.get(A);return U!==void 0?Y.resolve(D.Ms.get(U)):D.Pi.getTargetData(_,A)})(r,d,yi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:Lt()))).next((y=>(MS(r,AA(e),y),{documents:y,Qs:h})))))}function MS(a,e,i){let r=a.Os.get(e)||_t.min();i.forEach(((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(e,r)}class Wy{constructor(){this.activeTargetIds=DA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IS{constructor(){this.Mo=new Wy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wy,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class e_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(t_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo=null;function ed(){return jo===null?jo=(function(){return 268435456+Math.round(2147483648*Math.random())})():jo++,"0x"+jo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",zS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${u}`,this.Wo=this.databaseId.database===$o?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Go(e,i,r,u,h){const d=ed(),y=this.zo(e,i.toUriEncodedString());at(xf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),A=Wl(_);return this.Jo(e,y,v,r,A).then((D=>(at(xf,`Received RPC '${e}' ${d}: `,D),D)),(D=>{throw Tr(xf,`RPC '${e}' ${d} failed with error: `,D,"url: ",y,"request:",r),D}))}Ho(e,i,r,u,h,d){return this.Go(e,i,r,u,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),r&&r.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const r=zS[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class jS extends LS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,u,h){const d=ed();return new Promise(((y,v)=>{const _=new F_;_.setWithCredentials(!0),_.listenOnce(Q_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Po.NO_ERROR:const D=_.getResponseJson();at(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),y(D);break;case Po.TIMEOUT:at(Ye,`RPC '${e}' ${d} timed out`),v(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case Po.HTTP_ERROR:const U=_.getStatus();if(at(Ye,`RPC '${e}' ${d} failed with status:`,U,"response text:",_.getResponseText()),U>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const $=X?.error;if($&&$.status&&$.message){const it=(function(pt){const Rt=pt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Rt)>=0?Rt:W.UNKNOWN})($.status);v(new ct(it,$.message))}else v(new ct(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);at(Ye,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const u=ed(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=K_(),y=X_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");at(Ye,`Creating RPC '${e}' stream ${u}: ${A}`,v);const D=d.createWebChannel(A,v);this.I_(D);let U=!1,X=!1;const $=new BS({Yo:Z=>{X?at(Ye,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(U||(at(Ye,`Opening RPC '${e}' stream ${u} transport.`),D.open(),U=!0),at(Ye,`RPC '${e}' stream ${u} sending:`,Z),D.send(Z))},Zo:()=>D.close()}),it=(Z,pt,Rt)=>{Z.listen(pt,(ft=>{try{Rt(ft)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return it(D,Bl.EventType.OPEN,(()=>{X||(at(Ye,`RPC '${e}' stream ${u} transport opened.`),$.o_())})),it(D,Bl.EventType.CLOSE,(()=>{X||(X=!0,at(Ye,`RPC '${e}' stream ${u} transport closed`),$.a_(),this.E_(D))})),it(D,Bl.EventType.ERROR,(Z=>{X||(X=!0,Tr(Ye,`RPC '${e}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new ct(W.UNAVAILABLE,"The operation could not be completed")))})),it(D,Bl.EventType.MESSAGE,(Z=>{if(!X){const pt=Z.data[0];ae(!!pt,16349);const Rt=pt,ft=Rt?.error||Rt[0]?.error;if(ft){at(Ye,`RPC '${e}' stream ${u} received error:`,ft);const Et=ft.status;let rt=(function(S){const C=be[S];if(C!==void 0)return Tv(C)})(Et),tt=ft.message;rt===void 0&&(rt=W.INTERNAL,tt="Unknown error status: "+Et+" with message "+ft.message),X=!0,$.a_(new ct(rt,tt)),D.close()}else at(Ye,`RPC '${e}' stream ${u} received:`,pt),$.u_(pt)}})),it(y,Y_.STAT_EVENT,(Z=>{Z.stat===kf.PROXY?at(Ye,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===kf.NOPROXY&&at(Ye,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(a){return new QA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-r);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="PersistentStream";class kS{constructor(e,i,r,u,h,d,y,v){this.Mi=e,this.S_=r,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===i&&this.G_(r,u)}),(r=>{e((()=>{const u=new ct(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qS extends kS{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=$A(this.serializer,e),r=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?gr(d.readTime):_t.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Xy(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Xf(v)?{documents:JA(h,v)}:{query:WA(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=XA(h,d.resumeToken);const _=Jf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){y.readTime=YA(h,d.snapshotVersion.toTimestamp());const _=Jf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=eS(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Xy(this.serializer),i.removeTarget=e,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class PS extends HS{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Wf(i,r),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(W.UNKNOWN,h.toString())}))}Ho(e,i,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Wf(i,r),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="RemoteStore";class FS{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{su(this)&&(at(Cr,"Restarting streams for network reachability change."),await(async function(v){const _=Ut(v);_.Ea.add(4),await iu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await yc(_)})(this))}))})),this.Ra=new GS(r,u)}}async function yc(a){if(su(a))for(const e of a.da)await e(!0)}async function iu(a){for(const e of a.da)await e(!1)}function zv(a,e){const i=Ut(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Rd(i)?bd(i):Or(i).O_()&&Sd(i,e))}function Ad(a,e){const i=Ut(a),r=Or(i);i.Ia.delete(e),r.O_()&&Lv(i,e),i.Ia.size===0&&(r.O_()?r.L_():su(i)&&i.Ra.set("Unknown"))}function Sd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Or(a).Y_(e)}function Lv(a,e){a.Va.Ue(e),Or(a).Z_(e)}function bd(a){a.Va=new HA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Or(a).start(),a.Ra.ua()}function Rd(a){return su(a)&&!Or(a).x_()&&a.Ia.size>0}function su(a){return Ut(a).Ea.size===0}function Bv(a){a.Va=void 0}async function QS(a){a.Ra.set("Online")}async function YS(a){a.Ia.forEach(((e,i)=>{Sd(a,e)}))}async function XS(a,e){Bv(a),Rd(a)?(a.Ra.ha(e),bd(a)):a.Ra.set("Unknown")}async function KS(a,e,i){if(a.Ra.set("Online"),e instanceof Sv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(a,e)}catch(r){at(Cr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await i_(a,r)}else if(e instanceof Qo?a.Va.Ze(e):e instanceof Av?a.Va.st(e):a.Va.tt(e),!i.isEqual(_t.min()))try{const r=await Mv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),Lv(h,v);const D=new As(A.target,v,_,A.sequenceNumber);Sd(h,D)})),h.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(r){at(Cr,"Failed to raise snapshot:",r),await i_(a,r)}}async function i_(a,e,i){if(!Nr(e))throw e;a.Ea.add(1),await iu(a),a.Ra.set("Offline"),i||(i=()=>Mv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(Cr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await yc(a)}))}async function s_(a,e){const i=Ut(a);i.asyncQueue.verifyOperationInProgress(),at(Cr,"RemoteStore received new credentials");const r=su(i);i.Ea.add(3),await iu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await yc(i)}async function ZS(a,e){const i=Ut(a);e?(i.Ea.delete(2),await yc(i)):e||(i.Ea.add(2),await iu(i),i.Ra.set("Unknown"))}function Or(a){return a.ma||(a.ma=(function(i,r,u){const h=Ut(i);return h.sa(),new qS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:QS.bind(null,a),t_:YS.bind(null,a),r_:XS.bind(null,a),H_:KS.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Rd(a)?bd(a):a.Ra.set("Unknown")):(await a.ma.stop(),Bv(a))}))),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,y=new Cd(e,i,d,u,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jv(a,e){if(ki("AsyncQueue",`${e}: ${a}`),Nr(a))return new ct(W.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{static emptySet(e){return new pr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||mt.comparator(i.key,r.key):(i,r)=>mt.comparator(i.key,r.key),this.keyedMap=jl(),this.sortedSet=new me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new pr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ga=new me(mt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class wr{constructor(e,i,r,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new wr(e,i,pr.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JS{constructor(){this.queries=r_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const u=Ut(i),h=u.queries;u.queries=r_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function r_(){return new Ea((a=>fv(a)),fc)}async function WS(a,e){const i=Ut(a);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(r=2):(h=new $S,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=jv(d,`Initialization of query '${fr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&wd(i)}async function tb(a,e){const i=Ut(a),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function eb(a,e){const i=Ut(a);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(r=!0);d.wa=u}}r&&wd(i)}function nb(a,e,i){const r=Ut(a),u=r.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);r.queries.delete(e)}function wd(a){a.Ca.forEach((e=>{e.next()}))}var nd,l_;(l_=nd||(nd={})).Ma="default",l_.Cache="cache";class ib{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new wr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=wr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.key=e}}class qv{constructor(e){this.key=e}}class sb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=dv(e),this.tu=new pr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new a_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,D)=>{const U=u.get(A),X=dc(this.query,D)?D:null,$=!!U&&this.mutatedKeys.has(U.key),it=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let Z=!1;U&&X?U.data.isEqual(X.data)?$!==it&&(r.track({type:3,doc:X}),Z=!0):this.su(U,X)||(r.track({type:2,doc:X}),Z=!0,(v&&this.eu(X,v)>0||_&&this.eu(X,_)<0)&&(y=!0)):!U&&X?(r.track({type:0,doc:X}),Z=!0):U&&!X&&(r.track({type:1,doc:U}),Z=!0,(v||_)&&(y=!0)),Z&&(X?(d=d.add(X),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,D)=>(function(X,$){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:Z})}};return it(X)-it($)})(A.type,D.type)||this.eu(A.doc,D.doc))),this.ou(r),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new wr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new qv(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new kv(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return wr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dd="SyncEngine";class ab{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class rb{constructor(e){this.key=e,this.hu=!1}}class lb{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ea((y=>fv(y)),fc),this.Iu=new Map,this.Eu=new Set,this.du=new me(mt.comparator),this.Au=new Map,this.Ru=new _d,this.Vu={},this.mu=new Map,this.fu=Rr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ub(a,e,i=!0){const r=Qv(a);let u;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Hv(r,e,i,!0),u}async function ob(a,e){const i=Qv(a);await Hv(i,e,!0,!1)}async function Hv(a,e,i,r){const u=await VS(a.localStore,yi(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await cb(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&zv(a.remoteStore,u),y}async function cb(a,e,i,r,u){a.pu=(D,U,X)=>(async function(it,Z,pt,Rt){let ft=Z.view.ru(pt);ft.Cs&&(ft=await Jy(it.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,ft))));const Et=Rt&&Rt.targetChanges.get(Z.targetId),rt=Rt&&Rt.targetMismatches.get(Z.targetId)!=null,tt=Z.view.applyChanges(ft,it.isPrimaryClient,Et,rt);return o_(it,Z.targetId,tt.au),tt.snapshot})(a,D,U,X);const h=await Jy(a.localStore,e,!0),d=new sb(e,h.Qs),y=d.ru(h.documents),v=nu.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",u),_=d.applyChanges(y,a.isPrimaryClient,v);o_(a,i,_.au);const A=new ab(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function hb(a,e,i){const r=Ut(a),u=r.Tu.get(e),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter((d=>!fc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await td(r.localStore,u.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(u.targetId),i&&Ad(r.remoteStore,u.targetId),id(r,u.targetId)})).catch(lc)):(id(r,u.targetId),await td(r.localStore,u.targetId,!0))}async function fb(a,e){const i=Ut(a),r=i.Tu.get(e),u=i.Iu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ad(i.remoteStore,r.targetId))}async function Pv(a,e){const i=Ut(a);try{const r=await OS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(ae(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?ae(d.hu,14607):u.removedDocuments.size>0&&(ae(d.hu,42227),d.hu=!1))})),await Fv(i,r,e)}catch(r){await lc(r)}}function u_(a,e,i){const r=Ut(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=Ut(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,D)=>{for(const U of D.Sa)U.va(y)&&(_=!0)})),_&&wd(v)})(r.eventManager,e),u.length&&r.Pu.H_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function db(a,e,i){const r=Ut(a);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Au.get(e),h=u&&u.key;if(h){let d=new me(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,_t.min()));const y=Lt().add(h),v=new pc(_t.min(),new Map,new me(xt),d,y);await Pv(r,v),r.du=r.du.remove(h),r.Au.delete(e),Nd(r)}else await td(r.localStore,e,!1).then((()=>id(r,e,i))).catch(lc)}function id(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||Gv(a,r)}))}function Gv(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Ad(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Nd(a))}function o_(a,e,i){for(const r of i)r instanceof kv?(a.Ru.addReference(r.key,e),mb(a,r)):r instanceof qv?(at(Dd,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||Gv(a,r.key)):vt(19791,{wu:r})}function mb(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(at(Dd,"New document in limbo: "+i),a.Eu.add(r),Nd(a))}function Nd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new mt(se.fromString(e)),r=a.fu.next();a.Au.set(r,new rb(i)),a.du=a.du.insert(i,r),zv(a.remoteStore,new As(yi(hv(i.path)),r,"TargetPurposeLimboResolution",uc.ce))}}async function Fv(a,e,i){const r=Ut(a),u=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Ed.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(u),await(async function(v,_){const A=Ut(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>Y.forEach(_,(U=>Y.forEach(U.Es,(X=>A.persistence.referenceDelegate.addReference(D,U.targetId,X))).next((()=>Y.forEach(U.ds,(X=>A.persistence.referenceDelegate.removeReference(D,U.targetId,X)))))))))}catch(D){if(!Nr(D))throw D;at(Td,"Failed to update sequence numbers: "+D)}for(const D of _){const U=D.targetId;if(!D.fromCache){const X=A.Ms.get(U),$=X.snapshotVersion,it=X.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(U,it)}}})(r.localStore,h))}async function gb(a,e){const i=Ut(a);if(!i.currentUser.isEqual(e)){at(Dd,"User change. New user:",e.toKey());const r=await Vv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new ct(W.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fv(i,r.Ls)}}function pb(a,e){const i=Ut(a),r=i.Au.get(e);if(r&&r.hu)return Lt().add(r.key);{let u=Lt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function Qv(a){const e=Ut(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=db.bind(null,e),e.Pu.H_=eb.bind(null,e.eventManager),e.Pu.yu=nb.bind(null,e.eventManager),e}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Iv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return NS(this.persistence,new CS,e.initialUser,this.serializer)}Cu(e){return new xv(vd.mi,this.serializer)}Du(e){return new IS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class yb extends ic{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ae(this.persistence.referenceDelegate instanceof nc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new xv((r=>nc.mi(r,i)),this.serializer)}}class sd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gb.bind(null,this.syncEngine),await ZS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JS})()}createDatastore(e){const i=Iv(e.databaseInfo.databaseId),r=(function(h){return new jS(h)})(e.databaseInfo);return(function(h,d,y,v){return new PS(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,u,h,d,y){return new FS(r,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>u_(this.syncEngine,i,0)),(function(){return e_.v()?new e_:new US})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,A){const D=new lb(u,h,d,y,v,_);return A&&(D.gu=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ut(i);at(Cr,"RemoteStore shutting down."),r.Ea.add(5),await iu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sd.provider={build:()=>new sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class vb{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=J_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{at(Is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=jv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mf(a,e){a.asyncQueue.verifyOperationInProgress(),at(Is,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async u=>{r.isEqual(u)||(await Vv(e.localStore,u),r=u)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function c_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Eb(a);at(Is,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>s_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,u)=>s_(e.remoteStore,u))),a._onlineComponents=e}async function Eb(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(Is,"Using user provided OfflineComponentProvider");try{await Mf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===W.FAILED_PRECONDITION||u.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Tr("Error using user provided cache. Falling back to memory cache: "+i),await Mf(a,new ic)}}else at(Is,"Using default OfflineComponentProvider"),await Mf(a,new yb(void 0));return a._offlineComponents}async function Tb(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(Is,"Using user provided OnlineComponentProvider"),await c_(a,a._uninitializedComponentsProvider._online)):(at(Is,"Using default OnlineComponentProvider"),await c_(a,new sd))),a._onlineComponents}async function Ab(a){const e=await Tb(a),i=e.eventManager;return i.onListen=ub.bind(null,e.syncEngine),i.onUnlisten=hb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ob.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fb.bind(null,e.syncEngine),i}function Sb(a,e,i={}){const r=new ma;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new _b({next:U=>{A.Nu(),d.enqueueAndForget((()=>tb(h,D))),U.fromCache&&v.source==="server"?_.reject(new ct(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(U)},error:U=>_.reject(U)}),D=new ib(y,A,{includeMetadataChanges:!0,qa:!0});return WS(h,D)})(await Ab(a),a.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="firestore.googleapis.com",f_=!0;class d_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xv,this.ssl=f_}else this.host=e.host,this.ssl=e.ssl??f_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ov;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oS)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MT;switch(r.type){case"firstParty":return new LT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=h_.get(i);r&&(at("ComponentProvider","Removing Datastore"),h_.delete(i),r.terminate())})(this),Promise.resolve()}}function bb(a,e,i,r={}){a=Hf(a,Od);const u=Wl(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},y=`${e}:${i}`;u&&(O_(`https://${y}`),V_("Firestore",!0)),h.host!==Xv&&h.host!==y&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:r};if(!Ko(v,d)&&(a._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Xe.MOCK_USER;else{_=x_(r.mockUserToken,a._app?.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(D)}a._authCredentials=new IT(new $_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _c(this.firestore,e,this._query)}}class Mn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}toJSON(){return{type:Mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(tu(i,Mn._jsonSchema))return new Mn(e,r||null,new mt(se.fromString(i.referencePath)))}}Mn._jsonSchemaVersion="firestore/documentReference/1.0",Mn._jsonSchema={type:Ce("string",Mn._jsonSchemaVersion),referencePath:Ce("string")};class yr extends _c{constructor(e,i,r){super(e,i,hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new mt(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function Rb(a,e,...i){if(a=rc(a),a instanceof Od){const r=se.fromString(e,...i);return Cy(r),new yr(a,null,r)}{if(!(a instanceof Mn||a instanceof yr))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(se.fromString(e,...i));return Cy(r),new yr(a.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class g_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uv(this,"async_queue_retry"),this._c=()=>{const r=Vf();r&&at(m_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Vf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Vf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nr(e))throw e;at(m_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",p_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Cd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&vt(47125,{Pc:p_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function p_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Kv extends Od{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new g_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g_(e),this._firestoreClient=void 0,await e}}}function Cb(a,e){const i=typeof a=="object"?a:q_(),r=typeof a=="string"?a:$o,u=L_(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=D_("firestore");h&&bb(u,...h)}return u}function wb(a){if(a._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Db(a),a._firestoreClient}function Db(a){const e=a._freezeSettings(),i=(function(u,h,d,y){return new iA(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Yv(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new vb(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pi(Fe.fromBase64String(e))}catch(i){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new pi(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,pi._jsonSchema))return pi.fromBase64String(e.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:Ce("string",pi._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(tu(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Ce("string",ws._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ds(e.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:Ce("string",Ds._jsonSchemaVersion),vectorValues:Ce("object")};const Nb=new RegExp("[~\\*/\\[\\]]");function Ob(a,e,i){if(e.search(Nb)>=0)throw y_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new Zv(...e.split("."))._internalPath}catch{throw y_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function y_(a,e,i,r,u){let h=`Function ${e}() called with invalid data`;h+=". ";let d="";return new ct(W.INVALID_ARGUMENT,h+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Jv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xb extends $v{data(){return super.data()}}function Jv(a,e){return typeof e=="string"?Ob(a,e):e instanceof Zv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mb{convertValue(e,i="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return eu(e,((u,h)=>{r[u]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[Gf].arrayValue?.values?.map((r=>de(r.doubleValue)));return new Ds(i)}convertGeoPoint(e){return new ws(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=cc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Os(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=se.fromString(e);ae(Nv(r),9688,{name:e});const u=new $l(r.get(1),r.get(3)),h=new mt(r.popFirst(5));return u.isEqual(i)||ki(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class ko{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _r extends $v{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_r._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_r._jsonSchemaVersion="firestore/documentSnapshot/1.0",_r._jsonSchema={type:Ce("string",_r._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Yo extends _r{data(e={}){return super.data(e)}}class vr{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new ko(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Yo(this._firestore,this._userDataWriter,r.key,r,new ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Yo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new ko(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Yo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new ko(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:Ib(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=J_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ib(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}vr._jsonSchemaVersion="firestore/querySnapshot/1.0",vr._jsonSchema={type:Ce("string",vr._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Ub extends Mb{constructor(e){super(),this.firestore=e}convertBytes(e){return new pi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,i)}}function zb(a){a=Hf(a,_c);const e=Hf(a.firestore,Kv),i=wb(e),r=new Ub(e);return Vb(a._query),Sb(i,a._query).then((u=>new vr(e,r,a,u)))}(function(e,i=!0){(function(u){Dr=u})(j_),Yl(new Er("firestore",((r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new Kv(new UT(r.getProvider("auth-internal")),new BT(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Rs(Ay,Sy,e),Rs(Ay,Sy,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="firebasestorage.googleapis.com",t0="storageBucket",Lb=120*1e3,Bb=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends va{constructor(e,i,r=0){super(If(e),`Firebase Storage: ${i} (${If(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return If(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function If(a){return"storage/"+a}function e0(){const a="An unknown error occurred, please check the error payload for server response.";return new Le(ze.UNKNOWN,a)}function jb(a){return new Le(ze.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function kb(a){return new Le(ze.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qb(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Le(ze.UNAUTHENTICATED,a)}function Hb(){return new Le(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Pb(a){return new Le(ze.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function Gb(){return new Le(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fb(){return new Le(ze.CANCELED,"User canceled the upload/download.")}function Qb(a){return new Le(ze.INVALID_URL,"Invalid URL '"+a+"'.")}function Yb(a){return new Le(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function Xb(){return new Le(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+t0+"' property when initializing the app?")}function Kb(){return new Le(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ad(a){return new Le(ze.INVALID_ARGUMENT,a)}function n0(){return new Le(ze.APP_DELETED,"The Firebase app was deleted.")}function Zb(a){return new Le(ze.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ll(a){throw new Le(ze.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=vn.makeFromUrl(e,i)}catch{return new vn(e,"")}if(r.path==="")return r;throw Yb(e)}static makeFromUrl(e,i){let r=null;const u="([A-Za-z0-9.\\-_]+)";function h(Et){Et.path.charAt(Et.path.length-1)==="/"&&(Et.path_=Et.path_.slice(0,-1))}const d="(/(.*))?$",y=new RegExp("^gs://"+u+d,"i"),v={bucket:1,path:3};function _(Et){Et.path_=decodeURIComponent(Et.path)}const A="v[A-Za-z0-9_]+",D=i.replace(/[.]/g,"\\."),U="(/([^?#]*).*)?$",X=new RegExp(`^https?://${D}/${A}/b/${u}/o${U}`,"i"),$={bucket:1,path:3},it=i===Wv?"(?:storage.googleapis.com|storage.cloud.google.com)":i,Z="([^?#]*)",pt=new RegExp(`^https?://${it}/${u}/${Z}`,"i"),ft=[{regex:y,indices:v,postModify:h},{regex:X,indices:$,postModify:_},{regex:pt,indices:{bucket:1,path:2},postModify:_}];for(let Et=0;Et<ft.length;Et++){const rt=ft[Et],tt=rt.regex.exec(e);if(tt){const R=tt[rt.indices.bucket];let S=tt[rt.indices.path];S||(S=""),r=new vn(R,S),rt.postModify(r);break}}if(r==null)throw Qb(e);return r}}class $b{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(a,e,i){let r=1,u=null,h=null,d=!1,y=0;function v(){return y===2}let _=!1;function A(...Z){_||(_=!0,e.apply(null,Z))}function D(Z){u=setTimeout(()=>{u=null,a(X,v())},Z)}function U(){h&&clearTimeout(h)}function X(Z,...pt){if(_){U();return}if(Z){U(),A.call(null,Z,...pt);return}if(v()||d){U(),A.call(null,Z,...pt);return}r<64&&(r*=2);let ft;y===1?(y=2,ft=0):ft=(r+Math.random())*1e3,D(ft)}let $=!1;function it(Z){$||($=!0,U(),!_&&(u!==null?(Z||(y=2),clearTimeout(u),D(0)):Z||(y=1)))}return D(0),h=setTimeout(()=>{d=!0,it(!0)},i),it}function Wb(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(a){return a!==void 0}function e2(a){return typeof a=="object"&&!Array.isArray(a)}function i0(a){return typeof a=="string"||a instanceof String}function __(a,e,i,r){if(r<e)throw ad(`Invalid value for '${a}'. Expected ${e} or greater.`);if(r>i)throw ad(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(a,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${a}`}function a0(a){const e=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const u=e(r)+"="+e(a[r]);i=i+u+"&"}return i=i.slice(0,-1),i}var pa;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(pa||(pa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(a,e){const i=a>=500&&a<600,u=[408,429].indexOf(a)!==-1,h=e.indexOf(a)!==-1;return i||u||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,i,r,u,h,d,y,v,_,A,D,U=!0,X=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=u,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=y,this.errorCallback_=v,this.timeout_=_,this.progressCallback_=A,this.connectionFactory_=D,this.retry=U,this.isUsingEmulator=X,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,it)=>{this.resolve_=$,this.reject_=it,this.start_()})}start_(){const e=(r,u)=>{if(u){r(!1,new qo(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=y=>{const v=y.loaded,_=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,_)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const y=h.getErrorCode()===pa.NO_ERROR,v=h.getStatus();if(!y||n2(v,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===pa.ABORT;r(!1,new qo(!1,null,A));return}const _=this.successCodes_.indexOf(v)!==-1;r(!0,new qo(_,h))})},i=(r,u)=>{const h=this.resolve_,d=this.reject_,y=u.connection;if(u.wasSuccessCode)try{const v=this.callback_(y,y.getResponse());t2(v)?h(v):h()}catch(v){d(v)}else if(y!==null){const v=e0();v.serverResponse=y.getErrorText(),this.errorCallback_?d(this.errorCallback_(y,v)):d(v)}else if(u.canceled){const v=this.appDelete_?n0():Fb();d(v)}else{const v=Gb();d(v)}};this.canceled_?i(!1,new qo(!1,null,!0)):this.backoffId_=Jb(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Wb(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qo{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function s2(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function a2(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r2(a,e){e&&(a["X-Firebase-GMPID"]=e)}function l2(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function u2(a,e,i,r,u,h,d=!0,y=!1){const v=a0(a.urlParams),_=a.url+v,A=Object.assign({},a.headers);return r2(A,e),s2(A,i),a2(A,h),l2(A,r),new i2(_,a.method,A,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,u,d,y)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(a){let e;try{e=JSON.parse(a)}catch{return null}return e2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function c2(a,e){const i=e.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function l0(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(a,e){return e}class We{constructor(e,i,r,u){this.server=e,this.local=i||e,this.writable=!!r,this.xform=u||h2}}let Ho=null;function f2(a){return!i0(a)||a.length<2?a:l0(a)}function d2(){if(Ho)return Ho;const a=[];a.push(new We("bucket")),a.push(new We("generation")),a.push(new We("metageneration")),a.push(new We("name","fullPath",!0));function e(h,d){return f2(d)}const i=new We("name");i.xform=e,a.push(i);function r(h,d){return d!==void 0?Number(d):d}const u=new We("size");return u.xform=r,a.push(u),a.push(new We("timeCreated")),a.push(new We("updated")),a.push(new We("md5Hash",null,!0)),a.push(new We("cacheControl",null,!0)),a.push(new We("contentDisposition",null,!0)),a.push(new We("contentEncoding",null,!0)),a.push(new We("contentLanguage",null,!0)),a.push(new We("contentType",null,!0)),a.push(new We("metadata","customMetadata",!0)),Ho=a,Ho}function m2(a,e){function i(){const r=a.bucket,u=a.fullPath,h=new vn(r,u);return e._makeStorageReference(h)}Object.defineProperty(a,"ref",{get:i})}function g2(a,e,i){const r={};r.type="file";const u=i.length;for(let h=0;h<u;h++){const d=i[h];r[d.local]=d.xform(r,e[d.server])}return m2(r,a),r}function p2(a,e,i){const r=r0(e);return r===null?null:g2(a,r,i)}function y2(a,e,i,r){const u=r0(e);if(u===null||!i0(u.downloadTokens))return null;const h=u.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(_=>{const A=a.bucket,D=a.fullPath,U="/b/"+d(A)+"/o/"+d(D),X=s0(U,i,r),$=a0({alt:"media",token:_});return X+$})[0]}class _2{constructor(e,i,r,u){this.url=e,this.method=i,this.handler=r,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(a){if(!a)throw e0()}function E2(a,e){function i(r,u){const h=p2(a,u,e);return v2(h!==null),y2(h,u,a.host,a._protocol)}return i}function T2(a){function e(i,r){let u;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?u=Hb():u=qb():i.getStatus()===402?u=kb(a.bucket):i.getStatus()===403?u=Pb(a.path):u=r,u.status=i.getStatus(),u.serverResponse=r.serverResponse,u}return e}function A2(a){const e=T2(a);function i(r,u){let h=e(r,u);return r.getStatus()===404&&(h=jb(a.path)),h.serverResponse=u.serverResponse,h}return i}function S2(a,e,i){const r=e.fullServerUrl(),u=s0(r,a.host,a._protocol),h="GET",d=a.maxOperationRetryTime,y=new _2(u,h,E2(a,i),d);return y.errorHandler=A2(e),y}class b2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,u,h){if(this.sent_)throw Ll("cannot .send() more than once");if(Wl(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return u!==void 0?this.xhr_.send(u):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class R2 extends b2{initXhr(){this.xhr_.responseType="text"}}function C2(){return new R2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i){this._service=e,i instanceof vn?this._location=i:this._location=vn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new _a(e,i)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l0(this._location.path)}get storage(){return this._service}get parent(){const e=o2(this._location.path);if(e===null)return null;const i=new vn(this._location.bucket,e);return new _a(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw Zb(e)}}function w2(a){a._throwIfRoot("getDownloadURL");const e=S2(a.storage,a._location,d2());return a.storage.makeRequestWithTokens(e,C2).then(i=>{if(i===null)throw Kb();return i})}function D2(a,e){const i=c2(a._location.path,e),r=new vn(a._location.bucket,i);return new _a(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(a){return/^[A-Za-z]+:\/\//.test(a)}function O2(a,e){return new _a(a,e)}function u0(a,e){if(a instanceof xd){const i=a;if(i._bucket==null)throw Xb();const r=new _a(i,i._bucket);return e!=null?u0(r,e):r}else return e!==void 0?D2(a,e):a}function x2(a,e){if(e&&N2(e)){if(a instanceof xd)return O2(a,e);throw ad("To use ref(service, url), the first argument must be a Storage instance.")}else return u0(a,e)}function v_(a,e){const i=e?.[t0];return i==null?null:vn.makeFromBucketSpec(i,a)}function V2(a,e,i,r={}){a.host=`${e}:${i}`;const u=Wl(e);u&&(O_(`https://${a.host}/b`),V_("Storage",!0)),a._isUsingEmulator=!0,a._protocol=u?"https":"http";const{mockUserToken:h}=r;h&&(a._overrideAuthToken=typeof h=="string"?h:x_(h,a.app.options.projectId))}class xd{constructor(e,i,r,u,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=u,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=Wv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Lb,this._maxUploadRetryTime=Bb,this._requests=new Set,u!=null?this._bucket=vn.makeFromBucketSpec(u,this._host):this._bucket=v_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=v_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){__("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){__("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(B_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _a(this,e)}_makeRequest(e,i,r,u,h=!0){if(this._deleted)return new $b(n0());{const d=u2(e,this._appId,r,u,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[r,u]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,u).getPromise()}}const E_="@firebase/storage",T_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="storage";function M2(a){return a=rc(a),w2(a)}function I2(a,e){return a=rc(a),x2(a,e)}function U2(a=q_(),e){a=rc(a);const r=L_(a,o0).getImmediate({identifier:e}),u=D_("storage");return u&&z2(r,...u),r}function z2(a,e,i,r={}){V2(a,e,i,r)}function L2(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),u=a.getProvider("app-check-internal");return new xd(i,r,u,e,j_)}function B2(){Yl(new Er(o0,L2,"PUBLIC").setMultipleInstances(!0)),Rs(E_,T_,""),Rs(E_,T_,"esm2020")}B2();var j2="firebase",k2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(j2,k2,"app");const q2={apiKey:"AIzaSyDNWlFPZkictgNKuYhndqrLNiQ4sDXBg48",authDomain:"songbook-builder.firebaseapp.com",projectId:"songbook-builder",storageBucket:"songbook-builder.firebasestorage.app",messagingSenderId:"597764556667",appId:"1:597764556667:web:bc95a46754dbf989a91fde"},c0=k_(q2),H2=Cb(c0),P2=U2(c0);function A_(a){if(!a||typeof a!="string")return"";const e=/^(A|O|Os|As|Um|Uma|An|The)\s+/i;return a.replace(e,"").trim()}function G2(a,e){const i=A_(a).toLowerCase(),r=A_(e).toLowerCase();return i.localeCompare(r,"pt-BR",{sensitivity:"base"})}function F2(a){return[...a].sort((e,i)=>G2(e.title,i.title))}function Q2(){const[a,e]=fe.useState([]),[i,r]=fe.useState({}),[u,h]=fe.useState(!0),[d,y]=fe.useState(null),[v,_]=fe.useState([]),[A,D]=fe.useState({}),[U,X]=fe.useState(""),$=fe.useCallback(async()=>{try{h(!0),y(null);const tt=(await zb(Rb(H2,"songs"))).docs.map(S=>{const C=S.data();return{id:S.id,title:C.title||"",artist:C.artist||"",tags:C.tags||[],filename:C.filename||"",fileUrl:C.fileUrl||"",key:"",content:null}}),R=F2(tt);console.log("Songs loaded from Firestore:",R.length),e(R)}catch(rt){console.error("Error loading songs from Firestore:",rt),y(rt.message)}finally{h(!1)}},[]);fe.useEffect(()=>{let rt=!0;return $().catch(tt=>{rt&&console.error("Failed to load songs:",tt)}),()=>{rt=!1}},[$]);const it=rt=>{const tt=rt.match(/\{(?:key|k):\s*([A-G][#b]?m?)\}/i);return tt?tt[1]:null},Z=fe.useCallback(async rt=>{if(i[rt])return i[rt];const tt=a.find(R=>R.id===rt);if(!tt)return null;try{if(tt.fileUrl){const M=await fetch(tt.fileUrl);if(!M.ok)throw new Error(`Error loading ${tt.filename}`);const b=await M.text(),Zt=it(b);return!tt.key&&Zt&&e(ie=>ie.map(H=>H.id===rt?{...H,key:Zt}:H)),r(ie=>({...ie,[rt]:b})),b}const R=I2(P2,`charts/${tt.filename}`),S=await M2(R),C=await fetch(S);if(!C.ok)throw new Error(`Error loading ${tt.filename}`);const V=await C.text(),N=it(V);return!tt.key&&N&&e(M=>M.map(b=>b.id===rt?{...b,key:N}:b)),r(M=>({...M,[rt]:V})),V}catch(R){return console.error(`Error loading song ${rt}:`,R),null}},[a,i]),pt=fe.useCallback(async rt=>{_(tt=>tt.includes(rt)?tt.filter(S=>S!==rt):(Z(rt),[...tt,rt])),D(tt=>({...tt,[rt]:tt[rt]??0}))},[Z]),Rt=fe.useCallback((rt,tt)=>{D(R=>({...R,[rt]:tt}))},[]),ft=fe.useMemo(()=>{if(!U.trim())return a;const rt=U.toLowerCase();return a.filter(tt=>!!(tt.title.toLowerCase().includes(rt)||tt.artist&&tt.artist.toLowerCase().includes(rt)||tt.tags&&Array.isArray(tt.tags)&&tt.tags.some(R=>R.toLowerCase().includes(rt))))},[a,U]),Et=fe.useMemo(()=>v.map(rt=>{const tt=a.find(R=>R.id===rt);return tt?{id:tt.id,title:tt.title,artist:tt.artist,key:tt.key||"",tags:tt.tags||[],content:i[rt]||"",transposition:A[rt]||0}:null}).filter(Boolean),[v,a,i,A]);return{allSongs:a,selectedSongs:Et,semitoneShift:A,searchTerm:U,setSearchTerm:X,filteredSongs:ft,toggleSongSelection:pt,handleShiftChange:Rt,loading:u,error:d,reloadSongs:$}}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),S_=a=>{const e=X2(a);return e.charAt(0).toUpperCase()+e.slice(1)},h0=(...a)=>a.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),K2=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=fe.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:u="",children:h,iconNode:d,...y},v)=>fe.createElement("svg",{ref:v,...Z2,width:e,height:e,stroke:a,strokeWidth:r?Number(i)*24/Number(e):i,className:h0("lucide",u),...!h&&!K2(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>fe.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=(a,e)=>{const i=fe.forwardRef(({className:r,...u},h)=>fe.createElement($2,{ref:h,iconNode:e,className:h0(`lucide-${Y2(S_(a))}`,`lucide-${a}`,r),...u}));return i.displayName=S_(a),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],W2=qi("download",J2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],b_=qi("file-text",tR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Vd=qi("list-ordered",eR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M5 12h14",key:"1ays0h"}]],iR=qi("minus",nR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],f0=qi("music",sR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rR=qi("plus",aR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],uR=qi("rotate-ccw",lR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cR=qi("search",oR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],d0=qi("x",hR),fR=({isSidebarOpen:a,onToggleSidebar:e})=>K.jsx("header",{className:"bg-white shadow-md p-4 print:hidden flex justify-between items-center sticky top-0 z-20",children:K.jsxs("div",{className:"flex items-center",children:[K.jsx("button",{className:"lg:hidden p-2 rounded-lg text-emerald-600 hover:bg-emerald-50 transition duration-150 mr-2",onClick:e,"aria-label":"Toggle navigation menu",children:a?K.jsx(d0,{className:"w-6 h-6"}):K.jsx(Vd,{className:"w-6 h-6"})}),K.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-emerald-700",children:[K.jsx(f0,{className:"inline-block w-5 h-5 sm:w-6 sm:h-6 mr-2"}),"Songbook Creator"]})]})}),dR=({isOpen:a,onClose:e,songs:i,selectedSongIds:r,onToggleSong:u,searchTerm:h,onSearchChange:d})=>K.jsxs(K.Fragment,{children:[a&&K.jsx("div",{className:"fixed inset-0 z-40 bg-black opacity-50 lg:hidden",onClick:e,"aria-hidden":"true"}),K.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-gray-100 p-6 overflow-y-auto transition-transform duration-300 ease-in-out print:hidden
                    lg:sticky lg:top-20 lg:w-1/3 lg:max-w-xs lg:h-[calc(100vh-5rem)] lg:translate-x-0 lg:shadow-none
                    ${a?"translate-x-0 shadow-xl":"-translate-x-full"}
                `,children:[K.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-700 border-b pb-2 flex items-center",children:[K.jsx(Vd,{className:"w-5 h-5 mr-2"}),"Song Index (",i.length,")"]}),K.jsxs("div",{className:"relative mb-4",children:[K.jsx("input",{type:"text",placeholder:"Search by title or artist...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500 transition duration-150",value:h,onChange:y=>d(y.target.value)}),K.jsx(cR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),K.jsx("div",{className:"space-y-3",children:i.length>0?i.map(y=>K.jsx("div",{className:`p-3 rounded-xl cursor-pointer transition duration-200 shadow-sm
                                    ${r.includes(y.id)?"bg-emerald-100 border-2 border-emerald-500 shadow-lg":"bg-white border border-gray-200 hover:bg-gray-50"}`,onClick:()=>u(y.id),children:K.jsxs("div",{className:"flex justify-between items-center",children:[K.jsxs("div",{children:[K.jsx("p",{className:"font-bold text-gray-800 leading-snug",children:y.title}),K.jsx("p",{className:"text-sm text-gray-500",children:y.artist})]}),r.includes(y.id)?K.jsx(d0,{className:"w-5 h-5 text-red-500 hover:text-red-700"}):K.jsx(f0,{className:"w-5 h-5 text-emerald-500"})]})},y.id)):K.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No songs found."})})]})]}),Ql={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Md=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],rd=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],m0=["G","D","A","E","B","F#"],sc={C:["C","Dm","Em","F","G","Am","B"],Db:["Db","Ebm","Fm","Gb","Ab","Bbm","C"],D:["D","Em","F#m","G","A","Bm","C#"],Eb:["Eb","Fm","Gm","Ab","Bb","Cm","D"],E:["E","F#m","G#m","A","B","C#m","D#"],F:["F","Gm","Am","Bb","C","Dm","E"],"F#":["F#","G#m","A#m","B","C#","D#m","E#"],G:["G","Am","Bm","C","D","Em","F#"],Ab:["Ab","Bbm","Cm","Db","Eb","Fm","G"],A:["A","Bm","C#m","D","E","F#m","G#"],Bb:["Bb","Cm","Dm","Eb","F","Gm","A"],B:["B","C#m","D#m","E","F#","G#m","A#"]},g0={Am:"C",Bbm:"Db",Bm:"D",Cm:"Eb","C#m":"E",Dm:"F","D#m":"F#",Em:"G",Fm:"Ab","F#m":"A",Gm:"Bb","G#m":"B"},mR={C:"Am",Db:"Bbm",D:"Bm",Eb:"Cm",E:"C#m",F:"Dm","F#":"D#m",G:"Em",Ab:"Fm",A:"F#m",Bb:"Gm",B:"G#m"},gR=Object.keys(sc),p0=a=>a.endsWith("m");function ac(a){let e=a.trim();const i=e.match(/^\((.*)\)$/);i&&(e=i[1]);const r=e.split("/"),u=r[0],h=r.length>1?r[1].trim():null,d=u.match(/^([A-G][#b]?)(m|dim|maj)?/i);if(!d)return{root:null,quality:"",modifier:"",bassNote:h,originalParen:!!i};const y=d[1],v=(d[2]||"").toLowerCase(),_=u.substring(d[0].length);return{root:y,quality:v,modifier:_,bassNote:h,originalParen:!!i}}function y0(a,e){const i=p0(a),r=i?g0[a]||a.replace("m",""):a,u=Ql[r];if(u===void 0)return a;const h=(u+e+12)%12;let d=Md[h];return!m0.includes(d)&&rd[h]!==d&&(d=rd[h]),i?mR[d]||d+"m":d}const pR=(a,e)=>{let i=gR.includes(e)?e:null;if(!i){const h=Ql[e.replace("m","")];if(h!==void 0){const d=(h+3)%12;i=Md[d],d===3&&(i="Eb"),d===8&&(i="Ab"),d===10&&(i="Bb")}}const r=sc[i]||sc[e];if(!r)return-1;const{root:u}=ac(a);if(!u)return-1;for(let h=0;h<r.length;h++){const d=ac(r[h]);if(Ql[u]===Ql[d.root])return h}return-1},R_=(a,e,i)=>{if(!a)return null;const r=Ql[a];if(r===void 0)return a;const u=(r+e+12)%12,h=p0(i)?g0[i]||i.replace("m",""):i;return m0.includes(h)?Md[u]:rd[u]},yR=(a,e,i)=>{if(!a||i===0)return a;const r=y0(e,i),u=ac(a);if(!u.root)return a;let h,d=u.quality;const y=sc[r],v=pR(a,e);if(v!==-1&&y){const A=y[v];h=ac(A).root}else h=R_(u.root,i,r);let _=`${h}${d}${u.modifier}`;if(u.bassNote){const A=R_(u.bassNote,i,r);A&&(_+=`/${A}`)}return u.originalParen&&(_=`(${_})`),_},_R=({chordLine:a,lyricLine:e,inChorus:i})=>{if(!a&&!e)return K.jsx("div",{className:"h-4"});const r="chord-line text-emerald-600 font-extrabold m-0 p-0 print:text-base",u=`text-gray-800 ${i?"font-bold":""}`;return K.jsxs("div",{className:`whitespace-pre-wrap font-mono leading-relaxed print:text-sm print:leading-normal ${i?"print:font-bold":""}`,children:[K.jsx("pre",{className:r,style:{fontSize:"clamp(7px, 2.2vw, 18px)",height:"auto",minHeight:"1rem",lineHeight:"1.2",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:a}),K.jsx("pre",{className:u,style:{fontSize:"clamp(7px, 2.2vw, 18px)",marginTop:"-0.2rem",lineHeight:"1.4",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e})]})},vR=/(\[.*?\])([^\[]*)/g,ER=/\{([^:}]+):?([^}]*)\}/,TR=a=>{let e="",i="",r=a;return r.startsWith("(")&&(e="(",r=r.substring(1)),r.endsWith(")")&&(i=")",r=r.substring(0,r.length-1)),{prefix:e,chord:r,suffix:i}},AR=(a,e,i)=>{let r=a[1].replace(/\[|\]/g,"");const u=a[2],{prefix:h,chord:d,suffix:y}=TR(r),v=yR(d.trim(),e,i),_=h+v+y,A=_.length+2,D=Math.max(A,u.length);return{chord:_.padEnd(D," "),lyric:u.padEnd(D," ")}},SR=(a,e,i)=>{const r=a.split(`
`),u=[];let h=!1;return r.forEach((d,y)=>{const v=d.trim(),_=v.match(ER);if(_){const $=_[1].toLowerCase().trim();$==="start_of_chorus"||$==="soc"?(h=!0,u.push(K.jsx("div",{className:"h-4"},`soc-${y}`))):($==="end_of_chorus"||$==="eoc")&&(h=!1,u.push(K.jsx("div",{className:"h-4"},`eoc-${y}`)));return}if(v.length===0){u.push(K.jsx("div",{className:"h-4"},`empty-${y}`));return}const A=[...v.matchAll(vR)];let D="",U="";if(A.length>0&&A[0].index>0){const $=v.substring(0,A[0].index);U+=$,D+=" ".repeat($.length)}A.forEach($=>{const{chord:it,lyric:Z}=AR($,e,i);D+=it,U+=Z});const X=A[A.length-1];if(X){const $=X.index+X[0].length;if($<v.length){const it=v.substring($);U+=it,D+=" ".repeat(it.length)}}A.length===0&&(U=v,D=" ".repeat(v.length)),u.push(K.jsx(_R,{chordLine:D,lyricLine:U,inChorus:h},`content-${y}`))}),u},bR=({song:a,shift:e})=>{const i=a.key,r=y0(i,e),u=SR(a.content,i,e),h=e===0?"Original":e>0?`+${e}`:`${e}`;return K.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 bg-white border border-gray-200 rounded-xl shadow-lg mb-6 break-inside-avoid print:shadow-none print:border-0 print:p-0",children:[K.jsxs("div",{className:"mb-3 sm:mb-4 pb-2 border-b border-gray-200 print:border-b-0",children:[K.jsxs("h3",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-extrabold text-gray-800 leading-tight break-words",children:[a.title,a.artist&&K.jsxs("span",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-normal text-gray-600 ml-2",children:["(",a.artist,")"]})]}),K.jsxs("p",{className:"text-[10px] sm:text-xs md:text-sm font-medium text-gray-500 flex flex-wrap items-center gap-1",children:[K.jsx("span",{className:"font-semibold text-emerald-600",children:"Tom Atual:"}),K.jsx("span",{className:"font-bold",children:r}),K.jsx("span",{className:"text-gray-300",children:"|"}),K.jsxs("span",{children:["Original: ",i," (",h,")"]})]})]}),K.jsx("div",{className:"text-sm sm:text-base leading-relaxed",children:u})]})},RR=({songs:a,semitoneShift:e,onShiftChange:i,onExportPdf:r})=>K.jsxs("div",{className:"w-full max-w-4xl mx-auto print:w-full print:mx-0",children:[K.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 p-4 bg-white sticky top-0 z-10 rounded-xl shadow-lg border border-gray-200 print:hidden",children:[K.jsxs("h2",{className:"text-xl sm:text-2xl font-extrabold text-gray-800 flex items-center mb-3 sm:mb-0",children:[K.jsx(b_,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 text-emerald-600"}),"Songbook Preview (",a.length,")"]}),K.jsxs("button",{onClick:r,disabled:a.length===0,className:`flex items-center px-4 sm:px-6 py-2 rounded-full text-sm sm:text-base font-semibold transition duration-300 transform hover:scale-105 shadow-lg
                        ${a.length>0?"bg-emerald-600 text-white hover:bg-emerald-700 active:bg-emerald-800":"bg-gray-400 text-gray-700 cursor-not-allowed"}`,children:[K.jsx(W2,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Export PDF"]})]}),a.length===0?K.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl mt-10",children:[K.jsx(b_,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),K.jsxs("p",{className:"text-lg sm:text-xl text-gray-600 font-medium",children:["Select songs from the index (click the ",K.jsx(Vd,{className:"inline w-5 h-5"})," icon at the top) to build your songbook."]})]}):K.jsx("div",{id:"songbook-preview",children:a.map((u,h)=>K.jsxs("div",{className:`mb-8 print:mb-0 print-song-page ${h<a.length-1?"print-page-break-after":""}`,children:[K.jsxs("div",{className:"flex items-center justify-end mb-2 print:hidden space-x-2",children:[K.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Transpose (semitones):"}),K.jsx("button",{onClick:()=>i(u.id,(e[u.id]||0)-1),disabled:(e[u.id]||0)<=-11,className:"p-2 border border-gray-300 rounded-full bg-white text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition",children:K.jsx(iR,{className:"w-4 h-4"})}),K.jsx("span",{className:`px-3 py-1 font-semibold rounded-lg text-sm transition-colors ${(e[u.id]||0)===0?"bg-gray-200 text-gray-700":"bg-emerald-500 text-white"}`,children:e[u.id]||0}),K.jsx("button",{onClick:()=>i(u.id,(e[u.id]||0)+1),disabled:(e[u.id]||0)>=11,className:"p-2 border border-gray-300 rounded-full bg-white text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition",children:K.jsx(rR,{className:"w-4 h-4"})}),K.jsx("button",{onClick:()=>i(u.id,0),disabled:(e[u.id]||0)===0,className:`ml-2 p-2 border border-red-300 rounded-full bg-red-50 text-red-600 transition shadow-sm
                                        ${(e[u.id]||0)===0?"opacity-50 cursor-not-allowed":"hover:bg-red-100"}
                                    `,title:"Reset",children:K.jsx(uR,{className:"w-4 h-4"})})]}),K.jsx(bR,{song:u,shift:e[u.id]||0}),h<a.length-1&&K.jsx("hr",{className:"my-10 border-dashed border-gray-300 print:hidden"})]},u.id))})]}),CR=()=>{const[a,e]=fe.useState(!1),{selectedSongs:i,semitoneShift:r,searchTerm:u,setSearchTerm:h,toggleSongSelection:d,handleShiftChange:y,filteredSongs:v,loading:_,error:A,reloadSongs:D}=Q2();return _?K.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:K.jsxs("div",{className:"text-center",children:[K.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),K.jsx("p",{className:"text-gray-600",children:"Loading songbook..."})]})}):A?K.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:K.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[K.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Error loading songs"}),K.jsx("p",{className:"text-gray-700 mb-4",children:A}),K.jsx("button",{onClick:D,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Try again"}),K.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[K.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Tips:"}),K.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[K.jsxs("li",{children:[" Check if ",K.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"public/charts/index.json"})," exists"]}),K.jsxs("li",{children:[" Check if .cho files are in ",K.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"public/charts/"})]}),K.jsx("li",{children:" Check the browser console for more details"})]})]})]})}):K.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[K.jsx(fR,{isSidebarOpen:a,onToggleSidebar:()=>e(!a)}),K.jsxs("div",{className:"flex flex-1 relative",children:[K.jsx(dR,{isOpen:a,onClose:()=>e(!1),songs:v,selectedSongIds:i.map(U=>U.id),onToggleSong:d,searchTerm:u,onSearchChange:h}),K.jsx(RR,{songs:i,semitoneShift:r,onShiftChange:y,onExportPdf:()=>window.print()})]})]})};i1.createRoot(document.getElementById("root")).render(K.jsx(fe.StrictMode,{children:K.jsx(CR,{})}));
