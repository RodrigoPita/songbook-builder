(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Af={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function v1(){if(my)return jl;my=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var gy;function E1(){return gy||(gy=1,Af.exports=v1()),Af.exports}var Z=E1(),bf={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function T1(){if(py)return yt;py=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.iterator;function Y(V){return V===null||typeof V!="object"?null:(V=U&&V[U]||V["@@iterator"],typeof V=="function"?V:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,J={};function pt(V,Q,et){this.props=V,this.context=Q,this.refs=J,this.updater=et||$}pt.prototype.isReactComponent={},pt.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},pt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Rt(){}Rt.prototype=pt.prototype;function ft(V,Q,et){this.props=V,this.context=Q,this.refs=J,this.updater=et||$}var Et=ft.prototype=new Rt;Et.constructor=ft,it(Et,pt.prototype),Et.isPureReactComponent=!0;var rt=Array.isArray;function nt(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(V,Q,et){var st=et.ref;return{$$typeof:a,type:V,key:Q,ref:st!==void 0?st:null,props:et}}function I(V,Q){return w(V.type,Q,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function x(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return Q[et]})}var S=/\/+/g;function Zt(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):Q.toString(36)}function ae(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(nt,nt):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function P(V,Q,et,st,gt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var It=!1;if(V===null)It=!0;else switch(bt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(V.$$typeof){case a:case e:It=!0;break;case A:return It=V._init,P(It(V._payload),Q,et,st,gt)}}if(It)return gt=gt(V),It=st===""?"."+Zt(V,0):st,rt(gt)?(et="",It!=null&&(et=It.replace(S,"$&/")+"/"),P(gt,Q,et,"",function(Us){return Us})):gt!=null&&(N(gt)&&(gt=I(gt,et+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(S,"$&/")+"/")+It)),Q.push(gt)),1;It=0;var De=st===""?".":st+":";if(rt(V))for(var te=0;te<V.length;te++)st=V[te],bt=De+Zt(st,te),It+=P(st,Q,et,bt,gt);else if(te=Y(V),typeof te=="function")for(V=te.call(V),te=0;!(st=V.next()).done;)st=st.value,bt=De+Zt(st,te++),It+=P(st,Q,et,bt,gt);else if(bt==="object"){if(typeof V.then=="function")return P(ae(V),Q,et,st,gt);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return It}function tt(V,Q,et){if(V==null)return V;var st=[],gt=0;return P(V,st,"","",function(bt){return Q.call(et,bt,gt++)}),st}function ht(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Pt={map:tt,forEach:function(V,Q,et){tt(V,function(){Q.apply(this,arguments)},et)},count:function(V){var Q=0;return tt(V,function(){Q++}),Q},toArray:function(V){return tt(V,function(Q){return Q})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return yt.Activity=C,yt.Children=Pt,yt.Component=pt,yt.Fragment=i,yt.Profiler=o,yt.PureComponent=ft,yt.StrictMode=r,yt.Suspense=_,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,yt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},yt.cache=function(V){return function(){return V.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(V,Q,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=it({},V.props),gt=V.key;if(Q!=null)for(bt in Q.key!==void 0&&(gt=""+Q.key),Q)!b.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(st[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)st.children=et;else if(1<bt){for(var It=Array(bt),De=0;De<bt;De++)It[De]=arguments[De+2];st.children=It}return w(V.type,gt,st)},yt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},yt.createElement=function(V,Q,et){var st,gt={},bt=null;if(Q!=null)for(st in Q.key!==void 0&&(bt=""+Q.key),Q)b.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=Q[st]);var It=arguments.length-2;if(It===1)gt.children=et;else if(1<It){for(var De=Array(It),te=0;te<It;te++)De[te]=arguments[te+2];gt.children=De}if(V&&V.defaultProps)for(st in It=V.defaultProps,It)gt[st]===void 0&&(gt[st]=It[st]);return w(V,bt,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(V){return{$$typeof:y,render:V}},yt.isValidElement=N,yt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ht}},yt.memo=function(V,Q){return{$$typeof:v,type:V,compare:Q===void 0?null:Q}},yt.startTransition=function(V){var Q=R.T,et={};R.T=et;try{var st=V(),gt=R.S;gt!==null&&gt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(nt,zt)}catch(bt){zt(bt)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),R.T=Q}},yt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},yt.use=function(V){return R.H.use(V)},yt.useActionState=function(V,Q,et){return R.H.useActionState(V,Q,et)},yt.useCallback=function(V,Q){return R.H.useCallback(V,Q)},yt.useContext=function(V){return R.H.useContext(V)},yt.useDebugValue=function(){},yt.useDeferredValue=function(V,Q){return R.H.useDeferredValue(V,Q)},yt.useEffect=function(V,Q){return R.H.useEffect(V,Q)},yt.useEffectEvent=function(V){return R.H.useEffectEvent(V)},yt.useId=function(){return R.H.useId()},yt.useImperativeHandle=function(V,Q,et){return R.H.useImperativeHandle(V,Q,et)},yt.useInsertionEffect=function(V,Q){return R.H.useInsertionEffect(V,Q)},yt.useLayoutEffect=function(V,Q){return R.H.useLayoutEffect(V,Q)},yt.useMemo=function(V,Q){return R.H.useMemo(V,Q)},yt.useOptimistic=function(V,Q){return R.H.useOptimistic(V,Q)},yt.useReducer=function(V,Q,et){return R.H.useReducer(V,Q,et)},yt.useRef=function(V){return R.H.useRef(V)},yt.useState=function(V){return R.H.useState(V)},yt.useSyncExternalStore=function(V,Q,et){return R.H.useSyncExternalStore(V,Q,et)},yt.useTransition=function(){return R.H.useTransition()},yt.version="19.2.0",yt}var yy;function fd(){return yy||(yy=1,bf.exports=T1()),bf.exports}var de=fd(),Sf={exports:{}},kl={},Rf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function A1(){return _y||(_y=1,(function(a){function e(P,tt){var ht=P.length;P.push(tt);t:for(;0<ht;){var zt=ht-1>>>1,Pt=P[zt];if(0<o(Pt,tt))P[zt]=tt,P[ht]=Pt,ht=zt;else break t}}function i(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var tt=P[0],ht=P.pop();if(ht!==tt){P[0]=ht;t:for(var zt=0,Pt=P.length,V=Pt>>>1;zt<V;){var Q=2*(zt+1)-1,et=P[Q],st=Q+1,gt=P[st];if(0>o(et,ht))st<Pt&&0>o(gt,et)?(P[zt]=gt,P[st]=ht,zt=st):(P[zt]=et,P[Q]=ht,zt=Q);else if(st<Pt&&0>o(gt,ht))P[zt]=gt,P[st]=ht,zt=st;else break t}}return tt}function o(P,tt){var ht=P.sortIndex-tt.sortIndex;return ht!==0?ht:P.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();a.unstable_now=function(){return d.now()-y}}var _=[],v=[],A=1,C=null,U=3,Y=!1,$=!1,it=!1,J=!1,pt=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Et(P){for(var tt=i(v);tt!==null;){if(tt.callback===null)r(v);else if(tt.startTime<=P)r(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function rt(P){if(it=!1,Et(P),!$)if(i(_)!==null)$=!0,nt||(nt=!0,x());else{var tt=i(v);tt!==null&&ae(rt,tt.startTime-P)}}var nt=!1,R=-1,b=5,w=-1;function I(){return J?!0:!(a.unstable_now()-w<b)}function N(){if(J=!1,nt){var P=a.unstable_now();w=P;var tt=!0;try{t:{$=!1,it&&(it=!1,Rt(R),R=-1),Y=!0;var ht=U;try{e:{for(Et(P),C=i(_);C!==null&&!(C.expirationTime>P&&I());){var zt=C.callback;if(typeof zt=="function"){C.callback=null,U=C.priorityLevel;var Pt=zt(C.expirationTime<=P);if(P=a.unstable_now(),typeof Pt=="function"){C.callback=Pt,Et(P),tt=!0;break e}C===i(_)&&r(_),Et(P)}else r(_);C=i(_)}if(C!==null)tt=!0;else{var V=i(v);V!==null&&ae(rt,V.startTime-P),tt=!1}}break t}finally{C=null,U=ht,Y=!1}tt=void 0}}finally{tt?x():nt=!1}}}var x;if(typeof ft=="function")x=function(){ft(N)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Zt=S.port2;S.port1.onmessage=N,x=function(){Zt.postMessage(null)}}else x=function(){pt(N,0)};function ae(P,tt){R=pt(function(){P(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return U},a.unstable_next=function(P){switch(U){case 1:case 2:case 3:var tt=3;break;default:tt=U}var ht=U;U=tt;try{return P()}finally{U=ht}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(P,tt){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ht=U;U=P;try{return tt()}finally{U=ht}},a.unstable_scheduleCallback=function(P,tt,ht){var zt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,P){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ht+Pt,P={id:A++,callback:tt,priorityLevel:P,startTime:ht,expirationTime:Pt,sortIndex:-1},ht>zt?(P.sortIndex=ht,e(v,P),i(_)===null&&P===i(v)&&(it?(Rt(R),R=-1):it=!0,ae(rt,ht-zt))):(P.sortIndex=Pt,e(_,P),$||Y||($=!0,nt||(nt=!0,x()))),P},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(P){var tt=U;return function(){var ht=U;U=tt;try{return P.apply(this,arguments)}finally{U=ht}}}})(wf)),wf}var vy;function b1(){return vy||(vy=1,Rf.exports=A1()),Rf.exports}var Cf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function S1(){if(Ey)return Qe;Ey=1;var a=fd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Qe.flushSync=function(_){var v=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=A,r.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,C=y(A,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:U,fetchPriority:Y}):A==="script"&&r.d.X(_,{crossOrigin:C,integrity:U,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=y(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,C=y(A,v.crossOrigin);r.d.L(_,A,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=y(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Qe.requestFormReset=function(_){r.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var Ty;function R1(){if(Ty)return Cf.exports;Ty=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Cf.exports=S1(),Cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function w1(){if(Ay)return kl;Ay=1;var a=b1(),e=fd(),i=R1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),t;if(f===l)return _(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var C=Object.assign,U=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),Rt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function Zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case it:return"Fragment";case pt:return"Profiler";case J:return"StrictMode";case rt:return"Suspense";case nt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ft:return t.displayName||"Context";case Rt:return(t._context.displayName||"Context")+".Consumer";case Et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Zt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Zt(t(n))}catch{}}return null}var ae=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],Pt=-1;function V(t){return{current:t}}function Q(t){0>Pt||(t.current=zt[Pt],zt[Pt]=null,Pt--)}function et(t,n){Pt++,zt[Pt]=t.current,t.current=n}var st=V(null),gt=V(null),bt=V(null),It=V(null);function De(t,n){switch(et(bt,n),et(gt,t),et(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Lp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Lp(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(st),et(st,t)}function te(){Q(st),Q(gt),Q(bt)}function Us(t){t.memoizedState!==null&&et(It,t);var n=st.current,s=Bp(n,t.type);n!==s&&(et(gt,t),et(st,s))}function ba(t){gt.current===t&&(Q(st),Q(gt)),It.current===t&&(Q(It),Ul._currentValue=ht)}var Sa,Ra;function Xn(t){if(Sa===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Sa=n&&n[1]||"",Ra=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+t+Ra}var Ur=!1;function zs(t,n){if(!t||Ur)return"";Ur=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var j=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){j=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){j=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var D=g.split(`
`),B=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===B.length)for(l=D.length-1,c=B.length-1;1<=l&&0<=c&&D[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==B[c]){var H=`
`+D[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Ur=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Xn(s):""}function zr(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return zs(t.type,!1);case 11:return zs(t.type.render,!1);case 1:return zs(t.type,!0);case 31:return Xn("Activity");default:return""}}function Lr(t){try{var n="",s=null;do n+=zr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ne=a.unstable_scheduleCallback,Hi=a.unstable_cancelCallback,bc=a.unstable_shouldYield,uo=a.unstable_requestPaint,$e=a.unstable_now,Ls=a.unstable_getCurrentPriorityLevel,Br=a.unstable_ImmediatePriority,jr=a.unstable_UserBlockingPriority,Gi=a.unstable_NormalPriority,Sc=a.unstable_LowPriority,co=a.unstable_IdlePriority,ho=a.log,fo=a.unstable_setDisableYieldValue,Un=null,Be=null;function Tn(t){if(typeof ho=="function"&&fo(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Un,t)}catch{}}var ue=Math.clz32?Math.clz32:go,mo=Math.log,wa=Math.LN2;function go(t){return t>>>=0,t===0?32:31-(mo(t)/wa|0)|0}var Kn=256,Bs=262144,ye=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $n(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Zn(l):(g&=E,g!==0?c=Zn(g):s||(s=E&~t,s!==0&&(c=Zn(s))))):(E=l&~f,E!==0?c=Zn(E):g!==0?c=Zn(g):s||(s=l&~t,s!==0&&(c=Zn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Jn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function js(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wc(t,n,s,l,c,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(s=g&~s;0<s;){var H=31-ue(s),F=1<<H;E[H]=0,D[H]=-1;var j=B[H];if(j!==null)for(B[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}s&=~F}l!==0&&ks(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ks(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ue(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function kr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ue(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function qr(t,n){var s=n&-n;return s=(s&42)!==0?1:qs(s),(s&(t.suspendedLanes|n))!==0?0:s}function qs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yo(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:ly(t.type))}function Ln(t,n){var s=tt.p;try{return tt.p=t,n()}finally{tt.p=s}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Ie="__reactProps$"+Bn,Wn="__reactContainer$"+Bn,Ca="__reactEvents$"+Bn,Cc="__reactListeners$"+Bn,_o="__reactHandles$"+Bn,vo="__reactResources$"+Bn,ti="__reactMarker$"+Bn;function Da(t){delete t[_e],delete t[Ie],delete t[Ca],delete t[Cc],delete t[_o]}function ei(t){var n=t[_e];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Wn]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Fp(t);t!==null;){if(s=t[_e])return s;t=Fp(t)}return n}t=s,s=t.parentNode}return null}function An(t){if(t=t[_e]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ni(t){var n=t[vo];return n||(n=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ti]=!0}var Pr=new Set,Hr={};function ii(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(Hr[t]=n,t=0;t<n.length;t++)Pr.add(n[t])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},Qr={};function Eo(t){return pe.call(Qr,t)?!0:pe.call(Fr,t)?!1:Gr.test(t)?Qr[t]=!0:(Fr[t]=!0,!1)}function Na(t,n,s){if(Eo(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function fn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Ee(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yr(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ht(t){if(!t._valueTracker){var n=Fi(t)?"checked":"value";t._valueTracker=Yr(t,n,""+t[n])}}function Ps(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hs=/[\n"\\]/g;function nn(t){return t.replace(Hs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Oa(t,n,s,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+xe(n)):t.value!==""+xe(n)&&(t.value=""+xe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Xr(t,g,xe(n)):s!=null?Xr(t,g,xe(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+xe(E):t.removeAttribute("name")}function To(t,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(t);return}s=s!=null?""+xe(s):"",n=n!=null?""+xe(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ht(t)}function Xr(t,n,s){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Qi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ao(t,n,s){if(n!=null&&(n=""+xe(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+xe(s):""}function Yi(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ae(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=xe(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ht(t)}function sn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kr(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||bo.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Zr(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Kr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Kr(t,f,n[f])}function Va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var $r=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,ri=null;function Gs(t){var n=An(t);if(n&&(t=n.stateNode)){var s=t[Ie]||null;t:switch(t=n.stateNode,n.type){case"input":if(Oa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Ie]||null;if(!c)throw Error(r(90));Oa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ps(l)}break t;case"textarea":Ao(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Qi(t,!!s.multiple,n,!1)}}}var xa=!1;function Zi(t,n,s){if(xa)return t(n,s);xa=!0;try{var l=t(n);return l}finally{if(xa=!1,(Ki!==null||ri!==null)&&(yu(),Ki&&(n=Ki,t=ri,ri=Ki=null,Gs(n),t)))for(n=0;n<t.length;n++)Gs(t[n])}}function kn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ie]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(Sn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{Fs=!1}var li=null,Jr=null,Qs=null;function Wr(){if(Qs)return Qs;var t,n=Jr,s=n.length,l,c="value"in li?li.value:li.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return Qs=c.slice(t,1<l?1-l:void 0)}function Ys(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function qn(){return!1}function je(t){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bi:qn,this.isPropagationStopped=qn,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=je(Si),$i=C({},Si,{view:0,detail:0}),tl=je($i),Ji,Ma,ui,Ua=C({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(Ji=t.screenX-ui.screenX,Ma=t.screenY-ui.screenY):Ma=Ji=0,ui=t),Ji)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),el=je(Ua),Xs=C({},Ua,{dataTransfer:0}),Ro=je(Xs),wo=C({},$i,{relatedTarget:0}),Ks=je(wo),nl=C({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Co=je(nl),za=C({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Do=je(za),No=C({},Si,{data:0}),ci=je(No),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Io={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Io[t])?!!n[t]:!1}function Wi(){return xo}var Je=C({},$i,{key:function(t){if(t.key){var n=Oo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mo=je(Je),Uo=C({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=je(Uo),u=C({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),m=je(u),p=C({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(p),z=C({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k=je(z),W=C({},Si,{newState:0,oldState:0}),Tt=je(W),ce=[9,13,27,32],kt=Sn&&"CompositionEvent"in window,ee=null;Sn&&"documentMode"in document&&(ee=document.documentMode);var Rn=Sn&&"TextEvent"in window&&!ee,hi=Sn&&(!kt||ee&&8<ee&&11>=ee),Pn=" ",Hn=!1;function Zs(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function H0(t,n){switch(t){case"compositionend":return La(n);case"keypress":return n.which!==32?null:(Hn=!0,Pn);case"textInput":return t=n.data,t===Pn&&Hn?null:t;default:return null}}function G0(t,n){if(Ba)return t==="compositionend"||!kt&&Zs(t,n)?(t=Wr(),Qs=Jr=li=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!F0[t.type]:n==="textarea"}function Kd(t,n,s,l){Ki?ri?ri.push(l):ri=[l]:Ki=l,n=Su(n,"onChange"),0<n.length&&(s=new oi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var il=null,sl=null;function Q0(t){Vp(t,0)}function zo(t){var n=hn(t);if(Ps(n))return t}function Zd(t,n){if(t==="change")return n}var $d=!1;if(Sn){var Dc;if(Sn){var Nc="oninput"in document;if(!Nc){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),Nc=typeof Jd.oninput=="function"}Dc=Nc}else Dc=!1;$d=Dc&&(!document.documentMode||9<document.documentMode)}function Wd(){il&&(il.detachEvent("onpropertychange",tm),sl=il=null)}function tm(t){if(t.propertyName==="value"&&zo(sl)){var n=[];Kd(n,sl,t,bn(t)),Zi(Q0,n)}}function Y0(t,n,s){t==="focusin"?(Wd(),il=n,sl=s,il.attachEvent("onpropertychange",tm)):t==="focusout"&&Wd()}function X0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zo(sl)}function K0(t,n){if(t==="click")return zo(n)}function Z0(t,n){if(t==="input"||t==="change")return zo(n)}function $0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:$0;function al(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!pe.call(n,c)||!dn(t[c],n[c]))return!1}return!0}function em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nm(t,n){var s=em(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=em(s)}}function im(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?im(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ai(t.document)}return n}function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var J0=Sn&&"documentMode"in document&&11>=document.documentMode,ja=null,Vc=null,rl=null,Ic=!1;function am(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ic||ja==null||ja!==ai(l)||(l=ja,"selectionStart"in l&&Oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&al(rl,l)||(rl=l,l=Su(Vc,"onSelect"),0<l.length&&(n=new oi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=ja)))}function $s(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ka={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},xc={},rm={};Sn&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Js(t){if(xc[t])return xc[t];if(!ka[t])return t;var n=ka[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in rm)return xc[t]=n[s];return t}var lm=Js("animationend"),om=Js("animationiteration"),um=Js("animationstart"),W0=Js("transitionrun"),tE=Js("transitionstart"),eE=Js("transitioncancel"),cm=Js("transitionend"),hm=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Gn(t,n){hm.set(t,n),ii(n,[t])}var Lo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wn=[],qa=0,Uc=0;function Bo(){for(var t=qa,n=Uc=qa=0;n<t;){var s=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&fm(s,c,f)}}function jo(t,n,s,l){wn[qa++]=t,wn[qa++]=n,wn[qa++]=s,wn[qa++]=l,Uc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zc(t,n,s,l){return jo(t,n,s,l),ko(t)}function Ws(t,n){return jo(t,null,null,n),ko(t)}function fm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ue(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function ko(t){if(50<Dl)throw Dl=0,Fh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pa={};function nE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,s,l){return new nE(t,n,s,l)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var s=t.alternate;return s===null?(s=mn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function dm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,s,l,c,f){var g=0;if(l=t,typeof t=="function")Lc(t)&&(g=1);else if(typeof t=="string")g=l1(t,s,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=mn(31,s,n,c),t.elementType=w,t.lanes=f,t;case it:return ta(s.children,c,f,n);case J:g=8,c|=24;break;case pt:return t=mn(12,s,n,c|2),t.elementType=pt,t.lanes=f,t;case rt:return t=mn(13,s,n,c),t.elementType=rt,t.lanes=f,t;case nt:return t=mn(19,s,n,c),t.elementType=nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:g=10;break t;case Rt:g=9;break t;case Et:g=11;break t;case R:g=14;break t;case b:g=16,l=null;break t}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=mn(g,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ta(t,n,s,l){return t=mn(7,t,l,n),t.lanes=s,t}function Bc(t,n,s){return t=mn(6,t,null,n),t.lanes=s,t}function mm(t){var n=mn(18,null,null,0);return n.stateNode=t,n}function jc(t,n,s){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var gm=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var s=gm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Lr(n)},gm.set(t,n),n)}return{value:t,source:n,stack:Lr(n)}}var Ha=[],Ga=0,Po=null,ll=0,Dn=[],Nn=0,ts=null,fi=1,di="";function Ci(t,n){Ha[Ga++]=ll,Ha[Ga++]=Po,Po=t,ll=n}function pm(t,n,s){Dn[Nn++]=fi,Dn[Nn++]=di,Dn[Nn++]=ts,ts=t;var l=fi;t=di;var c=32-ue(l)-1;l&=~(1<<c),s+=1;var f=32-ue(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,fi=1<<32-ue(n)+c|s<<c|l,di=f+t}else fi=1<<f|s<<c|l,di=t}function kc(t){t.return!==null&&(Ci(t,1),pm(t,1,0))}function qc(t){for(;t===Po;)Po=Ha[--Ga],Ha[Ga]=null,ll=Ha[--Ga],Ha[Ga]=null;for(;t===ts;)ts=Dn[--Nn],Dn[Nn]=null,di=Dn[--Nn],Dn[Nn]=null,fi=Dn[--Nn],Dn[Nn]=null}function ym(t,n){Dn[Nn++]=fi,Dn[Nn++]=di,Dn[Nn++]=ts,fi=n.id,di=n.overflow,ts=t}var ke=null,Jt=null,Ot=!1,es=null,On=!1,Pc=Error(r(519));function ns(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Cn(n,t)),Pc}function _m(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Ie]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<Ol.length;s++)Ct(Ol[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),To(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Yi(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Up(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ns(t,!0)}function vm(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:ke=ke.return}}function Fa(t){if(t!==ke)return!1;if(!Ot)return vm(t),Ot=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||lf(t.type,t.memoizedProps)),s=!s),s&&Jt&&ns(t),vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Jt=Gp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Jt=Gp(t)}else n===27?(n=Jt,ps(t.type)?(t=ff,ff=null,Jt=t):Jt=n):Jt=ke?In(t.stateNode.nextSibling):null;return!0}function ea(){Jt=ke=null,Ot=!1}function Hc(){var t=es;return t!==null&&(on===null?on=t:on.push.apply(on,t),es=null),t}function ol(t){es===null?es=[t]:es.push(t)}var Gc=V(null),na=null,Di=null;function is(t,n,s){et(Gc,n._currentValue),n._currentValue=s}function Ni(t){t._currentValue=Gc.current,Q(Gc)}function Fc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Qc(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Fc(f.return,s,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Fc(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Qa(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;dn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===It.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&Qc(n,t,s,l),n.flags|=262144}function Ho(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Em(na,t)}function Go(t,n){return na===null&&ia(t),Em(t,n)}function Em(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Di===null){if(t===null)throw Error(r(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return s}var iE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},sE=a.unstable_scheduleCallback,aE=a.unstable_NormalPriority,Te={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new iE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&sE(aE,function(){t.controller.abort()})}var cl=null,Xc=0,Ya=0,Xa=null;function rE(t,n){if(cl===null){var s=cl=[];Xc=0,Ya=$h(),Xa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xc++,n.then(Tm,Tm),n}function Tm(){if(--Xc===0&&cl!==null){Xa!==null&&(Xa.status="fulfilled");var t=cl;cl=null,Ya=0,Xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function lE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Am=P.S;P.S=function(t,n){ap=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&rE(t,n),Am!==null&&Am(t,n)};var sa=V(null);function Kc(){var t=sa.current;return t!==null?t:$t.pooledCache}function Fo(t,n){n===null?et(sa,sa.current):et(sa,n.pool)}function bm(){var t=Kc();return t===null?null:{parent:Te._currentValue,pool:t}}var Ka=Error(r(460)),Zc=Error(r(474)),Qo=Error(r(542)),Yo={then:function(){}};function Sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t}throw ra=n,Ka}}function aa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ra=s,Ka):s}}var ra=null;function wm(){if(ra===null)throw Error(r(459));var t=ra;return ra=null,t}function Cm(t){if(t===Ka||t===Qo)throw Error(r(483))}var Za=null,hl=0;function Xo(t){var n=hl;return hl+=1,Za===null&&(Za=[]),Rm(Za,t,n)}function fl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ko(t,n){throw n.$$typeof===U?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dm(t){function n(M,O){if(t){var L=M.deletions;L===null?(M.deletions=[O],M.flags|=16):L.push(O)}}function s(M,O){if(!t)return null;for(;O!==null;)n(M,O),O=O.sibling;return null}function l(M){for(var O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function c(M,O){return M=wi(M,O),M.index=0,M.sibling=null,M}function f(M,O,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<O?(M.flags|=67108866,O):L):(M.flags|=67108866,O)):(M.flags|=1048576,O)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,O,L,G){return O===null||O.tag!==6?(O=Bc(L,M.mode,G),O.return=M,O):(O=c(O,L),O.return=M,O)}function D(M,O,L,G){var ct=L.type;return ct===it?H(M,O,L.props.children,G,L.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&aa(ct)===O.type)?(O=c(O,L.props),fl(O,L),O.return=M,O):(O=qo(L.type,L.key,L.props,null,M.mode,G),fl(O,L),O.return=M,O)}function B(M,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=jc(L,M.mode,G),O.return=M,O):(O=c(O,L.children||[]),O.return=M,O)}function H(M,O,L,G,ct){return O===null||O.tag!==7?(O=ta(L,M.mode,G,ct),O.return=M,O):(O=c(O,L),O.return=M,O)}function F(M,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bc(""+O,M.mode,L),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Y:return L=qo(O.type,O.key,O.props,null,M.mode,L),fl(L,O),L.return=M,L;case $:return O=jc(O,M.mode,L),O.return=M,O;case b:return O=aa(O),F(M,O,L)}if(ae(O)||x(O))return O=ta(O,M.mode,L,null),O.return=M,O;if(typeof O.then=="function")return F(M,Xo(O),L);if(O.$$typeof===ft)return F(M,Go(M,O),L);Ko(M,O)}return null}function j(M,O,L,G){var ct=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(M,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return L.key===ct?D(M,O,L,G):null;case $:return L.key===ct?B(M,O,L,G):null;case b:return L=aa(L),j(M,O,L,G)}if(ae(L)||x(L))return ct!==null?null:H(M,O,L,G,null);if(typeof L.then=="function")return j(M,O,Xo(L),G);if(L.$$typeof===ft)return j(M,O,Go(M,L),G);Ko(M,L)}return null}function q(M,O,L,G,ct){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(L)||null,E(O,M,""+G,ct);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Y:return M=M.get(G.key===null?L:G.key)||null,D(O,M,G,ct);case $:return M=M.get(G.key===null?L:G.key)||null,B(O,M,G,ct);case b:return G=aa(G),q(M,O,L,G,ct)}if(ae(G)||x(G))return M=M.get(L)||null,H(O,M,G,ct,null);if(typeof G.then=="function")return q(M,O,L,Xo(G),ct);if(G.$$typeof===ft)return q(M,O,L,Go(O,G),ct);Ko(O,G)}return null}function ot(M,O,L,G){for(var ct=null,Bt=null,ut=O,St=O=0,Nt=null;ut!==null&&St<L.length;St++){ut.index>St?(Nt=ut,ut=null):Nt=ut.sibling;var jt=j(M,ut,L[St],G);if(jt===null){ut===null&&(ut=Nt);break}t&&ut&&jt.alternate===null&&n(M,ut),O=f(jt,O,St),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt,ut=Nt}if(St===L.length)return s(M,ut),Ot&&Ci(M,St),ct;if(ut===null){for(;St<L.length;St++)ut=F(M,L[St],G),ut!==null&&(O=f(ut,O,St),Bt===null?ct=ut:Bt.sibling=ut,Bt=ut);return Ot&&Ci(M,St),ct}for(ut=l(ut);St<L.length;St++)Nt=q(ut,M,St,L[St],G),Nt!==null&&(t&&Nt.alternate!==null&&ut.delete(Nt.key===null?St:Nt.key),O=f(Nt,O,St),Bt===null?ct=Nt:Bt.sibling=Nt,Bt=Nt);return t&&ut.forEach(function(Ts){return n(M,Ts)}),Ot&&Ci(M,St),ct}function dt(M,O,L,G){if(L==null)throw Error(r(151));for(var ct=null,Bt=null,ut=O,St=O=0,Nt=null,jt=L.next();ut!==null&&!jt.done;St++,jt=L.next()){ut.index>St?(Nt=ut,ut=null):Nt=ut.sibling;var Ts=j(M,ut,jt.value,G);if(Ts===null){ut===null&&(ut=Nt);break}t&&ut&&Ts.alternate===null&&n(M,ut),O=f(Ts,O,St),Bt===null?ct=Ts:Bt.sibling=Ts,Bt=Ts,ut=Nt}if(jt.done)return s(M,ut),Ot&&Ci(M,St),ct;if(ut===null){for(;!jt.done;St++,jt=L.next())jt=F(M,jt.value,G),jt!==null&&(O=f(jt,O,St),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt);return Ot&&Ci(M,St),ct}for(ut=l(ut);!jt.done;St++,jt=L.next())jt=q(ut,M,St,jt.value,G),jt!==null&&(t&&jt.alternate!==null&&ut.delete(jt.key===null?St:jt.key),O=f(jt,O,St),Bt===null?ct=jt:Bt.sibling=jt,Bt=jt);return t&&ut.forEach(function(_1){return n(M,_1)}),Ot&&Ci(M,St),ct}function Kt(M,O,L,G){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:t:{for(var ct=L.key;O!==null;){if(O.key===ct){if(ct=L.type,ct===it){if(O.tag===7){s(M,O.sibling),G=c(O,L.props.children),G.return=M,M=G;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&aa(ct)===O.type){s(M,O.sibling),G=c(O,L.props),fl(G,L),G.return=M,M=G;break t}s(M,O);break}else n(M,O);O=O.sibling}L.type===it?(G=ta(L.props.children,M.mode,G,L.key),G.return=M,M=G):(G=qo(L.type,L.key,L.props,null,M.mode,G),fl(G,L),G.return=M,M=G)}return g(M);case $:t:{for(ct=L.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(M,O.sibling),G=c(O,L.children||[]),G.return=M,M=G;break t}else{s(M,O);break}else n(M,O);O=O.sibling}G=jc(L,M.mode,G),G.return=M,M=G}return g(M);case b:return L=aa(L),Kt(M,O,L,G)}if(ae(L))return ot(M,O,L,G);if(x(L)){if(ct=x(L),typeof ct!="function")throw Error(r(150));return L=ct.call(L),dt(M,O,L,G)}if(typeof L.then=="function")return Kt(M,O,Xo(L),G);if(L.$$typeof===ft)return Kt(M,O,Go(M,L),G);Ko(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(M,O.sibling),G=c(O,L),G.return=M,M=G):(s(M,O),G=Bc(L,M.mode,G),G.return=M,M=G),g(M)):s(M,O)}return function(M,O,L,G){try{hl=0;var ct=Kt(M,O,L,G);return Za=null,ct}catch(ut){if(ut===Ka||ut===Qo)throw ut;var Bt=mn(29,ut,null,M.mode);return Bt.lanes=G,Bt.return=M,Bt}finally{}}}var la=Dm(!0),Nm=Dm(!1),ss=!1;function $c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function as(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ko(t),fm(t,null,s),n}return jo(t,l,n,s),ko(t)}function dl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,kr(t,s)}}function Wc(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var th=!1;function ml(){if(th){var t=Xa;if(t!==null)throw t}}function gl(t,n,s,l){th=!1;var c=t.updateQueue;ss=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,B=D.next;D.next=null,g===null?f=B:g.next=B,g=D;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=D))}if(f!==null){var F=c.baseState;g=0,H=B=D=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Dt&j)===j:(l&j)===j){j!==0&&j===Ya&&(th=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,dt=E;j=n;var Kt=s;switch(dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){F=ot.call(Kt,F,j);break t}F=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,j=typeof ot=="function"?ot.call(Kt,F,j):ot,j==null)break t;F=C({},F,j);break t;case 2:ss=!0}}j=E.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=q,D=F):H=H.next=q,g|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(D=F),c.baseState=D,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),hs|=g,t.lanes=g,t.memoizedState=F}}function Om(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Vm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Om(s[t],n)}var $a=V(null),Zo=V(0);function Im(t,n){t=Bi,et(Zo,t),et($a,n),Bi=t|n.baseLanes}function eh(){et(Zo,Bi),et($a,$a.current)}function nh(){Bi=Zo.current,Q($a),Q(Zo)}var gn=V(null),Vn=null;function ls(t){var n=t.alternate;et(he,he.current&1),et(gn,t),Vn===null&&(n===null||$a.current!==null||n.memoizedState!==null)&&(Vn=t)}function ih(t){et(he,he.current),et(gn,t),Vn===null&&(Vn=t)}function xm(t){t.tag===22?(et(he,he.current),et(gn,t),Vn===null&&(Vn=t)):os()}function os(){et(he,he.current),et(gn,gn.current)}function pn(t){Q(gn),Vn===t&&(Vn=null),Q(he)}var he=V(0);function $o(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cf(s)||hf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,At=null,Yt=null,Ae=null,Jo=!1,Ja=!1,oa=!1,Wo=0,pl=0,Wa=null,oE=0;function le(){throw Error(r(321))}function sh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!dn(t[s],n[s]))return!1;return!0}function ah(t,n,s,l,c,f){return Oi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=t===null||t.memoizedState===null?pg:Eh,oa=!1,f=s(l,c),oa=!1,Ja&&(f=Um(n,s,l,c)),Mm(t),f}function Mm(t){P.H=vl;var n=Yt!==null&&Yt.next!==null;if(Oi=0,Ae=Yt=At=null,Jo=!1,pl=0,Wa=null,n)throw Error(r(300));t===null||be||(t=t.dependencies,t!==null&&Ho(t)&&(be=!0))}function Um(t,n,s,l){At=t;var c=0;do{if(Ja&&(Wa=null),pl=0,Ja=!1,25<=c)throw Error(r(301));if(c+=1,Ae=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=yg,f=n(s,l)}while(Ja);return f}function uE(){var t=P.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(At.flags|=1024),n}function rh(){var t=Wo!==0;return Wo=0,t}function lh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function oh(t){if(Jo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Jo=!1}Oi=0,Ae=Yt=At=null,Ja=!1,pl=Wo=0,Wa=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function fe(){if(Yt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=t;else{if(t===null)throw At.alternate===null?Error(r(467)):Error(r(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,Wa===null&&(Wa=[]),t=Rm(Wa,t,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?pg:Eh),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===ft)return qe(t)}throw Error(r(438,String(t)))}function uh(t){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=tu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=I;return n.index++,s}function Vi(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=fe();return ch(n,Yt,t)}function ch(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,D=null,B=n,H=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Dt&F)===F:(Oi&F)===F){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Ya&&(H=!0);else if((Oi&j)===j){B=B.next,j===Ya&&(H=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=F,g=f):D=D.next=F,At.lanes|=j,hs|=j;F=B.action,oa&&s(f,F),f=B.hasEagerState?B.eagerState:s(f,F)}else j={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=j,g=f):D=D.next=j,At.lanes|=F,hs|=F;B=B.next}while(B!==null&&B!==n);if(D===null?g=f:D.next=E,!dn(f,t.memoizedState)&&(be=!0,H&&(s=Xa,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hh(t){var n=fe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);dn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function zm(t,n,s){var l=At,c=fe(),f=Ot;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!dn((Yt||c).memoizedState,s);if(g&&(c.memoizedState=s,be=!0),c=c.queue,mh(jm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,tr(9,{destroy:void 0},Bm.bind(null,l,c,s,n),null),$t===null)throw Error(r(349));f||(Oi&127)!==0||Lm(l,n,s)}return s}function Lm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=tu(),At.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Bm(t,n,s,l){n.value=s,n.getSnapshot=l,km(n)&&qm(t)}function jm(t,n,s){return s(function(){km(n)&&qm(t)})}function km(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!dn(t,s)}catch{return!0}}function qm(t){var n=Ws(t,2);n!==null&&un(n,t,2)}function fh(t){var n=We();if(typeof t=="function"){var s=t;if(t=s(),oa){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function Pm(t,n,s,l){return t.baseState=s,ch(t,Yt,typeof l=="function"?l:Vi)}function cE(t,n,s,l,c){if(au(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};P.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Hm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Hm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=P.T,g={};P.T=g;try{var E=s(c,l),D=P.S;D!==null&&D(g,E),Gm(t,n,E)}catch(B){dh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),P.T=f}}else try{f=s(c,l),Gm(t,n,f)}catch(B){dh(t,n,B)}}function Gm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Fm(t,n,l)},function(l){return dh(t,n,l)}):Fm(t,n,s)}function Fm(t,n,s){n.status="fulfilled",n.value=s,Qm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Hm(t,s)))}function dh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Qm(n),n=n.next;while(n!==l)}t.action=null}function Qm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ym(t,n){return n}function Xm(t,n){if(Ot){var s=$t.formState;if(s!==null){t:{var l=At;if(Ot){if(Jt){e:{for(var c=Jt,f=On;c.nodeType!==8;){if(!f){c=null;break e}if(c=In(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Jt=In(c.nextSibling),l=c.data==="F!";break t}}ns(l)}l=!1}l&&(n=s[0])}}return s=We(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:n},s.queue=l,s=dg.bind(null,At,l),l.dispatch=s,l=fh(!1),f=vh.bind(null,At,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=cE.bind(null,At,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Km(t){var n=fe();return Zm(n,Yt,t)}function Zm(t,n,s){if(n=ch(t,n,Ym)[0],t=nu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(g){throw g===Ka?Qo:g}else l=n;n=fe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(At.flags|=2048,tr(9,{destroy:void 0},hE.bind(null,c,s),null)),[l,f,t]}function hE(t,n){t.action=n}function $m(t){var n=fe(),s=Yt;if(s!==null)return Zm(n,s,t);fe(),n=n.memoizedState,s=fe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function tr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=tu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Jm(){return fe().memoizedState}function iu(t,n,s,l){var c=We();At.flags|=t,c.memoizedState=tr(1|n,{destroy:void 0},s,l===void 0?null:l)}function su(t,n,s,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&sh(l,Yt.memoizedState.deps)?c.memoizedState=tr(n,f,s,l):(At.flags|=t,c.memoizedState=tr(1|n,f,s,l))}function Wm(t,n){iu(8390656,8,t,n)}function mh(t,n){su(2048,8,t,n)}function fE(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=tu(),At.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function tg(t){var n=fe().memoizedState;return fE({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function eg(t,n){return su(4,2,t,n)}function ng(t,n){return su(4,4,t,n)}function ig(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,s){s=s!=null?s.concat([t]):null,su(4,4,ig.bind(null,n,t),s)}function gh(){}function ag(t,n){var s=fe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function rg(t,n){var s=fe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),oa){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,n],l}function ph(t,n,s){return s===void 0||(Oi&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=lp(),At.lanes|=t,hs|=t,s)}function lg(t,n,s,l){return dn(s,n)?s:$a.current!==null?(t=ph(t,s,l),dn(t,n)||(be=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(Dt&261930)===0?(be=!0,t.memoizedState=s):(t=lp(),At.lanes|=t,hs|=t,n)}function og(t,n,s,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=P.T,E={};P.T=E,vh(t,!1,n,s);try{var D=c(),B=P.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=lE(D,l);_l(t,n,H,vn(t))}else _l(t,n,l,vn(t))}catch(F){_l(t,n,{then:function(){},status:"rejected",reason:F},vn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),P.T=g}}function dE(){}function yh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=ug(t).queue;og(t,c,n,ht,s===null?dE:function(){return cg(t),s(l)})}function ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=ug(t);n.next===null&&(n=t.alternate.memoizedState),_l(t,n.next.queue,{},vn())}function _h(){return qe(Ul)}function hg(){return fe().memoizedState}function fg(){return fe().memoizedState}function mE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();t=as(s);var l=rs(n,t,s);l!==null&&(un(l,n,s),dl(l,n,s)),n={cache:Yc()},t.payload=n;return}n=n.return}}function gE(t,n,s){var l=vn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},au(t)?mg(n,s):(s=zc(t,n,s,l),s!==null&&(un(s,t,l),gg(s,n,l)))}function dg(t,n,s){var l=vn();_l(t,n,s,l)}function _l(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(au(t))mg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,dn(E,g))return jo(t,n,c,0),$t===null&&Bo(),!1}catch{}finally{}if(s=zc(t,n,c,l),s!==null)return un(s,t,l),gg(s,n,l),!0}return!1}function vh(t,n,s,l){if(l={lane:2,revertLane:$h(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(r(479))}else n=zc(t,s,l,2),n!==null&&un(n,t,2)}function au(t){var n=t.alternate;return t===At||n!==null&&n===At}function mg(t,n){Ja=Jo=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function gg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,kr(t,s)}}var vl={readContext:qe,use:eu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};vl.useEffectEvent=le;var pg={readContext:qe,use:eu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Wm,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,iu(4194308,4,ig.bind(null,n,t),s)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var s=We();n=n===void 0?null:n;var l=t();if(oa){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=We();if(s!==void 0){var c=s(n);if(oa){Tn(!0);try{s(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=gE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=fh(t);var n=t.queue,s=dg.bind(null,At,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:gh,useDeferredValue:function(t,n){var s=We();return ph(s,t,n)},useTransition:function(){var t=fh(!1);return t=og.bind(null,At,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=At,c=We();if(Ot){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$t===null)throw Error(r(349));(Dt&127)!==0||Lm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Wm(jm.bind(null,l,f,t),[t]),l.flags|=2048,tr(9,{destroy:void 0},Bm.bind(null,l,f,s,n),null),s},useId:function(){var t=We(),n=$t.identifierPrefix;if(Ot){var s=di,l=fi;s=(l&~(1<<32-ue(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Wo++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=oE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:_h,useFormState:Xm,useActionState:Xm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vh.bind(null,At,!0,s),s.dispatch=n,[t,n]},useMemoCache:uh,useCacheRefresh:function(){return We().memoizedState=mE.bind(null,At)},useEffectEvent:function(t){var n=We(),s={impl:t};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Eh={readContext:qe,use:eu,useCallback:ag,useContext:qe,useEffect:mh,useImperativeHandle:sg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:rg,useReducer:nu,useRef:Jm,useState:function(){return nu(Vi)},useDebugValue:gh,useDeferredValue:function(t,n){var s=fe();return lg(s,Yt.memoizedState,t,n)},useTransition:function(){var t=nu(Vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:zm,useId:hg,useHostTransitionStatus:_h,useFormState:Km,useActionState:Km,useOptimistic:function(t,n){var s=fe();return Pm(s,Yt,t,n)},useMemoCache:uh,useCacheRefresh:fg};Eh.useEffectEvent=tg;var yg={readContext:qe,use:eu,useCallback:ag,useContext:qe,useEffect:mh,useImperativeHandle:sg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:rg,useReducer:hh,useRef:Jm,useState:function(){return hh(Vi)},useDebugValue:gh,useDeferredValue:function(t,n){var s=fe();return Yt===null?ph(s,t,n):lg(s,Yt.memoizedState,t,n)},useTransition:function(){var t=hh(Vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:zm,useId:hg,useHostTransitionStatus:_h,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var s=fe();return Yt!==null?Pm(s,Yt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:uh,useCacheRefresh:fg};yg.useEffectEvent=tg;function Th(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:C({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ah={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=vn(),c=as(l);c.payload=n,s!=null&&(c.callback=s),n=rs(t,c,l),n!==null&&(un(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=vn(),c=as(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=rs(t,c,l),n!==null&&(un(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=vn(),l=as(s);l.tag=2,n!=null&&(l.callback=n),n=rs(t,l,s),n!==null&&(un(n,t,s),dl(n,t,s))}};function _g(t,n,s,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!al(s,l)||!al(c,f):!0}function vg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Ah.enqueueReplaceState(n,n.state,null)}function ua(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=C({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function Eg(t){Lo(t)}function Tg(t){console.error(t)}function Ag(t){Lo(t)}function ru(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,s){return s=as(s),s.tag=3,s.payload={element:null},s.callback=function(){ru(t,n)},s}function Sg(t){return t=as(t),t.tag=3,t}function Rg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){bg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){bg(n,s,l),typeof c!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function pE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Qa(n,s,c,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?_u():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Yo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Xh(t,l,c)),!1;case 22:return s.flags|=65536,l===Yo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Xh(t,l,c)),!1}throw Error(r(435,s.tag))}return Xh(t,l,c),_u(),!1}if(Ot)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Pc&&(t=Error(r(422),{cause:l}),ol(Cn(t,s)))):(l!==Pc&&(n=Error(r(423),{cause:l}),ol(Cn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Cn(l,s),c=bh(t.stateNode,l,c),Wc(t,c),oe!==4&&(oe=2)),!1;var f=Error(r(520),{cause:l});if(f=Cn(f,s),Cl===null?Cl=[f]:Cl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Cn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=bh(s.stateNode,l,t),Wc(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fs===null||!fs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Sg(c),Rg(c,t,s,l),Wc(s,c),!1}s=s.return}while(s!==null);return!1}var Sh=Error(r(461)),be=!1;function Pe(t,n,s,l){n.child=t===null?Nm(n,null,s,l):la(n,t.child,s,l)}function wg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ia(n),l=ah(t,n,s,g,f,c),E=rh(),t!==null&&!be?(lh(t,n,c),Ii(t,n,c)):(Ot&&E&&kc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Cg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Lc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,c)):(t=qo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ih(t,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:al,s(g,l)&&t.ref===n.ref)return Ii(t,n,c)}return n.flags|=1,t=wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,Ih(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Ii(t,n,c)}return Rh(t,n,s,l,c)}function Ng(t,n,s,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Og(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,f!==null?f.cachePool:null),f!==null?Im(n,f):eh(),xm(n);else return l=n.lanes=536870912,Og(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Fo(n,f.cachePool),Im(n,f),os(),n.memoizedState=null):(t!==null&&Fo(n,null),eh(),os());return Pe(t,n,c,s),n.child}function El(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Og(t,n,s,l,c){var f=Kc();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Fo(n,null),eh(),xm(n),t!==null&&Qa(t,n,l,!0),n.childLanes=c,null}function lu(t,n){return n=uu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Vg(t,n,s){return la(n,t.child,null,s),t=lu(n,n.pendingProps),t.flags|=2,pn(n),n.memoizedState=null,t}function yE(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=lu(n,l),n.lanes=536870912,El(null,t);if(ih(n),(t=Jt)?(t=Hp(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ts!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},s=mm(t),s.return=n,n.child=s,ke=n,Jt=null)):t=null,t===null)throw ns(n);return n.lanes=536870912,null}return lu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ih(n),c)if(n.flags&256)n.flags&=-257,n=Vg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||Qa(t,n,s,!1),c=(s&t.childLanes)!==0,be||c){if(l=$t,l!==null&&(g=qr(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ws(t,g),un(l,t,g),Sh;_u(),n=Vg(t,n,s)}else t=f.treeContext,Jt=In(g.nextSibling),ke=n,Ot=!0,es=null,On=!1,t!==null&&ym(n,t),n=lu(n,l),n.flags|=4096;return n}return t=wi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ou(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Rh(t,n,s,l,c){return ia(n),s=ah(t,n,s,l,void 0,c),l=rh(),t!==null&&!be?(lh(t,n,c),Ii(t,n,c)):(Ot&&l&&kc(n),n.flags|=1,Pe(t,n,s,c),n.child)}function Ig(t,n,s,l,c,f){return ia(n),n.updateQueue=null,s=Um(n,l,s,c),Mm(t),l=rh(),t!==null&&!be?(lh(t,n,f),Ii(t,n,f)):(Ot&&l&&kc(n),n.flags|=1,Pe(t,n,s,f),n.child)}function xg(t,n,s,l,c){if(ia(n),n.stateNode===null){var f=Pa,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ah,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},$c(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Pa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Th(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ah.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=ua(s,E);f.props=D;var B=f.context,H=s.contextType;g=Pa,typeof H=="object"&&H!==null&&(g=qe(H));var F=s.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&vg(n,f,l,g),ss=!1;var j=n.memoizedState;f.state=j,gl(n,l,f,c),ml(),B=n.memoizedState,E||j!==B||ss?(typeof F=="function"&&(Th(n,s,F,l),B=n.memoizedState),(D=ss||_g(n,s,D,l,j,B,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Jc(t,n),g=n.memoizedProps,H=ua(s,g),f.props=H,F=n.pendingProps,j=f.context,B=s.contextType,D=Pa,typeof B=="object"&&B!==null&&(D=qe(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||j!==D)&&vg(n,f,l,D),ss=!1,j=n.memoizedState,f.state=j,gl(n,l,f,c),ml();var q=n.memoizedState;g!==F||j!==q||ss||t!==null&&t.dependencies!==null&&Ho(t.dependencies)?(typeof E=="function"&&(Th(n,s,E,l),q=n.memoizedState),(H=ss||_g(n,s,H,l,j,q,D)||t!==null&&t.dependencies!==null&&Ho(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=D,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ou(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,c),n.child=la(n,null,s,c)):Pe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Ii(t,n,c),t}function Mg(t,n,s,l){return ea(),n.flags|=256,Pe(t,n,s,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ch(t){return{baseLanes:t,cachePool:bm()}}function Dh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=_n),t}function Ug(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?ls(n):os(),(t=Jt)?(t=Hp(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ts!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},s=mm(t),s.return=n,n.child=s,ke=n,Jt=null)):t=null,t===null)throw ns(n);return hf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(os(),c=n.mode,E=uu({mode:"hidden",children:E},c),l=ta(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ch(s),l.childLanes=Dh(t,g,s),n.memoizedState=wh,El(null,l)):(ls(n),Nh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(ls(n),n.flags&=-257,n=Oh(t,n,s)):n.memoizedState!==null?(os(),n.child=t.child,n.flags|=128,n=null):(os(),E=l.fallback,c=n.mode,l=uu({mode:"visible",children:l.children},c),E=ta(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,la(n,t.child,null,s),l=n.child,l.memoizedState=Ch(s),l.childLanes=Dh(t,g,s),n.memoizedState=wh,n=El(null,l));else if(ls(n),hf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,ol({value:l,source:null,stack:null}),n=Oh(t,n,s)}else if(be||Qa(t,n,s,!1),g=(s&t.childLanes)!==0,be||g){if(g=$t,g!==null&&(l=qr(g,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ws(t,l),un(g,t,l),Sh;cf(E)||_u(),n=Oh(t,n,s)}else cf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Jt=In(E.nextSibling),ke=n,Ot=!0,es=null,On=!1,t!==null&&ym(n,t),n=Nh(n,l.children),n.flags|=4096);return n}return c?(os(),E=l.fallback,c=n.mode,D=t.child,B=D.sibling,l=wi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?E=wi(B,E):(E=ta(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,El(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ch(s):(c=E.cachePool,c!==null?(D=Te._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=bm(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=Dh(t,g,s),n.memoizedState=wh,El(t.child,l)):(ls(n),s=t.child,t=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Nh(t,n){return n=uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uu(t,n){return t=mn(22,t,null,n),t.lanes=0,t}function Oh(t,n,s){return la(n,t.child,null,s),t=Nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function zg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Fc(t.return,n,s)}function Vh(t,n,s,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function Lg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(he,g),Pe(t,n,l,s),l=Ot?ll:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zg(t,s,n);else if(t.tag===19)zg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&$o(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Vh(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&$o(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Vh(n,!0,s,null,f,l);break;case"together":Vh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ii(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),hs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Qa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=wi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=wi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ih(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ho(t)))}function _E(t,n,s){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),is(n,Te,t.memoizedState.cache),ea();break;case 27:case 5:Us(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ih(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ls(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Ug(t,n,s):(ls(n),t=Ii(t,n,s),t!==null?t.sibling:null);ls(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Qa(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Lg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(he,he.current),l)break;return null;case 22:return n.lanes=0,Ng(t,n,s,n.pendingProps);case 24:is(n,Te,t.memoizedState.cache)}return Ii(t,n,s)}function Bg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!Ih(t,s)&&(n.flags&128)===0)return be=!1,_E(t,n,s);be=(t.flags&131072)!==0}else be=!1,Ot&&(n.flags&1048576)!==0&&pm(n,ll,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=aa(n.elementType),n.type=t,typeof t=="function")Lc(t)?(l=ua(t,l),n.tag=1,n=xg(null,n,t,l,s)):(n.tag=0,n=Rh(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===Et){n.tag=11,n=wg(null,n,t,l,s);break t}else if(c===R){n.tag=14,n=Cg(null,n,t,l,s);break t}}throw n=Zt(t)||t,Error(r(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=ua(l,n.pendingProps),xg(t,n,l,c,s);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Jc(t,n),gl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,is(n,Te,l),l!==f.cache&&Qc(n,[Te],s,!0),ml(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Mg(t,n,l,s);break t}else if(l!==c){c=Cn(Error(r(424)),n),ol(c),n=Mg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Jt=In(t.firstChild),ke=n,Ot=!0,es=null,On=!0,s=Nm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ea(),l===c){n=Ii(t,n,s);break t}Pe(t,n,l,s)}n=n.child}return n;case 26:return ou(t,n),t===null?(s=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ot||(s=n.type,t=n.pendingProps,l=Ru(bt.current).createElement(s),l[_e]=n,l[Ie]=t,He(l,s,t),ve(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Us(n),t===null&&Ot&&(l=n.stateNode=Qp(n.type,n.pendingProps,bt.current),ke=n,On=!0,c=Jt,ps(n.type)?(ff=c,Jt=In(l.firstChild)):Jt=c),Pe(t,n,n.pendingProps.children,s),ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=Jt)&&(l=XE(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,ke=n,Jt=In(l.firstChild),On=!1,c=!0):c=!1),c||ns(n)),Us(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,lf(c,f)?l=null:g!==null&&lf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=ah(t,n,uE,null,null,s),Ul._currentValue=c),ou(t,n),Pe(t,n,l,s),n.child;case 6:return t===null&&Ot&&((t=s=Jt)&&(s=KE(s,n.pendingProps,On),s!==null?(n.stateNode=s,ke=n,Jt=null,t=!0):t=!1),t||ns(n)),null;case 13:return Ug(t,n,s);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,s):Pe(t,n,l,s),n.child;case 11:return wg(t,n,n.type,n.pendingProps,s);case 7:return Pe(t,n,n.pendingProps,s),n.child;case 8:return Pe(t,n,n.pendingProps.children,s),n.child;case 12:return Pe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,is(n,n.type,l.value),Pe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ia(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,s),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,s);case 15:return Dg(t,n,n.type,n.pendingProps,s);case 19:return Lg(t,n,s);case 31:return yE(t,n,s);case 22:return Ng(t,n,s,n.pendingProps);case 24:return ia(n),l=qe(Te),t===null?(c=Kc(),c===null&&(c=$t,f=Yc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},$c(n),is(n,Te,c)):((t.lanes&s)!==0&&(Jc(t,n),gl(n,null,null,s),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),is(n,Te,l)):(l=f.cache,is(n,Te,l),l!==c.cache&&Qc(n,[Te],s,!0))),Pe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function xi(t){t.flags|=4}function xh(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(hp())t.flags|=8192;else throw ra=Yo,Zc}else t.flags&=-16777217}function jg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n))if(hp())t.flags|=8192;else throw ra=Yo,Zc}function cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?po():536870912,t.lanes|=n,sr|=n)}function Tl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function vE(t,n,s){var l=n.pendingProps;switch(qc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(Te),te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Fa(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hc())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(Wt(n),jg(n,f)):(Wt(n),xh(n,c,null,l,s))):f?f!==t.memoizedState?(xi(n),Wt(n),jg(n,f)):(Wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),Wt(n),xh(n,c,t,l,s)),null;case 27:if(ba(n),s=bt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}t=st.current,Fa(n)?_m(n):(t=Qp(c,l,s),n.stateNode=t,xi(n))}return Wt(n),null;case 5:if(ba(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}if(f=st.current,Fa(n))_m(n);else{var g=Ru(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Ie]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return Wt(n),xh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=bt.current,Fa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Up(t.nodeValue,s)),t||ns(n,!0)}else t=Ru(t).createTextNode(l),t[_e]=n,n.stateNode=t}return Wt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Fa(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=n}else ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),t=!1}else s=Hc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Hc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),cu(n,n.updateQueue),Wt(n),null);case 4:return te(),t===null&&ef(n.stateNode.containerInfo),Wt(n),null;case 10:return Ni(n.type),Wt(n),null;case 19:if(Q(he),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Tl(l,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$o(t),f!==null){for(n.flags|=128,Tl(l,!1),t=f.updateQueue,n.updateQueue=t,cu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)dm(s,t),s=s.sibling;return et(he,he.current&1|2),Ot&&Ci(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$e()>gu&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304)}else{if(!c)if(t=$o(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,cu(n,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return Wt(n),null}else 2*$e()-l.renderingStartTime>gu&&s!==536870912&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$e(),t.sibling=null,s=he.current,et(he,c?s&1|2:s&1),Ot&&Ci(n,l.treeForkCount),t):(Wt(n),null);case 22:case 23:return pn(n),nh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&cu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Q(sa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ni(Te),Wt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function EE(t,n){switch(qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ni(Te),te(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ba(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));ea()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ea()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(he),null;case 4:return te(),null;case 10:return Ni(n.type),null;case 22:case 23:return pn(n),nh(),t!==null&&Q(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ni(Te),null;case 25:return null;default:return null}}function kg(t,n){switch(qc(n),n.tag){case 3:Ni(Te),te();break;case 26:case 27:case 5:ba(n);break;case 4:te();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:Q(he);break;case 10:Ni(n.type);break;case 22:case 23:pn(n),nh(),t!==null&&Q(sa);break;case 24:Ni(Te)}}function Al(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Ft(n,n.return,E)}}function us(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var D=s,B=E;try{B()}catch(H){Ft(c,D,H)}}}l=l.next}while(l!==f)}}catch(H){Ft(n,n.return,H)}}function qg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Vm(n,s)}catch(l){Ft(t,t.return,l)}}}function Pg(t,n,s){s.props=ua(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ft(t,n,l)}}function bl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Ft(t,n,c)}}function mi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ft(t,n,c)}else s.current=null}function Hg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Ft(t,t.return,c)}}function Mh(t,n,s){try{var l=t.stateNode;PE(l,t.type,s,n),l[Ie]=n}catch(c){Ft(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ps(t.type)||t.tag===4}function Uh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ps(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&ps(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(zh(t,n,s),t=t.sibling;t!==null;)zh(t,n,s),t=t.sibling}function hu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ps(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(hu(t,n,s),t=t.sibling;t!==null;)hu(t,n,s),t=t.sibling}function Fg(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,s),n[_e]=t,n[Ie]=s}catch(f){Ft(t,t.return,f)}}var Mi=!1,Se=!1,Lh=!1,Qg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function TE(t,n){if(t=t.containerInfo,af=Iu,t=sm(t),Oc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,D=-1,B=0,H=0,F=t,j=null;e:for(;;){for(var q;F!==s||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(D=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)j=F,F=q;for(;;){if(F===t)break e;if(j===s&&++B===c&&(E=g),j===f&&++H===l&&(D=g),(q=F.nextSibling)!==null)break;F=j,j=F.parentNode}F=q}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(rf={focusedElem:t,selectionRange:s},Iu=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=ua(s.type,c);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Ft(s,s.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)uf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}}function Yg(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:zi(t,s),l&4&&Al(5,s);break;case 1:if(zi(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Ft(s,s.return,g)}else{var c=ua(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(s,s.return,g)}}l&64&&qg(s),l&512&&bl(s,s.return);break;case 3:if(zi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Vm(t,n)}catch(g){Ft(s,s.return,g)}}break;case 27:n===null&&l&4&&Fg(s);case 26:case 5:zi(t,s),n===null&&l&4&&Hg(s),l&512&&bl(s,s.return);break;case 12:zi(t,s);break;case 31:zi(t,s),l&4&&Zg(t,s);break;case 13:zi(t,s),l&4&&$g(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=OE.bind(null,s),ZE(t,s))));break;case 22:if(l=s.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||Se,c=Mi;var f=Se;Mi=l,(Se=n)&&!f?Li(t,s,(s.subtreeFlags&8772)!==0):zi(t,s),Mi=c,Se=f}break;case 30:break;default:zi(t,s)}}function Xg(t){var n=t.alternate;n!==null&&(t.alternate=null,Xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,an=!1;function Ui(t,n,s){for(s=s.child;s!==null;)Kg(t,n,s),s=s.sibling}function Kg(t,n,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:Se||mi(s,n),Ui(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||mi(s,n);var l=ne,c=an;ps(s.type)&&(ne=s.stateNode,an=!1),Ui(t,n,s),Il(s.stateNode),ne=l,an=c;break;case 5:Se||mi(s,n);case 6:if(l=ne,c=an,ne=null,Ui(t,n,s),ne=l,an=c,ne!==null)if(an)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(s.stateNode)}catch(f){Ft(s,n,f)}else try{ne.removeChild(s.stateNode)}catch(f){Ft(s,n,f)}break;case 18:ne!==null&&(an?(t=ne,qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),fr(t)):qp(ne,s.stateNode));break;case 4:l=ne,c=an,ne=s.stateNode.containerInfo,an=!0,Ui(t,n,s),ne=l,an=c;break;case 0:case 11:case 14:case 15:us(2,s,n),Se||us(4,s,n),Ui(t,n,s);break;case 1:Se||(mi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Pg(s,n,l)),Ui(t,n,s);break;case 21:Ui(t,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,Ui(t,n,s),Se=l;break;default:Ui(t,n,s)}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fr(t)}catch(s){Ft(n,n.return,s)}}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fr(t)}catch(s){Ft(n,n.return,s)}}function AE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qg),n;default:throw Error(r(435,t.tag))}}function fu(t,n){var s=AE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=VE.bind(null,t,l);l.then(c,c)}})}function rn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ps(E.type)){ne=E.stateNode,an=!1;break t}break;case 5:ne=E.stateNode,an=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ne===null)throw Error(r(160));Kg(f,g,c),ne=null,an=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jg(n,t),n=n.sibling}var Fn=null;function Jg(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),ln(t),l&4&&(us(3,t,t.return),Al(3,t),us(5,t,t.return));break;case 1:rn(n,t),ln(t),l&512&&(Se||s===null||mi(s,s.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Fn;if(rn(n,t),ln(t),l&512&&(Se||s===null||mi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ti]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,s),f[_e]=t,ve(f),l=f;break t;case"link":var g=Jp("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Jp("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else Wp(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Wp(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mh(t,t.memoizedProps,s.memoizedProps)}break;case 27:rn(n,t),ln(t),l&512&&(Se||s===null||mi(s,s.return)),s!==null&&l&4&&Mh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,t),ln(t),l&512&&(Se||s===null||mi(s,s.return)),t.flags&32){c=t.stateNode;try{sn(c,"")}catch(ot){Ft(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Mh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Lh=!0);break;case 6:if(rn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ot){Ft(t,t.return,ot)}}break;case 3:if(Du=null,c=Fn,Fn=wu(n.containerInfo),rn(n,t),Fn=c,ln(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{fr(n.containerInfo)}catch(ot){Ft(t,t.return,ot)}Lh&&(Lh=!1,Wg(t));break;case 4:l=Fn,Fn=wu(t.stateNode.containerInfo),rn(n,t),ln(t),Fn=l;break;case 12:rn(n,t),ln(t);break;case 31:rn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 13:rn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(mu=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 22:c=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,B=Mi,H=Se;if(Mi=B||c,Se=H||D,rn(n,t),Se=H,Mi=B,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||D||Mi||Se||ca(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var F=D.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Ft(D,D.return,ot)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ot){Ft(D,D.return,ot)}}}else if(n.tag===18){if(s===null){D=n;try{var q=D.stateNode;c?Pp(q,!0):Pp(D.stateNode,!1)}catch(ot){Ft(D,D.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,fu(t,s))));break;case 19:rn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 30:break;case 21:break;default:rn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Gg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=Uh(t);hu(t,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=Uh(t);hu(t,E,g);break;case 3:case 4:var D=s.stateNode.containerInfo,B=Uh(t);zh(t,B,D);break;default:throw Error(r(161))}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:us(4,n,n.return),ca(n);break;case 1:mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Pg(n,n.return,s),ca(n);break;case 27:Il(n.stateNode);case 26:case 5:mi(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function Li(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Li(c,f,s),Al(4,f);break;case 1:if(Li(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ft(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Om(D[c],E)}catch(B){Ft(l,l.return,B)}}s&&g&64&&qg(f),bl(f,f.return);break;case 27:Fg(f);case 26:case 5:Li(c,f,s),s&&l===null&&g&4&&Hg(f),bl(f,f.return);break;case 12:Li(c,f,s);break;case 31:Li(c,f,s),s&&g&4&&Zg(c,f);break;case 13:Li(c,f,s),s&&g&4&&$g(c,f);break;case 22:f.memoizedState===null&&Li(c,f,s),bl(f,f.return);break;case 30:break;default:Li(c,f,s)}n=n.sibling}}function Bh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ul(s))}function jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Qn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tp(t,n,s,l),n=n.sibling}function tp(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,s,l),c&2048&&Al(9,n);break;case 1:Qn(t,n,s,l);break;case 3:Qn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Qn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ft(n,n.return,D)}}else Qn(t,n,s,l);break;case 31:Qn(t,n,s,l);break;case 13:Qn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,s,l):Sl(t,n):f._visibility&2?Qn(t,n,s,l):(f._visibility|=2,er(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Bh(g,n);break;case 24:Qn(t,n,s,l),c&2048&&jh(n.alternate,n);break;default:Qn(t,n,s,l)}}function er(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=s,D=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:er(f,g,E,D,c),Al(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?er(f,g,E,D,c):Sl(f,g):(H._visibility|=2,er(f,g,E,D,c)),c&&B&2048&&Bh(g.alternate,g);break;case 24:er(f,g,E,D,c),c&&B&2048&&jh(g.alternate,g);break;default:er(f,g,E,D,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(s,l),c&2048&&Bh(l.alternate,l);break;case 24:Sl(s,l),c&2048&&jh(l.alternate,l);break;default:Sl(s,l)}n=n.sibling}}var Rl=8192;function nr(t,n,s){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)ep(t,n,s),t=t.sibling}function ep(t,n,s){switch(t.tag){case 26:nr(t,n,s),t.flags&Rl&&t.memoizedState!==null&&o1(s,Fn,t.memoizedState,t.memoizedProps);break;case 5:nr(t,n,s);break;case 3:case 4:var l=Fn;Fn=wu(t.stateNode.containerInfo),nr(t,n,s),Fn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,nr(t,n,s),Rl=l):nr(t,n,s));break;default:nr(t,n,s)}}function np(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,sp(l,t)}np(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(t),t=t.sibling}function ip(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&us(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):wl(t);break;default:wl(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,sp(l,t)}np(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:us(8,n,n.return),du(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function sp(t,n){for(;Me!==null;){var s=Me;switch(s.tag){case 0:case 11:case 15:us(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Me=l;else t:for(s=t;Me!==null;){l=Me;var c=l.sibling,f=l.return;if(Xg(l),l===s){Me=null;break t}if(c!==null){c.return=f,Me=c;break t}Me=f}}}var bE={getCacheForType:function(t){var n=qe(Te),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return qe(Te).controller.signal}},SE=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,wt=null,Dt=0,Gt=0,yn=null,cs=!1,ir=!1,kh=!1,Bi=0,oe=0,hs=0,ha=0,qh=0,_n=0,sr=0,Cl=null,on=null,Ph=!1,mu=0,ap=0,gu=1/0,pu=null,fs=null,Oe=0,ds=null,ar=null,ji=0,Hh=0,Gh=null,rp=null,Dl=0,Fh=null;function vn(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:P.T!==null?$h():yo()}function lp(){if(_n===0)if((Dt&536870912)===0||Ot){var t=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),_n=t}else _n=536870912;return t=gn.current,t!==null&&(t.flags|=32),_n}function un(t,n,s){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(rr(t,0),ms(t,Dt,_n,!1)),js(t,s),((qt&2)===0||t!==$t)&&(t===$t&&((qt&2)===0&&(ha|=s),oe===4&&ms(t,Dt,_n,!1)),gi(t))}function op(t,n,s){if((qt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),c=l?CE(t,n):Yh(t,n,!0),f=l;do{if(c===0){ir&&!l&&ms(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!RE(s)){c=Yh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Cl;var D=E.current.memoizedState.isDehydrated;if(D&&(rr(E,g).flags|=256),g=Yh(E,g,!1),g!==2){if(kh&&!D){E.errorRecoveryDisabledLanes|=f,ha|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){rr(t,0),ms(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ms(l,n,_n,!cs);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=mu+300-$e(),10<c)){if(ms(l,n,_n,!cs),$n(l,0,!0)!==0)break t;ji=n,l.timeoutHandle=jp(up.bind(null,l,s,on,pu,Ph,n,_n,ha,sr,cs,f,"Throttled",-0,0),c);break t}up(l,s,on,pu,Ph,n,_n,ha,sr,cs,f,null,-0,0)}}break}while(!0);gi(t)}function up(t,n,s,l,c,f,g,E,D,B,H,F,j,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},ep(n,f,F);var ot=(f&62914560)===f?mu-$e():(f&4194048)===f?ap-$e():0;if(ot=u1(F,ot),ot!==null){ji=f,t.cancelPendingCommit=ot(yp.bind(null,t,n,f,s,l,c,g,E,D,H,F,null,j,q)),ms(t,f,g,!B);return}}yp(t,n,f,s,l,c,g,E,D)}function RE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!dn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ms(t,n,s,l){n&=~qh,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ue(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&ks(t,s,n)}function yu(){return(qt&6)===0?(Nl(0),!1):!0}function Qh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Di=na=null,oh(t),Za=null,hl=0,t=wt;for(;t!==null;)kg(t.alternate,t),t=t.return;wt=null}}function rr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,FE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ji=0,Qh(),$t=t,wt=s=wi(t.current,null),Dt=n,Gt=0,yn=null,cs=!1,ir=zn(t,n),kh=!1,sr=_n=qh=ha=hs=oe=0,on=Cl=null,Ph=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ue(l),f=1<<c;n|=t[c],l&=~f}return Bi=n,Bo(),s}function cp(t,n){At=null,P.H=vl,n===Ka||n===Qo?(n=wm(),Gt=3):n===Zc?(n=wm(),Gt=4):Gt=n===Sh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,wt===null&&(oe=1,ru(t,Cn(n,t.current)))}function hp(){var t=gn.current;return t===null?!0:(Dt&4194048)===Dt?Vn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===Vn:!1}function fp(){var t=P.H;return P.H=vl,t===null?vl:t}function dp(){var t=P.A;return P.A=bE,t}function _u(){oe=4,cs||(Dt&4194048)!==Dt&&gn.current!==null||(ir=!0),(hs&134217727)===0&&(ha&134217727)===0||$t===null||ms($t,Dt,_n,!1)}function Yh(t,n,s){var l=qt;qt|=2;var c=fp(),f=dp();($t!==t||Dt!==n)&&(pu=null,rr(t,n)),n=!1;var g=oe;t:do try{if(Gt!==0&&wt!==null){var E=wt,D=yn;switch(Gt){case 8:Qh(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var B=Gt;if(Gt=0,yn=null,lr(t,E,D,B),s&&ir){g=0;break t}break;default:B=Gt,Gt=0,yn=null,lr(t,E,D,B)}}wE(),g=oe;break}catch(H){cp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Di=na=null,qt=l,P.H=c,P.A=f,wt===null&&($t=null,Dt=0,Bo()),g}function wE(){for(;wt!==null;)mp(wt)}function CE(t,n){var s=qt;qt|=2;var l=fp(),c=dp();$t!==t||Dt!==n?(pu=null,gu=$e()+500,rr(t,n)):ir=zn(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=yn;e:switch(Gt){case 1:Gt=0,yn=null,lr(t,n,f,1);break;case 2:case 9:if(Sm(f)){Gt=0,yn=null,gp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),gi(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Sm(f)?(Gt=0,yn=null,gp(n)):(Gt=0,yn=null,lr(t,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?ty(g):E.stateNode.complete){Gt=0,yn=null;var D=E.sibling;if(D!==null)wt=D;else{var B=E.return;B!==null?(wt=B,vu(B)):wt=null}break e}}Gt=0,yn=null,lr(t,n,f,5);break;case 6:Gt=0,yn=null,lr(t,n,f,6);break;case 8:Qh(),oe=6;break t;default:throw Error(r(462))}}DE();break}catch(H){cp(t,H)}while(!0);return Di=na=null,P.H=l,P.A=c,qt=s,wt!==null?0:($t=null,Dt=0,Bo(),oe)}function DE(){for(;wt!==null&&!bc();)mp(wt)}function mp(t){var n=Bg(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?vu(t):wt=n}function gp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Ig(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Ig(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:oh(n);default:kg(s,n),n=wt=dm(n,Bi),n=Bg(s,n,Bi)}t.memoizedProps=t.pendingProps,n===null?vu(t):wt=n}function lr(t,n,s,l){Di=na=null,oh(n),Za=null,hl=0;var c=n.return;try{if(pE(t,c,n,s,Dt)){oe=1,ru(t,Cn(s,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;oe=1,ru(t,Cn(s,t.current)),wt=null;return}n.flags&32768?(Ot||l===1?t=!0:ir||(Dt&536870912)!==0?t=!1:(cs=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),pp(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){pp(n,cs);return}t=n.return;var s=vE(n.alternate,n,Bi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);oe===0&&(oe=5)}function pp(t,n){do{var s=EE(t.alternate,t);if(s!==null){s.flags&=32767,wt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=s}while(t!==null);oe=6,wt=null}function yp(t,n,s,l,c,f,g,E,D){t.cancelPendingCommit=null;do Eu();while(Oe!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Uc,wc(t,s,f,g,E,D),t===$t&&(wt=$t=null,Dt=0),ar=n,ds=t,ji=s,Hh=f,Gh=c,rp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,IE(Gi,function(){return Ap(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,c=tt.p,tt.p=2,g=qt,qt|=4;try{TE(t,n,s)}finally{qt=g,tt.p=c,P.T=l}}Oe=1,_p(),vp(),Ep()}}function _p(){if(Oe===1){Oe=0;var t=ds,n=ar,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var l=tt.p;tt.p=2;var c=qt;qt|=4;try{Jg(n,t);var f=rf,g=sm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&im(E.ownerDocument.documentElement,E)){if(D!==null&&Oc(E)){var B=D.start,H=D.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,j=F&&F.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,dt=Math.min(D.start,ot),Kt=D.end===void 0?dt:Math.min(D.end,ot);!q.extend&&dt>Kt&&(g=Kt,Kt=dt,dt=g);var M=nm(E,dt),O=nm(E,Kt);if(M&&O&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=F.createRange();L.setStart(M.node,M.offset),q.removeAllRanges(),dt>Kt?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Iu=!!af,rf=af=null}finally{qt=c,tt.p=l,P.T=s}}t.current=n,Oe=2}}function vp(){if(Oe===2){Oe=0;var t=ds,n=ar,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var l=tt.p;tt.p=2;var c=qt;qt|=4;try{Yg(t,n.alternate,n)}finally{qt=c,tt.p=l,P.T=s}}Oe=3}}function Ep(){if(Oe===4||Oe===3){Oe=0,uo();var t=ds,n=ar,s=ji,l=rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,ar=ds=null,Tp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fs=null),Ai(s),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=P.T,c=tt.p,tt.p=2,P.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{P.T=n,tt.p=c}}(ji&3)!==0&&Eu(),gi(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Fh?Dl++:(Dl=0,Fh=t):Dl=0,Nl(0)}}function Tp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Eu(){return _p(),vp(),Ep(),Ap()}function Ap(){if(Oe!==5)return!1;var t=ds,n=Hh;Hh=0;var s=Ai(ji),l=P.T,c=tt.p;try{tt.p=32>s?32:s,P.T=null,s=Gh,Gh=null;var f=ds,g=ji;if(Oe=0,ar=ds=null,ji=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,ip(f.current),tp(f,f.current,g,s),qt=E,Nl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{tt.p=c,P.T=l,Tp(t,n)}}function bp(t,n,s){n=Cn(s,n),n=bh(t.stateNode,n,2),t=rs(t,n,2),t!==null&&(js(t,2),gi(t))}function Ft(t,n,s){if(t.tag===3)bp(t,t,s);else for(;n!==null;){if(n.tag===3){bp(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fs===null||!fs.has(l))){t=Cn(s,t),s=Sg(2),l=rs(n,s,2),l!==null&&(Rg(s,l,n,t),js(l,2),gi(l));break}}n=n.return}}function Xh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new SE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(kh=!0,c.add(s),t=NE.bind(null,t,n,s),n.then(t,t))}function NE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,$t===t&&(Dt&s)===s&&(oe===4||oe===3&&(Dt&62914560)===Dt&&300>$e()-mu?(qt&2)===0&&rr(t,0):qh|=s,sr===Dt&&(sr=0)),gi(t)}function Sp(t,n){n===0&&(n=po()),t=Ws(t,n),t!==null&&(js(t,n),gi(t))}function OE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Sp(t,s)}function VE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Sp(t,s)}function IE(t,n){return Ne(t,n)}var Tu=null,or=null,Kh=!1,Au=!1,Zh=!1,gs=0;function gi(t){t!==or&&t.next===null&&(or===null?Tu=or=t:or=or.next=t),Au=!0,Kh||(Kh=!0,ME())}function Nl(t,n){if(!Zh&&Au){Zh=!0;do for(var s=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ue(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Dp(l,f))}else f=Dt,f=$n(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,Dp(l,f));l=l.next}while(s);Zh=!1}}function xE(){Rp()}function Rp(){Au=Kh=!1;var t=0;gs!==0&&GE()&&(t=gs);for(var n=$e(),s=null,l=Tu;l!==null;){var c=l.next,f=wp(l,n);f===0?(l.next=null,s===null?Tu=c:s.next=c,c===null&&(or=s)):(s=l,(t!==0||(f&3)!==0)&&(Au=!0)),l=c}Oe!==0&&Oe!==5||Nl(t),gs!==0&&(gs=0)}function wp(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ue(f),E=1<<g,D=c[g];D===-1?((E&s)===0||(E&l)!==0)&&(c[g]=Rc(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,s=Dt,s=$n(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Hi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||zn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Hi(l),Ai(s)){case 2:case 8:s=jr;break;case 32:s=Gi;break;case 268435456:s=co;break;default:s=Gi}return l=Cp.bind(null,t),s=Ne(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Hi(l),t.callbackPriority=2,t.callbackNode=null,2}function Cp(t,n){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Eu()&&t.callbackNode!==s)return null;var l=Dt;return l=$n(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(op(t,l,n),wp(t,$e()),t.callbackNode!=null&&t.callbackNode===s?Cp.bind(null,t):null)}function Dp(t,n){if(Eu())return null;op(t,n,!0)}function ME(){QE(function(){(qt&6)!==0?Ne(Br,xE):Rp()})}function $h(){if(gs===0){var t=Ya;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),gs=t}return gs}function Np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function Op(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function UE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Np((c[Ie]||null).action),g=l.submitter;g&&(n=(n=g[Ie]||null)?Np(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new oi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gs!==0){var D=g?Op(c,g):new FormData(c);yh(s,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=g?Op(c,g):new FormData(c),yh(s,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var Jh=0;Jh<Mc.length;Jh++){var Wh=Mc[Jh],zE=Wh.toLowerCase(),LE=Wh[0].toUpperCase()+Wh.slice(1);Gn(zE,"on"+LE)}Gn(lm,"onAnimationEnd"),Gn(om,"onAnimationIteration"),Gn(um,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(W0,"onTransitionRun"),Gn(tE,"onTransitionStart"),Gn(eE,"onTransitionCancel"),Gn(cm,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Vp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Lo(H)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(E=l[g],D=E.instance,B=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Lo(H)}c.currentTarget=null,f=D}}}}function Ct(t,n){var s=n[Ca];s===void 0&&(s=n[Ca]=new Set);var l=t+"__bubble";s.has(l)||(Ip(n,t,2,!1),s.add(l))}function tf(t,n,s){var l=0;n&&(l|=4),Ip(s,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[bu]){t[bu]=!0,Pr.forEach(function(s){s!=="selectionchange"&&(BE.has(s)||tf(s,!1,t),tf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,tf("selectionchange",!1,n))}}function Ip(t,n,s,l){switch(ly(n)){case 2:var c=f1;break;case 8:c=d1;break;default:c=yf}s=c.bind(null,n,s,t),c=void 0,!Fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function nf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ei(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Zi(function(){var B=f,H=bn(s),F=[];t:{var j=hm.get(t);if(j!==void 0){var q=oi,ot=t;switch(t){case"keypress":if(Ys(s)===0)break t;case"keydown":case"keyup":q=Mo;break;case"focusin":ot="focus",q=Ks;break;case"focusout":ot="blur",q=Ks;break;case"beforeblur":case"afterblur":q=Ks;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case lm:case om:case um:q=Co;break;case cm:q=T;break;case"scroll":case"scrollend":q=tl;break;case"wheel":q=k;break;case"copy":case"cut":case"paste":q=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ri;break;case"toggle":case"beforetoggle":q=Tt}var dt=(n&4)!==0,Kt=!dt&&(t==="scroll"||t==="scrollend"),M=dt?j!==null?j+"Capture":null:j;dt=[];for(var O=B,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||M===null||(G=kn(O,M),G!=null&&dt.push(Vl(O,G,L))),Kt)break;O=O.return}0<dt.length&&(j=new q(j,ot,null,s,H),F.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&s!==$r&&(ot=s.relatedTarget||s.fromElement)&&(ei(ot)||ot[Wn]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=B,ot=ot?ei(ot):null,ot!==null&&(Kt=h(ot),dt=ot.tag,ot!==Kt||dt!==5&&dt!==27&&dt!==6)&&(ot=null)):(q=null,ot=B),q!==ot)){if(dt=el,G="onMouseLeave",M="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(dt=Ri,G="onPointerLeave",M="onPointerEnter",O="pointer"),Kt=q==null?j:hn(q),L=ot==null?j:hn(ot),j=new dt(G,O+"leave",q,s,H),j.target=Kt,j.relatedTarget=L,G=null,ei(H)===B&&(dt=new dt(M,O+"enter",ot,s,H),dt.target=L,dt.relatedTarget=Kt,G=dt),Kt=G,q&&ot)e:{for(dt=jE,M=q,O=ot,L=0,G=M;G;G=dt(G))L++;G=0;for(var ct=O;ct;ct=dt(ct))G++;for(;0<L-G;)M=dt(M),L--;for(;0<G-L;)O=dt(O),G--;for(;L--;){if(M===O||O!==null&&M===O.alternate){dt=M;break e}M=dt(M),O=dt(O)}dt=null}else dt=null;q!==null&&xp(F,j,q,dt,!1),ot!==null&&Kt!==null&&xp(F,Kt,ot,dt,!0)}}t:{if(j=B?hn(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=Zd;else if(Xd(j))if($d)Bt=Z0;else{Bt=X0;var ut=Y0}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Va(B.elementType)&&(Bt=Zd):Bt=K0;if(Bt&&(Bt=Bt(t,B))){Kd(F,Bt,s,H);break t}ut&&ut(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Xr(j,"number",j.value)}switch(ut=B?hn(B):window,t){case"focusin":(Xd(ut)||ut.contentEditable==="true")&&(ja=ut,Vc=B,rl=null);break;case"focusout":rl=Vc=ja=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,am(F,s,H);break;case"selectionchange":if(J0)break;case"keydown":case"keyup":am(F,s,H)}var St;if(kt)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Ba?Zs(t,s)&&(Nt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(hi&&s.locale!=="ko"&&(Ba||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Ba&&(St=Wr()):(li=H,Jr="value"in li?li.value:li.textContent,Ba=!0)),ut=Su(B,Nt),0<ut.length&&(Nt=new ci(Nt,t,null,s,H),F.push({event:Nt,listeners:ut}),St?Nt.data=St:(St=La(s),St!==null&&(Nt.data=St)))),(St=Rn?H0(t,s):G0(t,s))&&(Nt=Su(B,"onBeforeInput"),0<Nt.length&&(ut=new ci("onBeforeInput","beforeinput",null,s,H),F.push({event:ut,listeners:Nt}),ut.data=St)),UE(F,t,B,s,H)}Vp(F,n)})}function Vl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Su(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kn(t,s),c!=null&&l.unshift(Vl(t,c,f)),c=kn(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function jE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xp(t,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||B===null||(D=B,c?(B=kn(s,f),B!=null&&g.unshift(Vl(s,B,D))):c||(B=kn(s,f),B!=null&&g.push(Vl(s,B,D)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var kE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function Mp(t){return(typeof t=="string"?t:""+t).replace(kE,`
`).replace(qE,"")}function Up(t,n){return n=Mp(n),Mp(t)===n}function Xt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,s,l);break;case"style":Zr(t,l,f);break;case"data":if(n!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ia(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ia(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Na(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=So.get(s)||s,Na(t,s,l))}}function sf(t,n,s,l,c,f){switch(s){case"style":Zr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Ie]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Na(t,s,l)}}}function He(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,f,g,s,null)}}c&&Xt(t,n,"srcSet",s.srcSet,s,null),l&&Xt(t,n,"src",s.src,s,null);return;case"input":Ct("invalid",t);var E=f=g=c=null,D=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":D=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Xt(t,n,l,H,s,null)}}To(t,f,E,D,B,g,c,!1);return;case"select":Ct("invalid",t),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Qi(t,!!l,n,!1):s!=null&&Qi(t,!!l,s,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(t,n,g,E,s,null)}Yi(t,l,c,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,D,l,s,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ct(Ol[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,B,l,s,null)}return;default:if(Va(n)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&sf(t,n,H,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(t,n,E,l,s,null))}function PE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,D=null,B=null,H=null;for(q in s){var F=s[q];if(s.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=F;default:l.hasOwnProperty(q)||Xt(t,n,q,null,l,F)}}for(var j in l){var q=l[j];if(F=s[j],l.hasOwnProperty(j)&&(q!=null||F!=null))switch(j){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==F&&Xt(t,n,j,q,l,F)}}Oa(t,g,E,D,B,H,f,c);return;case"select":q=g=E=j=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=s[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==D&&Xt(t,n,c,f,l,D)}n=E,s=g,l=q,j!=null?Qi(t,!!s,j,!1):!!l!=!!s&&(n!=null?Qi(t,!!s,n,!0):Qi(t,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":j=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}Ao(t,j,q);return;case"option":for(var ot in s)if(j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Xt(t,n,ot,null,l,j)}for(D in l)if(j=l[D],q=s[D],l.hasOwnProperty(D)&&j!==q&&(j!=null||q!=null))switch(D){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(t,n,D,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)j=s[dt],s.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt)&&Xt(t,n,dt,null,l,j);for(B in l)if(j=l[B],q=s[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Xt(t,n,B,j,l,q)}return;default:if(Va(n)){for(var Kt in s)j=s[Kt],s.hasOwnProperty(Kt)&&j!==void 0&&!l.hasOwnProperty(Kt)&&sf(t,n,Kt,void 0,l,j);for(H in l)j=l[H],q=s[H],!l.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||sf(t,n,H,j,l,q);return}}for(var M in s)j=s[M],s.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Xt(t,n,M,null,l,j);for(F in l)j=l[F],q=s[F],!l.hasOwnProperty(F)||j===q||j==null&&q==null||Xt(t,n,F,j,l,q)}function zp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&zp(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var D=s[l],B=D.startTime;if(B>E)break;var H=D.transferSize,F=D.initiatorType;H&&zp(F)&&(D=D.responseEnd,g+=H*(D<E?1:(E-B)/(D-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var af=null,rf=null;function Ru(t){return t.nodeType===9?t:t.ownerDocument}function Lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var of=null;function GE(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,FE=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(t){return kp.resolve(null).then(t).catch(YE)}:jp;function YE(t){setTimeout(function(){throw t})}function ps(t){return t==="head"}function qp(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),fr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Il(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Il(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Il(t.ownerDocument.body);s=c}while(s);fr(n)}function Pp(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function uf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":uf(s),Da(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function XE(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function KE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=In(t.nextSibling),t===null))return null;return t}function Hp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=In(t.nextSibling),t===null))return null;return t}function cf(t){return t.data==="$?"||t.data==="$~"}function hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ZE(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var ff=null;function Gp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return In(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function Fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function Qp(t,n,s){switch(n=Ru(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Da(t)}var xn=new Map,Yp=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=tt.d;tt.d={f:$E,r:JE,D:WE,C:t1,L:e1,m:n1,X:s1,S:i1,M:a1};function $E(){var t=ki.f(),n=yu();return t||n}function JE(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):ki.r(t)}var ur=typeof document>"u"?null:document;function Xp(t,n,s){var l=ur;if(l&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Yp.has(c)||(Yp.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function WE(t){ki.D(t),Xp("dns-prefetch",t,null)}function t1(t,n){ki.C(t,n),Xp("preconnect",t,n)}function e1(t,n,s){ki.L(t,n,s);var l=ur;if(l&&t&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+nn(s.imageSizes)+'"]')):c+='[href="'+nn(t)+'"]';var f=c;switch(n){case"style":f=cr(t);break;case"script":f=hr(t)}xn.has(f)||(t=C({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),xn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function n1(t,n){ki.m(t,n);var s=ur;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hr(t)}if(!xn.has(f)&&(t=C({rel:"modulepreload",href:t},n),xn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ml(f)))return}l=s.createElement("link"),He(l,"link",t),ve(l),s.head.appendChild(l)}}}function i1(t,n,s){ki.S(t,n,s);var l=ur;if(l&&t){var c=ni(l).hoistableStyles,f=cr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(xl(f)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},s),(s=xn.get(f))&&df(t,s);var D=g=l.createElement("link");ve(D),He(D,"link",t),D._p=new Promise(function(B,H){D.onload=B,D.onerror=H}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function s1(t,n){ki.X(t,n);var s=ur;if(s&&t){var l=ni(s).hoistableScripts,c=hr(t),f=l.get(c);f||(f=s.querySelector(Ml(c)),f||(t=C({src:t,async:!0},n),(n=xn.get(c))&&mf(t,n),f=s.createElement("script"),ve(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function a1(t,n){ki.M(t,n);var s=ur;if(s&&t){var l=ni(s).hoistableScripts,c=hr(t),f=l.get(c);f||(f=s.querySelector(Ml(c)),f||(t=C({src:t,async:!0,type:"module"},n),(n=xn.get(c))&&mf(t,n),f=s.createElement("script"),ve(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Kp(t,n,s,l){var c=(c=bt.current)?wu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=cr(s.href),s=ni(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=cr(s.href);var f=ni(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(xl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),xn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(t,s),f||r1(c,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hr(s),s=ni(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function cr(t){return'href="'+nn(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function Zp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function r1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",s),ve(n),t.head.appendChild(n))}function hr(t){return'[src="'+nn(t)+'"]'}function Ml(t){return"script[async]"+t}function $p(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nn(s.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=C({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",c),Cu(l,s.precedence,t),n.instance=l;case"stylesheet":c=cr(s.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=Zp(s),(c=xn.get(c))&&df(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),He(f,"link",l),n.state.loading|=4,Cu(f,s.precedence,t),n.instance=f;case"script":return f=hr(s.src),(c=t.querySelector(Ml(f)))?(n.instance=c,ve(c),c):(l=s,(c=xn.get(f))&&(l=C({},s),mf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,s.precedence,t));return n.instance}function Cu(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function Jp(t,n,s){if(Du===null){var l=new Map,c=Du=new Map;c.set(s,l)}else c=Du,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[ti]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Wp(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function l1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function o1(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=cr(l.href),f=n.querySelector(xl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Nu.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,l=Zp(l),(c=xn.get(c))&&df(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),He(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Nu.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var gf=0;function u1(t,n){return t.stylesheets&&t.count===0&&Vu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Vu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&gf===0&&(gf=62500*HE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>gf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Nu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ou=null;function Vu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ou=new Map,n.forEach(c1,t),Ou=null,Nu.call(t))}function c1(t,n){if(!(n.state.loading&4)){var s=Ou.get(t);if(s)var l=s.get(null);else{s=new Map,Ou.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=Nu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function h1(t,n,s,l,c,f,g,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ey(t,n,s,l,c,f,g,E,D,B,H,F){return t=new h1(t,n,s,g,D,B,H,F,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),t.current=f,f.stateNode=t,n=Yc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},$c(f),t}function ny(t){return t?(t=Pa,t):Pa}function iy(t,n,s,l,c,f){c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=as(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=rs(t,l,n),s!==null&&(un(s,t,n),dl(s,t,n))}function sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function pf(t,n){sy(t,n),(t=t.alternate)&&sy(t,n)}function ay(t){if(t.tag===13||t.tag===31){var n=Ws(t,67108864);n!==null&&un(n,t,67108864),pf(t,67108864)}}function ry(t){if(t.tag===13||t.tag===31){var n=vn();n=qs(n);var s=Ws(t,n);s!==null&&un(s,t,n),pf(t,n)}}var Iu=!0;function f1(t,n,s,l){var c=P.T;P.T=null;var f=tt.p;try{tt.p=2,yf(t,n,s,l)}finally{tt.p=f,P.T=c}}function d1(t,n,s,l){var c=P.T;P.T=null;var f=tt.p;try{tt.p=8,yf(t,n,s,l)}finally{tt.p=f,P.T=c}}function yf(t,n,s,l){if(Iu){var c=_f(l);if(c===null)nf(t,n,l,xu,s),oy(t,l);else if(g1(c,t,n,s,l))l.stopPropagation();else if(oy(t,l),n&4&&-1<m1.indexOf(t)){for(;c!==null;){var f=An(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Zn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-ue(g);E.entanglements[1]|=D,g&=~D}gi(f),(qt&6)===0&&(gu=$e()+500,Nl(0))}}break;case 31:case 13:E=Ws(f,2),E!==null&&un(E,f,2),yu(),pf(f,2)}if(f=_f(l),f===null&&nf(t,n,l,xu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else nf(t,n,l,null,s)}}function _f(t){return t=bn(t),vf(t)}var xu=null;function vf(t){if(xu=null,t=ei(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ls()){case Br:return 2;case jr:return 8;case Gi:case Sc:return 32;case co:return 268435456;default:return 32}default:return 32}}var Ef=!1,ys=null,_s=null,vs=null,zl=new Map,Ll=new Map,Es=[],m1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(t,n){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(n.pointerId)}}function Bl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=An(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function g1(t,n,s,l,c){switch(n){case"focusin":return ys=Bl(ys,t,n,s,l,c),!0;case"dragenter":return _s=Bl(_s,t,n,s,l,c),!0;case"mouseover":return vs=Bl(vs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return zl.set(f,Bl(zl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ll.set(f,Bl(Ll.get(f)||null,t,n,s,l,c)),!0}return!1}function uy(t){var n=ei(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Ln(t.priority,function(){ry(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,Ln(t.priority,function(){ry(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=_f(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);$r=l,s.target.dispatchEvent(l),$r=null}else return n=An(s),n!==null&&ay(n),t.blockedOn=s,!1;n.shift()}return!0}function cy(t,n,s){Mu(t)&&s.delete(n)}function p1(){Ef=!1,ys!==null&&Mu(ys)&&(ys=null),_s!==null&&Mu(_s)&&(_s=null),vs!==null&&Mu(vs)&&(vs=null),zl.forEach(cy),Ll.forEach(cy)}function Uu(t,n){t.blockedOn===n&&(t.blockedOn=null,Ef||(Ef=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,p1)))}var zu=null;function hy(t){zu!==t&&(zu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(vf(l||s)===null)continue;break}var f=An(s);f!==null&&(t.splice(n,3),n-=3,yh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function fr(t){function n(D){return Uu(D,t)}ys!==null&&Uu(ys,t),_s!==null&&Uu(_s,t),vs!==null&&Uu(vs,t),zl.forEach(n),Ll.forEach(n);for(var s=0;s<Es.length;s++){var l=Es[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Es.length&&(s=Es[0],s.blockedOn===null);)uy(s),s.blockedOn===null&&Es.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Ie]||null;if(typeof f=="function")g||hy(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ie]||null)E=g.formAction;else if(vf(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),hy(s)}}}function fy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Tf(t){this._internalRoot=t}Lu.prototype.render=Tf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=vn();iy(s,l,t,n,null,null)},Lu.prototype.unmount=Tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),yu(),n[Wn]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var n=yo();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Es.length&&n!==0&&n<Es[s].priority;s++);Es.splice(s,0,t),s===0&&uy(t)}};var dy=e.version;if(dy!=="19.2.0")throw Error(r(527,dy,"19.2.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var y1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Un=Bu.inject(y1),Be=Bu}catch{}}return kl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Eg,f=Tg,g=Ag;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ey(t,1,!1,null,null,s,l,null,c,f,g,fy),t[Wn]=n.current,ef(t),new Tf(n)},kl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Eg,g=Tg,E=Ag,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=ey(t,1,!0,n,s??null,l,c,D,f,g,E,fy),n.context=ny(null),s=n.current,l=vn(),l=qs(l),c=as(l),c.callback=null,rs(s,c,l),s=l,n.current.lanes=s,js(n,s),gi(n),t[Wn]=n.current,ef(t),new Lu(n)},kl.version="19.2.0",kl}var by;function C1(){if(by)return Sf.exports;by=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sf.exports=w1(),Sf.exports}var D1=C1();const N1=()=>{};var Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},O1=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],y=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,y=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=h>>2,C=(h&3)<<4|y>>4;let U=(y&15)<<2|v>>6,Y=v&63;_||(Y=64,d||(U=64)),r.push(i[A],i[C],i[U],i[Y])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(q_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):O1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],y=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const C=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||y==null||v==null||C==null)throw new V1;const U=h<<2|y>>4;if(r.push(U),v!==64){const Y=y<<4&240|v>>2;if(r.push(Y),C!==64){const $=v<<6&192|C;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class V1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I1=function(a){const e=q_(a);return P_.encodeByteArray(e,!0)},Ju=function(a){return I1(a).replace(/\./g,"")},x1=function(a){try{return P_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=()=>M1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof Sy>"u")return;const a=Sy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},L1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&x1(a[1]);return e&&JSON.parse(e)},dd=()=>{try{return N1()||U1()||z1()||L1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},B1=a=>dd()?.emulatorHosts?.[a],H_=a=>{const e=B1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},G_=()=>dd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F_(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ju(JSON.stringify(i)),Ju(JSON.stringify(d)),""].join(".")}const Fl={};function k1(){const a={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?a.emulator.push(e):a.prod.push(e);return a}function q1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ry=!1;function Y_(a,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Fl[a]===e||Fl[a]||Ry)return;Fl[a]=e;function i(U){return`__firebase__banner__${U}`}const r="__firebase__banner",h=k1().prod.length>0;function d(){const U=document.getElementById(r);U&&U.remove()}function y(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function _(U,Y){U.setAttribute("width","24"),U.setAttribute("id",Y),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function v(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{Ry=!0,d()},U}function A(U,Y){U.setAttribute("id",Y),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function C(){const U=q1(r),Y=i("text"),$=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),pt=i("preprendIcon"),Rt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const ft=U.element;y(ft),A(J,it);const Et=v();_(Rt,pt),ft.append(Rt,$,J,Et),document.body.appendChild(ft)}h?($.innerText="Preview backend disconnected.",Rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H1(){const a=dd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G1(){return!H1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F1(){try{return typeof indexedDB=="object"}catch{return!1}}function Q1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="FirebaseError";class Ea extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Y1,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X_.prototype.create)}}class X_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?X1(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ea(o,y,r)}}function X1(a,e){return a.replace(K1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const K1=/\{\$([^}]+)}/g;function Wu(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(wy(h)&&wy(d)){if(!Wu(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function wy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(a){return a&&a._delegate?a._delegate:a}class Ar{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new j1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J1(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $1(a){return a===fa?void 0:a}function J1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Z1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Mt||(Mt={}));const tT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},eT=Mt.INFO,nT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},iT=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=nT[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=eT,this._logHandler=iT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const sT=(a,e)=>e.some(i=>a instanceof i);let Cy,Dy;function aT(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rT(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,jf=new WeakMap,$_=new WeakMap,Df=new WeakMap,md=new WeakMap;function lT(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ss(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z_.set(i,a)}).catch(()=>{}),md.set(e,a),e}function oT(a){if(jf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});jf.set(a,e)}let kf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return jf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||$_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ss(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function uT(a){kf=a(kf)}function cT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Nf(this),e,...i);return $_.set(r,e.sort?e.sort():[e]),Ss(r)}:rT().includes(a)?function(...e){return a.apply(Nf(this),e),Ss(Z_.get(this))}:function(...e){return Ss(a.apply(Nf(this),e))}}function hT(a){return typeof a=="function"?cT(a):(a instanceof IDBTransaction&&oT(a),sT(a,aT())?new Proxy(a,kf):a)}function Ss(a){if(a instanceof IDBRequest)return lT(a);if(Df.has(a))return Df.get(a);const e=hT(a);return e!==a&&(Df.set(a,e),md.set(e,a)),e}const Nf=a=>md.get(a);function fT(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),y=Ss(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ss(d.result),_.oldVersion,_.newVersion,Ss(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const dT=["get","getKey","getAll","getAllKeys","count"],mT=["put","add","delete","clear"],Of=new Map;function Ny(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=mT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||dT.includes(i)))return;const h=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),o&&_.done]))[0]};return Of.set(e,h),h}uT(a=>({...a,get:(e,i,r)=>Ny(e,i)||a.get(e,i,r),has:(e,i)=>!!Ny(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function pT(a){return a.getComponent()?.type==="VERSION"}const qf="@firebase/app",Oy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new K_("@firebase/app"),yT="@firebase/app-compat",_T="@firebase/analytics-compat",vT="@firebase/analytics",ET="@firebase/app-check-compat",TT="@firebase/app-check",AT="@firebase/auth",bT="@firebase/auth-compat",ST="@firebase/database",RT="@firebase/data-connect",wT="@firebase/database-compat",CT="@firebase/functions",DT="@firebase/functions-compat",NT="@firebase/installations",OT="@firebase/installations-compat",VT="@firebase/messaging",IT="@firebase/messaging-compat",xT="@firebase/performance",MT="@firebase/performance-compat",UT="@firebase/remote-config",zT="@firebase/remote-config-compat",LT="@firebase/storage",BT="@firebase/storage-compat",jT="@firebase/firestore",kT="@firebase/ai",qT="@firebase/firestore-compat",PT="firebase",HT="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",GT={[qf]:"fire-core",[yT]:"fire-core-compat",[vT]:"fire-analytics",[_T]:"fire-analytics-compat",[TT]:"fire-app-check",[ET]:"fire-app-check-compat",[AT]:"fire-auth",[bT]:"fire-auth-compat",[ST]:"fire-rtdb",[RT]:"fire-data-connect",[wT]:"fire-rtdb-compat",[CT]:"fire-fn",[DT]:"fire-fn-compat",[NT]:"fire-iid",[OT]:"fire-iid-compat",[VT]:"fire-fcm",[IT]:"fire-fcm-compat",[xT]:"fire-perf",[MT]:"fire-perf-compat",[UT]:"fire-rc",[zT]:"fire-rc-compat",[LT]:"fire-gcs",[BT]:"fire-gcs-compat",[jT]:"fire-fst",[qT]:"fire-fst-compat",[kT]:"fire-vertex","fire-js":"fire-js",[PT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,FT=new Map,Hf=new Map;function Vy(a,e){try{a.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function $l(a){const e=a.name;if(Hf.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,a);for(const i of tc.values())Vy(i,a);for(const i of FT.values())Vy(i,a);return!0}function J_(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function W_(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new X_("app","Firebase",QT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=HT;function ev(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Pf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Rs.create("bad-app-name",{appName:String(o)});if(i||(i=G_()),!i)throw Rs.create("no-options");const h=tc.get(o);if(h){if(Wu(i,h.options)&&Wu(r,h.config))return h;throw Rs.create("duplicate-app",{appName:o})}const d=new W1(o);for(const _ of Hf.values())d.addComponent(_);const y=new YT(i,r,d);return tc.set(o,y),y}function nv(a=Pf){const e=tc.get(a);if(!e&&a===Pf&&G_())return ev();if(!e)throw Rs.create("no-app",{appName:a});return e}function ws(a,e,i){let r=GT[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}$l(new Ar(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebase-heartbeat-database",KT=1,Jl="firebase-heartbeat-store";let Vf=null;function iv(){return Vf||(Vf=fT(XT,KT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Rs.create("idb-open",{originalErrorMessage:a.message})})),Vf}async function ZT(a){try{const i=(await iv()).transaction(Jl),r=await i.objectStore(Jl).get(sv(a));return await i.done,r}catch(e){if(e instanceof Ea)qi.warn(e.message);else{const i=Rs.create("idb-get",{originalErrorMessage:e?.message});qi.warn(i.message)}}}async function Iy(a,e){try{const r=(await iv()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,sv(a)),await r.done}catch(i){if(i instanceof Ea)qi.warn(i.message);else{const r=Rs.create("idb-set",{originalErrorMessage:i?.message});qi.warn(r.message)}}}function sv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=1024,JT=30;class WT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new eA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>JT){const o=nA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xy(),{heartbeatsToSend:i,unsentEntries:r}=tA(this._heartbeatsCache.heartbeats),o=Ju(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qi.warn(e),""}}}function xy(){return new Date().toISOString().substring(0,10)}function tA(a,e=$T){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),My(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),My(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class eA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F1()?Q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function My(a){return Ju(JSON.stringify({version:2,heartbeats:a})).length}function nA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(a){$l(new Ar("platform-logger",e=>new gT(e),"PRIVATE")),$l(new Ar("heartbeat",e=>new WT(e),"PRIVATE")),ws(qf,Oy,a),ws(qf,Oy,"esm2020"),ws("fire-js","")}iA("");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,av;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,b){function w(){}w.prototype=b.prototype,R.F=b.prototype,R.prototype=new w,R.prototype.constructor=R,R.D=function(I,N,x){for(var S=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)S[Zt-2]=arguments[Zt];return b.prototype[N].apply(I,S)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,b,w){w||(w=0);const I=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)I[N]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(N=0;N<16;++N)I[N]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=R.g[0],w=R.g[1],N=R.g[2];let x=R.g[3],S;S=b+(x^w&(N^x))+I[0]+3614090360&4294967295,b=w+(S<<7&4294967295|S>>>25),S=x+(N^b&(w^N))+I[1]+3905402710&4294967295,x=b+(S<<12&4294967295|S>>>20),S=N+(w^x&(b^w))+I[2]+606105819&4294967295,N=x+(S<<17&4294967295|S>>>15),S=w+(b^N&(x^b))+I[3]+3250441966&4294967295,w=N+(S<<22&4294967295|S>>>10),S=b+(x^w&(N^x))+I[4]+4118548399&4294967295,b=w+(S<<7&4294967295|S>>>25),S=x+(N^b&(w^N))+I[5]+1200080426&4294967295,x=b+(S<<12&4294967295|S>>>20),S=N+(w^x&(b^w))+I[6]+2821735955&4294967295,N=x+(S<<17&4294967295|S>>>15),S=w+(b^N&(x^b))+I[7]+4249261313&4294967295,w=N+(S<<22&4294967295|S>>>10),S=b+(x^w&(N^x))+I[8]+1770035416&4294967295,b=w+(S<<7&4294967295|S>>>25),S=x+(N^b&(w^N))+I[9]+2336552879&4294967295,x=b+(S<<12&4294967295|S>>>20),S=N+(w^x&(b^w))+I[10]+4294925233&4294967295,N=x+(S<<17&4294967295|S>>>15),S=w+(b^N&(x^b))+I[11]+2304563134&4294967295,w=N+(S<<22&4294967295|S>>>10),S=b+(x^w&(N^x))+I[12]+1804603682&4294967295,b=w+(S<<7&4294967295|S>>>25),S=x+(N^b&(w^N))+I[13]+4254626195&4294967295,x=b+(S<<12&4294967295|S>>>20),S=N+(w^x&(b^w))+I[14]+2792965006&4294967295,N=x+(S<<17&4294967295|S>>>15),S=w+(b^N&(x^b))+I[15]+1236535329&4294967295,w=N+(S<<22&4294967295|S>>>10),S=b+(N^x&(w^N))+I[1]+4129170786&4294967295,b=w+(S<<5&4294967295|S>>>27),S=x+(w^N&(b^w))+I[6]+3225465664&4294967295,x=b+(S<<9&4294967295|S>>>23),S=N+(b^w&(x^b))+I[11]+643717713&4294967295,N=x+(S<<14&4294967295|S>>>18),S=w+(x^b&(N^x))+I[0]+3921069994&4294967295,w=N+(S<<20&4294967295|S>>>12),S=b+(N^x&(w^N))+I[5]+3593408605&4294967295,b=w+(S<<5&4294967295|S>>>27),S=x+(w^N&(b^w))+I[10]+38016083&4294967295,x=b+(S<<9&4294967295|S>>>23),S=N+(b^w&(x^b))+I[15]+3634488961&4294967295,N=x+(S<<14&4294967295|S>>>18),S=w+(x^b&(N^x))+I[4]+3889429448&4294967295,w=N+(S<<20&4294967295|S>>>12),S=b+(N^x&(w^N))+I[9]+568446438&4294967295,b=w+(S<<5&4294967295|S>>>27),S=x+(w^N&(b^w))+I[14]+3275163606&4294967295,x=b+(S<<9&4294967295|S>>>23),S=N+(b^w&(x^b))+I[3]+4107603335&4294967295,N=x+(S<<14&4294967295|S>>>18),S=w+(x^b&(N^x))+I[8]+1163531501&4294967295,w=N+(S<<20&4294967295|S>>>12),S=b+(N^x&(w^N))+I[13]+2850285829&4294967295,b=w+(S<<5&4294967295|S>>>27),S=x+(w^N&(b^w))+I[2]+4243563512&4294967295,x=b+(S<<9&4294967295|S>>>23),S=N+(b^w&(x^b))+I[7]+1735328473&4294967295,N=x+(S<<14&4294967295|S>>>18),S=w+(x^b&(N^x))+I[12]+2368359562&4294967295,w=N+(S<<20&4294967295|S>>>12),S=b+(w^N^x)+I[5]+4294588738&4294967295,b=w+(S<<4&4294967295|S>>>28),S=x+(b^w^N)+I[8]+2272392833&4294967295,x=b+(S<<11&4294967295|S>>>21),S=N+(x^b^w)+I[11]+1839030562&4294967295,N=x+(S<<16&4294967295|S>>>16),S=w+(N^x^b)+I[14]+4259657740&4294967295,w=N+(S<<23&4294967295|S>>>9),S=b+(w^N^x)+I[1]+2763975236&4294967295,b=w+(S<<4&4294967295|S>>>28),S=x+(b^w^N)+I[4]+1272893353&4294967295,x=b+(S<<11&4294967295|S>>>21),S=N+(x^b^w)+I[7]+4139469664&4294967295,N=x+(S<<16&4294967295|S>>>16),S=w+(N^x^b)+I[10]+3200236656&4294967295,w=N+(S<<23&4294967295|S>>>9),S=b+(w^N^x)+I[13]+681279174&4294967295,b=w+(S<<4&4294967295|S>>>28),S=x+(b^w^N)+I[0]+3936430074&4294967295,x=b+(S<<11&4294967295|S>>>21),S=N+(x^b^w)+I[3]+3572445317&4294967295,N=x+(S<<16&4294967295|S>>>16),S=w+(N^x^b)+I[6]+76029189&4294967295,w=N+(S<<23&4294967295|S>>>9),S=b+(w^N^x)+I[9]+3654602809&4294967295,b=w+(S<<4&4294967295|S>>>28),S=x+(b^w^N)+I[12]+3873151461&4294967295,x=b+(S<<11&4294967295|S>>>21),S=N+(x^b^w)+I[15]+530742520&4294967295,N=x+(S<<16&4294967295|S>>>16),S=w+(N^x^b)+I[2]+3299628645&4294967295,w=N+(S<<23&4294967295|S>>>9),S=b+(N^(w|~x))+I[0]+4096336452&4294967295,b=w+(S<<6&4294967295|S>>>26),S=x+(w^(b|~N))+I[7]+1126891415&4294967295,x=b+(S<<10&4294967295|S>>>22),S=N+(b^(x|~w))+I[14]+2878612391&4294967295,N=x+(S<<15&4294967295|S>>>17),S=w+(x^(N|~b))+I[5]+4237533241&4294967295,w=N+(S<<21&4294967295|S>>>11),S=b+(N^(w|~x))+I[12]+1700485571&4294967295,b=w+(S<<6&4294967295|S>>>26),S=x+(w^(b|~N))+I[3]+2399980690&4294967295,x=b+(S<<10&4294967295|S>>>22),S=N+(b^(x|~w))+I[10]+4293915773&4294967295,N=x+(S<<15&4294967295|S>>>17),S=w+(x^(N|~b))+I[1]+2240044497&4294967295,w=N+(S<<21&4294967295|S>>>11),S=b+(N^(w|~x))+I[8]+1873313359&4294967295,b=w+(S<<6&4294967295|S>>>26),S=x+(w^(b|~N))+I[15]+4264355552&4294967295,x=b+(S<<10&4294967295|S>>>22),S=N+(b^(x|~w))+I[6]+2734768916&4294967295,N=x+(S<<15&4294967295|S>>>17),S=w+(x^(N|~b))+I[13]+1309151649&4294967295,w=N+(S<<21&4294967295|S>>>11),S=b+(N^(w|~x))+I[4]+4149444226&4294967295,b=w+(S<<6&4294967295|S>>>26),S=x+(w^(b|~N))+I[11]+3174756917&4294967295,x=b+(S<<10&4294967295|S>>>22),S=N+(b^(x|~w))+I[2]+718787259&4294967295,N=x+(S<<15&4294967295|S>>>17),S=w+(x^(N|~b))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+x&4294967295}r.prototype.v=function(R,b){b===void 0&&(b=R.length);const w=b-this.blockSize,I=this.C;let N=this.h,x=0;for(;x<b;){if(N==0)for(;x<=w;)o(this,R,x),x+=this.blockSize;if(typeof R=="string"){for(;x<b;)if(I[N++]=R.charCodeAt(x++),N==this.blockSize){o(this,I),N=0;break}}else for(;x<b;)if(I[N++]=R[x++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var w=R.length-8;w<R.length;++w)R[w]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,w=0;w<4;++w)for(let I=0;I<32;I+=8)R[b++]=this.g[w]>>>I&255;return R};function h(R,b){var w=y;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=b(R)}function d(R,b){this.h=b;const w=[];let I=!0;for(let N=R.length-1;N>=0;N--){const x=R[N]|0;I&&x==b||(w[N]=x,I=!1)}this.g=w}var y={};function _(R){return-128<=R&&R<128?h(R,function(b){return new d([b|0],b<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return C;if(R<0)return J(v(-R));const b=[];let w=1;for(let I=0;R>=w;I++)b[I]=R/w|0,w*=4294967296;return new d(b,0)}function A(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return J(A(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=v(Math.pow(b,8));let I=C;for(let x=0;x<R.length;x+=8){var N=Math.min(8,R.length-x);const S=parseInt(R.substring(x,x+N),b);N<8?(N=v(Math.pow(b,N)),I=I.j(N).add(v(S))):(I=I.j(w),I=I.add(v(S)))}return I}var C=_(0),U=_(1),Y=_(16777216);a=d.prototype,a.m=function(){if(it(this))return-J(this).m();let R=0,b=1;for(let w=0;w<this.g.length;w++){const I=this.i(w);R+=(I>=0?I:4294967296+I)*b,b*=4294967296}return R},a.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if($(this))return"0";if(it(this))return"-"+J(this).toString(R);const b=v(Math.pow(R,6));var w=this;let I="";for(;;){const N=Et(w,b).g;w=pt(w,N.j(b));let x=((w.g.length>0?w.g[0]:w.h)>>>0).toString(R);if(w=N,$(w))return x+I;for(;x.length<6;)x="0"+x;I=x+I}},a.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function $(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function it(R){return R.h==-1}a.l=function(R){return R=pt(this,R),it(R)?-1:$(R)?0:1};function J(R){const b=R.g.length,w=[];for(let I=0;I<b;I++)w[I]=~R.g[I];return new d(w,~R.h).add(U)}a.abs=function(){return it(this)?J(this):this},a.add=function(R){const b=Math.max(this.g.length,R.g.length),w=[];let I=0;for(let N=0;N<=b;N++){let x=I+(this.i(N)&65535)+(R.i(N)&65535),S=(x>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);I=S>>>16,x&=65535,S&=65535,w[N]=S<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function pt(R,b){return R.add(J(b))}a.j=function(R){if($(this)||$(R))return C;if(it(this))return it(R)?J(this).j(J(R)):J(J(this).j(R));if(it(R))return J(this.j(J(R)));if(this.l(Y)<0&&R.l(Y)<0)return v(this.m()*R.m());const b=this.g.length+R.g.length,w=[];for(var I=0;I<2*b;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<R.g.length;N++){const x=this.i(I)>>>16,S=this.i(I)&65535,Zt=R.i(N)>>>16,ae=R.i(N)&65535;w[2*I+2*N]+=S*ae,Rt(w,2*I+2*N),w[2*I+2*N+1]+=x*ae,Rt(w,2*I+2*N+1),w[2*I+2*N+1]+=S*Zt,Rt(w,2*I+2*N+1),w[2*I+2*N+2]+=x*Zt,Rt(w,2*I+2*N+2)}for(R=0;R<b;R++)w[R]=w[2*R+1]<<16|w[2*R];for(R=b;R<2*b;R++)w[R]=0;return new d(w,0)};function Rt(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function ft(R,b){this.g=R,this.h=b}function Et(R,b){if($(b))throw Error("division by zero");if($(R))return new ft(C,C);if(it(R))return b=Et(J(R),b),new ft(J(b.g),J(b.h));if(it(b))return b=Et(R,J(b)),new ft(J(b.g),b.h);if(R.g.length>30){if(it(R)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var w=U,I=b;I.l(R)<=0;)w=rt(w),I=rt(I);var N=nt(w,1),x=nt(I,1);for(I=nt(I,2),w=nt(w,2);!$(I);){var S=x.add(I);S.l(R)<=0&&(N=N.add(w),x=S),I=nt(I,1),w=nt(w,1)}return b=pt(R,N.j(b)),new ft(N,b)}for(N=C;R.l(b)>=0;){for(w=Math.max(1,Math.floor(R.m()/b.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),x=v(w),S=x.j(b);it(S)||S.l(R)>0;)w-=I,x=v(w),S=x.j(b);$(x)&&(x=U),N=N.add(x),R=pt(R,S)}return new ft(N,R)}a.B=function(R){return Et(this,R).h},a.and=function(R){const b=Math.max(this.g.length,R.g.length),w=[];for(let I=0;I<b;I++)w[I]=this.i(I)&R.i(I);return new d(w,this.h&R.h)},a.or=function(R){const b=Math.max(this.g.length,R.g.length),w=[];for(let I=0;I<b;I++)w[I]=this.i(I)|R.i(I);return new d(w,this.h|R.h)},a.xor=function(R){const b=Math.max(this.g.length,R.g.length),w=[];for(let I=0;I<b;I++)w[I]=this.i(I)^R.i(I);return new d(w,this.h^R.h)};function rt(R){const b=R.g.length+1,w=[];for(let I=0;I<b;I++)w[I]=R.i(I)<<1|R.i(I-1)>>>31;return new d(w,R.h)}function nt(R,b){const w=b>>5;b%=32;const I=R.g.length-w,N=[];for(let x=0;x<I;x++)N[x]=b>0?R.i(x+w)>>>b|R.i(x+w+1)<<32-b:R.i(x+w);return new d(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,av=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Cs=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rv,Pl,lv,Yu,Gf,ov,uv,cv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in p))break t;p=p[z]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,p){return u.call.apply(u.bind,arguments)}function v(u,m,p){return v=_,v.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function C(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,z,k){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[z].apply(T,W)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=u.length||0;const k=z.length||0;u.length=p+k;for(let W=0;W<k;W++)u[p+W]=z[W]}else u.push(z)}}class it{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Rt{constructor(){this.h=this.g=null}add(m,p){const T=ft.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new it(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,nt=!1,R=new Rt,b=()=>{const u=Promise.resolve(void 0);rt=()=>{u.then(w)}};function w(){for(var u;u=pt();){try{u.h.call(u.g)}catch(p){J(p)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}nt=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function Zt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}C(Zt,N),Zt.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),P=0;function tt(u,m,p,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++P,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Pt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function V(u){const m={};for(const p in u)m[p]=u[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)u[p]=T[p];for(let k=0;k<Q.length;k++)p=Q[k],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,p,T,z){const k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);const W=bt(u,m,T,z);return W>-1?(m=u[W],p||(m.fa=!1)):(m=new tt(m,this.src,k,!!T,z),m.fa=p,u.push(m)),m};function gt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=z>=0)&&Array.prototype.splice.call(T,z,1),k&&(ht(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function bt(u,m,p,T){for(let z=0;z<u.length;++z){const k=u[z];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return z}return-1}var It="closure_lm_"+(Math.random()*1e6|0),De={};function te(u,m,p,T,z){if(Array.isArray(m)){for(let k=0;k<m.length;k++)te(u,m[k],p,T,z);return null}return p=Lr(p),u&&u[ae]?u.J(m,p,y(T)?!!T.capture:!1,z):Us(u,m,p,!1,T,z)}function Us(u,m,p,T,z,k){if(!m)throw Error("Invalid event type");const W=y(z)?!!z.capture:!!z;let Tt=zs(u);if(Tt||(u[It]=Tt=new st(u)),p=Tt.add(m,p,T,W,k),p.proxy)return p;if(T=ba(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)x||(z=W),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ba(){function u(p){return m.call(u.src,u.listener,p)}const m=Ur;return u}function Sa(u,m,p,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Sa(u,m[k],p,T,z);else T=y(T)?!!T.capture:!!T,p=Lr(p),u&&u[ae]?(u=u.i,k=String(m).toString(),k in u.g&&(m=u.g[k],p=bt(m,p,T,z),p>-1&&(ht(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[k],u.h--)))):u&&(u=zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,p,T,z)),(p=u>-1?m[u]:null)&&Ra(p))}function Ra(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ae])gt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Xn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=zs(m))?(gt(p,u),p.h==0&&(p.src=null,m[It]=null)):ht(u)}}}function Xn(u){return u in De?De[u]:De[u]="on"+u}function Ur(u,m){if(u.da)u=!0;else{m=new Zt(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Ra(u),u=p.call(T,m)}return u}function zs(u){return u=u[It],u instanceof st?u:null}var zr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lr(u){return typeof u=="function"?u:(u[zr]||(u[zr]=function(m){return u.handleEvent(m)}),u[zr])}function pe(){I.call(this),this.i=new st(this),this.M=this,this.G=null}C(pe,I),pe.prototype[ae]=!0,pe.prototype.removeEventListener=function(u,m,p,T){Sa(this,u,m,p,T)};function Ne(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var z=m;m=new N(T,u),et(m,z)}z=!0;let k,W;if(p)for(W=p.length-1;W>=0;W--)k=m.g=p[W],z=Hi(k,T,!0,m)&&z;if(k=m.g=u,z=Hi(k,T,!0,m)&&z,z=Hi(k,T,!1,m)&&z,p)for(W=0;W<p.length;W++)k=m.g=p[W],z=Hi(k,T,!1,m)&&z}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ht(p[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},pe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Hi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let k=0;k<m.length;++k){const W=m[k];if(W&&!W.da&&W.capture==p){const Tt=W.listener,ce=W.ha||W.src;W.fa&&gt(u.i,W),z=Tt.call(ce,T)!==!1&&z}}return z&&!T.defaultPrevented}function bc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function uo(u){u.g=bc(()=>{u.g=null,u.i&&(u.i=!1,uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends I{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(u){I.call(this),this.h=u,this.g={}}C(Ls,I);var Br=[];function jr(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ra(m)},u),u.g={}}Ls.prototype.N=function(){Ls.Z.N.call(this),jr(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=d.JSON.stringify,Sc=d.JSON.parse,co=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ho(){}function fo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){N.call(this,"d")}C(Be,N);function Tn(){N.call(this,"c")}C(Tn,N);var ue={},mo=null;function wa(){return mo=mo||new pe}ue.Ia="serverreachability";function go(u){N.call(this,ue.Ia,u)}C(go,N);function Kn(u){const m=wa();Ne(m,new go(m))}ue.STAT_EVENT="statevent";function Bs(u,m){N.call(this,ue.STAT_EVENT,u),this.stat=m}C(Bs,N);function ye(u){const m=wa();Ne(m,new Bs(m,u))}ue.Ja="timingevent";function Zn(u,m){N.call(this,ue.Ja,u),this.size=m}C(Zn,N);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Rc(u,m,p,T,z,k){u.info(function(){if(u.g)if(k){var W="",Tt=k.split("&");for(let kt=0;kt<Tt.length;kt++){var ce=Tt[kt].split("=");if(ce.length>1){const ee=ce[0];ce=ce[1];const Rn=ee.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(ee+"="+ce+"&"):W+(ee+"=redacted&")}}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+W})}function po(u,m,p,T,z,k,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+k+" "+W})}function Jn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+wc(u,p)+(T?" "+T:"")})}function js(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function wc(u,m){if(!u.g)return m;if(!m)return null;try{const k=JSON.parse(m);if(k){for(u=0;u<k.length;u++)if(Array.isArray(k[u])){var p=k[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Gi(k)}catch{return m}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qr;function qs(){}C(qs,ho),qs.prototype.g=function(){return new XMLHttpRequest},qr=new qs;function Ai(u){return encodeURIComponent(String(u))}function yo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Ln(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Ie={};function Wn(u,m,p){u.M=1,u.A=Ps(Ee(m)),u.u=p,u.R=!0,Ca(u,null)}function Ca(u,m){u.F=Date.now(),ti(u),u.B=Ee(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Va(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Bn,u.g=Io(u.j,p?m:null,!u.u),u.P>0&&(u.O=new $e(v(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Br[0]=z.toString()),z=Br);for(let k=0;k<z.length;k++){const W=te(p,z[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Kn(),Rc(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=qn(this.g),ce=this.g.ya(),kt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||ce==7||(ce==8||kt<=0?Kn(3):Kn(2)),ei(this);var m=this.g.ca();this.X=m;var p=Cc(this);if(this.o=m==200,po(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var k=T;break e}}k=null}if(u=k)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),An(this);break t}}if(this.R){u=!0;let ee;for(;!this.K&&this.C<p.length;)if(ee=vo(this,p),ee==Ie){Tt==4&&(this.m=4,ye(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(ee==_e){this.m=4,ye(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,ee,null),ni(this,ee);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||p.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),hn(this),An(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),nl(W),W.P=!0,ye(11))}}else Jn(this.i,this.l,p,null),ni(this,p);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?Do(this.j,this):(this.o=!1,ti(this)))}else Si(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),An(this)}}}catch{}finally{}};function Cc(u){if(!_o(u))return u.g.la();const m=je(u.g);if(m==="")return"";let p="";const T=m.length,z=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let k=0;k<T;k++)u.h.h=!0,p+=u.h.i.decode(m[k],{stream:!(z&&k==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function _o(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ie:(p=Number(m.substring(p,T)),isNaN(p)?_e:(T+=1,T+p>m.length?Ie:(m=m.slice(T,T+p),u.C=T+p,m)))}Ln.prototype.cancel=function(){this.K=!0,hn(this)};function ti(u){u.T=Date.now()+u.H,Da(u,u.H)}function Da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(v(u.aa,u),m)}function ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(js(this.i,this.B),this.M!=2&&(Kn(),ye(17)),hn(this),this.m=2,An(this)):Da(this,this.T-u)};function An(u){u.j.I==0||u.K||Do(u.j,u)}function hn(u){ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,jr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ni(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||si(p.h,u))){if(!u.L&&si(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)za(p),Ji(p);else break t;Ks(p),ye(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=$n(v(p.Va,p),6e3));ii(p.h)<=1&&p.ta&&(p.ta=void 0)}else ci(p,11)}else if((u.L||p.g==u)&&za(p),!S(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let kt=z[m];const ee=kt[0];if(!(ee<=p.K))if(p.K=ee,kt=kt[1],p.I==2)if(kt[0]=="c"){p.M=kt[1],p.ba=kt[2];const Rn=kt[3];Rn!=null&&(p.ka=Rn,p.j.info("VER="+p.ka));const hi=kt[4];hi!=null&&(p.za=hi,p.j.info("SVER="+p.za));const Pn=kt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Hn=u.g;if(Hn){const Zs=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var k=T.h;k.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Gr(k,k.h),k.h=null))}if(T.G){const La=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(T.wa=La,Ht(T.J,T.G,La))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var W=u;if(T.na=Vo(T,T.L?T.ba:null,T.W),W.L){Fr(T.h,W);var Tt=W,ce=T.O;ce&&(Tt.H=ce),Tt.D&&(ei(Tt),ti(Tt)),T.g=W}else wo(T);p.i.length>0&&ui(p)}else kt[0]!="stop"&&kt[0]!="close"||ci(p,7);else p.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?ci(p,7):tl(p):kt[0]!="noop"&&p.l&&p.l.qa(kt),p.A=0)}}Kn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Pr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ii(u){return u.h?1:u.g?u.g.size:0}function si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gr(u,m){u.g?u.g.add(m):u.h=m}function Fr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Pr.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Y(u.i)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let z,k=null;T>=0?(z=u[p].substring(0,T),k=u[p].substring(T+1)):z=u[p],m(z,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.u),this.h=u.h,Yr(this,So(u.i)),this.m=u.m):u&&(m=String(u).match(Eo))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Fi(this,m[4]),this.h=ai(m[5]||"",!0),Yr(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Yi(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Hs(m,Oa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hs(m,Oa,!0),"@"),u.push(Ai(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Hs(p,p.charAt(0)=="/"?Xr:To,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Hs(p,Ao)),u.join("")},fn.prototype.resolve=function(u){const m=Ee(this);let p=!!u.j;p?xe(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Fi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const k=[];for(let W=0;W<z.length;){const Tt=z[W++];Tt=="."?T&&W==z.length&&k.push(""):Tt==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),T&&W==z.length&&k.push("")):(k.push(Tt),T=!0)}T=k.join("/")}else T=z}return p?m.h=T:p=u.i.toString()!=="",p?Yr(m,So(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ee(u){return new fn(u)}function xe(u,m,p){u.j=p?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yr(u,m,p){m instanceof Yi?(u.i=m,Ia(u.i,u.l)):(p||(m=Hs(m,Qi)),u.i=new Yi(m,u.l))}function Ht(u,m,p){u.i.set(m,p)}function Ps(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hs(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Oa=/[#\/\?@]/g,To=/[#\?:]/g,Xr=/[#\?]/g,Qi=/[#\?@]/g,Ao=/#/g;function Yi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Na(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Yi.prototype,a.add=function(u,m){sn(this),this.i=null,u=Xi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function bo(u,m){sn(u),m=Xi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Kr(u,m){return sn(u),m=Xi(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(p,T){p.forEach(function(z){u.call(m,z,T,this)},this)},this)};function Zr(u,m){sn(u);let p=[];if(typeof m=="string")Kr(u,m)&&(p=p.concat(u.g.get(Xi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}a.set=function(u,m){return sn(this),this.i=null,u=Xi(this,u),Kr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Zr(this,u),u.length>0?String(u[0]):m):m};function Va(u,m,p){bo(u,m),p.length>0&&(u.i=null,u.g.set(Xi(u,m),Y(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const z=Ai(p);p=Zr(this,p);for(let k=0;k<p.length;k++){let W=z;p[k]!==""&&(W+="="+Ai(p[k])),u.push(W)}}return this.i=u.join("&")};function So(u){const m=new Yi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Xi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ia(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(p,T){const z=T.toLowerCase();T!=z&&(bo(this,T),Va(this,z,p))},u)),u.j=m}function jn(u,m){const p=new zn;if(d.Image){const T=new Image;T.onload=A(bn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(bn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(bn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(bn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function $r(u,m){const p=new zn,T=new AbortController,z=setTimeout(()=>{T.abort(),bn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?bn(p,"TestPingServer: ok",!0,m):bn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),bn(p,"TestPingServer: error",!1,m)})}function bn(u,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function Ki(){this.g=new co}function ri(u){this.i=u.Sb||null,this.h=u.ab||!1}C(ri,ho),ri.prototype.g=function(){return new Gs(this.i,this.h)};function Gs(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Gs,pe),a=Gs.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zi(this):kn(this),this.readyState==3&&xa(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Zi(this))},a.Na=function(u){this.g&&(this.response=u,Zi(this))},a.ga=function(){this.g&&Zi(this)};function Zi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return zt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Fs(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Sn(p),typeof u=="string"?p!=null&&Ai(p):Ht(u,m,p))}function Qt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(Qt,pe);var li=/^https?$/i,Jr=["POST","PUT"];a=Qt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qr.g(),this.g.onreadystatechange=U(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){Qs(this,k);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Jr,m,void 0)>=0)||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(k){Qs(this,k)}};function Qs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Wr(u),bi(u)}function Wr(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),bi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Qt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},a.Xa=function(){Ys(this)};function Ys(u){if(u.h&&typeof h<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const k=u.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=k===0){let W=String(u.D).match(Eo)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!li.test(W?W.toLowerCase():"")}p=T}if(p)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var z=qn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Wr(u)}}finally{bi(u)}}}}function bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ne(u,"ready");try{p.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sc(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Si(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var p=yo(u[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[z]||[];m[z]=k,k.push(p)}Pt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function $i(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oi("baseRetryDelayMs",5e3,u),this.Za=oi("retryDelaySeedMs",1e4,u),this.Ta=oi("forwardChannelMaxRetries",2,u),this.va=oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Pr(u&&u.concurrentRequestLimit),this.Ba=new Ki,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=$i.prototype,a.ka=8,a.I=1,a.connect=function(u,m,p,T){ye(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Vo(this,null,this.W),ui(this)};function tl(u){if(Ma(u),u.I==3){var m=u.V++,p=Ee(u.J);if(Ht(p,"SID",u.M),Ht(p,"RID",m),Ht(p,"TYPE","terminate"),Xs(u,p),m=new Ln(u,u.j,m),m.M=2,m.A=Ps(Ee(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Io(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ti(m)}Oo(u)}function Ji(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function Ma(u){Ji(u),u.v&&(d.clearTimeout(u.v),u.v=null),za(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ui(u){if(!Hr(u.h)&&!u.m){u.m=!0;var m=u.Ea;rt||b(),nt||(rt(),nt=!0),R.add(m,u),u.D=0}}function Ua(u,m){return ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(v(u.Ea,u,m),No(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Ln(this,this.j,u);let k=this.o;if(this.U&&(k?(k=V(k),et(k,this.U)):k=this.U),this.u!==null||this.R||(z.J=k,k=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ro(this,z,m),p=Ee(this.J),Ht(p,"RID",u),Ht(p,"CVER",22),this.G&&Ht(p,"X-HTTP-Session-Id",this.G),Xs(this,p),k&&(this.R?m="headers="+Ai(Sn(k))+"&"+m:this.u&&Fs(p,this.u,k)),Gr(this.h,z),this.Ra&&Ht(p,"TYPE","init"),this.S?(Ht(p,"$req",m),Ht(p,"SID","null"),z.U=!0,Wn(z,p,null)):Wn(z,p,m),this.I=2}}else this.I==3&&(u?el(this,u):this.i.length==0||Hr(this.h)||el(this))};function el(u,m){var p;m?p=m.l:p=u.V++;const T=Ee(u.J);Ht(T,"SID",u.M),Ht(T,"RID",p),Ht(T,"AID",u.K),Xs(u,T),u.u&&u.o&&Fs(T,u.u,u.o),p=new Ln(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ro(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Gr(u.h,p),Wn(p,T,m)}function Xs(u,m){u.H&&zt(u.H,function(p,T){Ht(m,T,p)}),u.l&&zt({},function(p,T){Ht(m,T,p)})}function Ro(u,m,p){p=Math.min(u.i.length,p);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var z=u.i;let Tt=-1;for(;;){const ce=["count="+p];Tt==-1?p>0?(Tt=z[0].g,ce.push("ofs="+Tt)):Tt=0:ce.push("ofs="+Tt);let kt=!0;for(let ee=0;ee<p;ee++){var k=z[ee].g;const Rn=z[ee].map;if(k-=Tt,k<0)Tt=Math.max(0,z[ee].g-100),kt=!1;else try{k="req"+k+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[hi,Pn]of W){let Hn=Pn;y(Pn)&&(Hn=Gi(Pn)),ce.push(k+hi+"="+encodeURIComponent(Hn))}}catch(hi){throw ce.push(k+"type="+encodeURIComponent("_badmap")),hi}}catch{T&&T(Rn)}}if(kt){W=ce.join("&");break t}}W=void 0}return u=u.i.splice(0,p),m.G=u,W}function wo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;rt||b(),nt||(rt(),nt=!0),R.add(m,u),u.A=0}}function Ks(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(v(u.Da,u),No(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Co(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),Ji(this),Co(this))};function nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Co(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),Xs(u,m),u.u&&u.o&&Fs(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ps(Ee(m)),p.u=null,p.R=!0,Ca(p,u)}a.Va=function(){this.C!=null&&(this.C=null,Ji(this),Ks(this),ye(19))};function za(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Do(u,m){var p=null;if(u.g==m){za(u),nl(u),u.g=null;var T=2}else if(si(u.h,m))p=m.G,Fr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;T=wa(),Ne(T,new Zn(T,p)),ui(u)}else wo(u);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&Ua(u,m)||T==2&&Ks(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),z){case 1:ci(u,5);break;case 4:ci(u,10);break;case 3:ci(u,6);break;default:ci(u,2)}}}function No(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ci(u,m){if(u.j.info("Error code "+m),m==2){var p=v(u.bb,u),T=u.Ua;const z=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),Ps(T),z?jn(T.toString(),p):$r(T.toString(),p)}else ye(2);u.I=0,u.l&&u.l.pa(m),Oo(u),Ma(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Oo(u){if(u.I=0,u.ja=[],u.l){const m=Qr(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Vo(u,m,p){var T=p instanceof fn?Ee(p):new fn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Fi(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const k=new fn(null);T&&xe(k,T),m&&(k.g=m),z&&Fi(k,z),p&&(k.h=p),T=k}return p=u.G,m=u.wa,p&&m&&Ht(T,p,m),Ht(T,"VER",u.ka),Xs(u,T),T}function Io(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Qt(new ri({ab:p})):new Qt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}a=xo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Wi(){}Wi.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){pe.call(this),this.g=new $i(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}C(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){tl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Gi(u),u=p);m.i.push(new ve(m.Ya++,u)),m.I==3&&ui(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Je.Z.N.call(this)};function Mo(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}C(Mo,Be);function Uo(){Tn.call(this),this.status=1}C(Uo,Tn);function Ri(u){this.g=u}C(Ri,xo),Ri.prototype.ra=function(){Ne(this.g,"a")},Ri.prototype.qa=function(u){Ne(this.g,new Mo(u))},Ri.prototype.pa=function(u){Ne(this.g,new Uo)},Ri.prototype.oa=function(){Ne(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,cv=function(){return new Wi},uv=function(){return wa()},ov=ue,Gf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Yu=ks,kr.COMPLETE="complete",lv=kr,fo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Pl=fo,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,rv=Qt}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore",Ly="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Or="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new K_("@firebase/firestore");function dr(){return _a.logLevel}function at(a,...e){if(_a.logLevel<=Mt.DEBUG){const i=e.map(gd);_a.debug(`Firestore (${Or}): ${a}`,...i)}}function Pi(a,...e){if(_a.logLevel<=Mt.ERROR){const i=e.map(gd);_a.error(`Firestore (${Or}): ${a}`,...i)}}function br(a,...e){if(_a.logLevel<=Mt.WARN){const i=e.map(gd);_a.warn(`Firestore (${Or}): ${a}`,...i)}}function gd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,hv(a,r,i)}function hv(a,e,i){let r=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Pi(r),new Error(r)}function re(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||hv(e,o,r)}function Ut(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ea{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class aA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rA{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){re(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ma,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ma)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(re(typeof r.accessToken=="string",31837,{l:r}),new fv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class lA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new lA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class By{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,W_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){re(this.o===void 0,3512);const r=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new By(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new By(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=cA(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Vt(a,e){return a<e?-1:a>e?1:0}function Ff(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return If(o)===If(h)?Vt(o,h):If(o)?1:-1}return Vt(a.length,e.length)}const hA=55296,fA=57343;function If(a){const e=a.charCodeAt(0);return e>=hA&&e<=fA}function Sr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class pi{constructor(e,i,r){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&vt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=pi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const r=pi.isNumericId(e),o=pi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?pi.extractNumericId(e).compare(pi.extractNumericId(i)):Ff(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class ie extends pi{construct(e,i,r){return new ie(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const dA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends pi{construct(e,i,r){return new Ze(e,i,r)}static isValidIdentifier(e){return dA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new Ze([jy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new lt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new lt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(ie.fromString(e))}static fromName(e){return new mt(ie.fromString(e).popFirst(5))}static empty(){return new mt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new ie(e.slice()))}}function mA(a,e,i,r){if(e===!0&&r===!0)throw new lt(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function ky(a){if(mt.isDocumentKey(a))throw new lt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function mv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function hc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function Qf(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new lt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hc(a);throw new lt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(a,e){const i={typeString:a};return e&&(i.value=e),i}function ao(a,e){if(!mv(a))throw new lt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new lt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,Py=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Py);return new se(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<qy)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Py}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ao(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new se(0,0))}static max(){return new _t(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function gA(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Ds(o,mt.empty(),e)}function pA(a){return new Ds(a.readTime,a.key,Wl)}class Ds{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ds(_t.min(),mt.empty(),Wl)}static max(){return new Ds(_t.max(),mt.empty(),Wl)}}function yA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,e.documentKey),i!==0?i:Vt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==_A)throw a;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(_=>r(_)))})),d=!0,h===o&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((o=>o?X.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,o)=>{const h=e.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++y,y===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function EA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=-1;function mc(a){return a==null}function ec(a){return a===0&&1/a==-1/0}function AA(a){return typeof a=="number"&&Number.isInteger(a)&&!ec(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="";function bA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Hy(e)),e=SA(a.get(i),e);return Hy(e)}function SA(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case gv:i+="";break;default:i+=h}}return i}function Hy(a){return a+gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ir(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function pv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new ge(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Ge(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ve(this.comparator);return i.data=e,i}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new As([])}unionWith(e){let i=new Ve(Ze.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new As(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new yv("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(a){if(re(!!a,39018),typeof a=="string"){let e=0;const i=RA.exec(a);if(re(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Os(a){return typeof a=="string"?Fe.fromBase64String(a):Fe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="server_timestamp",vv="__type__",Ev="__previous_value__",Tv="__local_write_time__";function pd(a){return(a?.mapValue?.fields||{})[vv]?.stringValue===_v}function gc(a){const e=a.mapValue.fields[Ev];return pd(e)?gc(e):e}function to(a){const e=Ns(a.mapValue.fields[Tv].timestampValue);return new se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i,r,o,h,d,y,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const nc="(default)";class eo{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new eo("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__type__",CA="__max__",qu={mapValue:{}},bv="__vector__",ic="value";function Vs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?pd(a)?4:NA(a)?9007199254740991:DA(a)?10:11:vt(28295,{value:a})}function Ti(a,e){if(a===e)return!0;const i=Vs(a);if(i!==Vs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return to(a).isEqual(to(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ns(o.timestampValue),y=Ns(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Os(o.bytesValue).isEqual(Os(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),y=me(h.doubleValue);return d===y?ec(d)===ec(y):isNaN(d)&&isNaN(y)}return!1})(a,e);case 9:return Sr(a.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Gy(d)!==Gy(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Ti(d[_],y[_])))return!1;return!0})(a,e);default:return vt(52216,{left:a})}}function no(a,e){return(a.values||[]).find((i=>Ti(i,e)))!==void 0}function Rr(a,e){if(a===e)return 0;const i=Vs(a),r=Vs(e);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=me(h.integerValue||h.doubleValue),_=me(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(a,e);case 3:return Qy(a.timestampValue,e.timestampValue);case 4:return Qy(to(a),to(e));case 5:return Ff(a.stringValue,e.stringValue);case 6:return(function(h,d){const y=Os(h),_=Os(d);return y.compareTo(_)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const A=Vt(y[v],_[v]);if(A!==0)return A}return Vt(y.length,_.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Vt(me(h.latitude),me(d.latitude));return y!==0?y:Vt(me(h.longitude),me(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Yy(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},_=d.fields||{},v=y[ic]?.arrayValue,A=_[ic]?.arrayValue,C=Vt(v?.values?.length||0,A?.values?.length||0);return C!==0?C:Yy(v,A)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let C=0;C<_.length&&C<A.length;++C){const U=Ff(_[C],A[C]);if(U!==0)return U;const Y=Rr(y[_[C]],v[A[C]]);if(Y!==0)return Y}return Vt(_.length,A.length)})(a.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function Qy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Vt(a,e);const i=Ns(a),r=Ns(e),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function Yy(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Rr(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function wr(a){return Yf(a)}function Yf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ns(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Os(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return mt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Yf(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Yf(i.fields[d])}`;return o+"}"})(a.mapValue):vt(61005,{value:a})}function Xu(a){switch(Vs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(a);return e?16+Xu(e):16;case 5:return 2*a.stringValue.length;case 6:return Os(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Xu(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Ir(r.fields,((h,d)=>{o+=h.length+Xu(d)})),o})(a.mapValue);default:throw vt(13486,{value:a})}}function Xy(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Xf(a){return!!a&&"integerValue"in a}function yd(a){return!!a&&"arrayValue"in a}function Ky(a){return!!a&&"nullValue"in a}function Zy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function xf(a){return!!a&&"mapValue"in a}function DA(a){return(a?.mapValue?.fields||{})[Av]?.stringValue===bv}function Ql(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ir(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Ql(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ql(a.arrayValue.values[i]);return e}return{...a}}function NA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===CA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!xf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(i)}setAll(e){let i=Ze.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Ql(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());xf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];xf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ir(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new yi(Ql(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,r,o,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ke(e,0,_t.min(),_t.min(),_t.min(),yi.empty(),0)}static newFoundDocument(e,i,r,o){return new Ke(e,1,i,_t.min(),r,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,_t.min(),_t.min(),yi.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,_t.min(),_t.min(),yi.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function $y(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=mt.comparator(mt.fromName(d.referenceValue),i.key):r=Rr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ti(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,i="asc"){this.field=e,this.dir=i}}function OA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{}class we extends Sv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new IA(e,i,r):i==="array-contains"?new UA(e,r):i==="in"?new zA(e,r):i==="not-in"?new LA(e,r):i==="array-contains-any"?new BA(e,r):new we(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new xA(e,r):new MA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Rr(i,this.value)):i!==null&&Vs(this.value)===Vs(i)&&this.matchesComparison(Rr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends Sv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yn(e,i)}matches(e){return Rv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rv(a){return a.op==="and"}function wv(a){return VA(a)&&Rv(a)}function VA(a){for(const e of a.filters)if(e instanceof Yn)return!1;return!0}function Kf(a){if(a instanceof we)return a.field.canonicalString()+a.op.toString()+wr(a.value);if(wv(a))return a.filters.map((e=>Kf(e))).join(",");{const e=a.filters.map((i=>Kf(i))).join(",");return`${a.op}(${e})`}}function Cv(a,e){return a instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&Ti(r.value,o.value)})(a,e):a instanceof Yn?(function(r,o){return o instanceof Yn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&Cv(d,o.filters[y])),!0):!1})(a,e):void vt(19439)}function Dv(a){return a instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${wr(i.value)}`})(a):a instanceof Yn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Dv).join(" ,")+"}"})(a):"Filter"}class IA extends we{constructor(e,i,r){super(e,i,r),this.key=mt.fromName(r.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class xA extends we{constructor(e,i){super(e,"in",i),this.keys=Nv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class MA extends we{constructor(e,i){super(e,"not-in",i),this.keys=Nv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Nv(a,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class UA extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yd(i)&&no(i.arrayValue,this.value)}}class zA extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&no(this.value.arrayValue,i)}}class LA extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!no(this.value.arrayValue,i)}}class BA extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>no(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i=null,r=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Wy(a,e=null,i=[],r=[],o=null,h=null,d=null){return new jA(a,e,i,r,o,h,d)}function _d(a){const e=Ut(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Kf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>wr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>wr(r))).join(",")),e.Te=i}return e.Te}function vd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!OA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Cv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Jy(a.startAt,e.startAt)&&Jy(a.endAt,e.endAt)}function Zf(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,i=null,r=[],o=[],h=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kA(a,e,i,r,o,h,d,y){return new xr(a,e,i,r,o,h,d,y)}function Ov(a){return new xr(a)}function t_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Vv(a){return a.collectionGroup!==null}function Yl(a){const e=Ut(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ve(Ze.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new io(h,r))})),i.has(Ze.keyField().canonicalString())||e.Ie.push(new io(Ze.keyField(),r))}return e.Ie}function _i(a){const e=Ut(a);return e.Ee||(e.Ee=qA(e,Yl(a))),e.Ee}function qA(a,e){if(a.limitType==="F")return Wy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new io(o.field,h)}));const i=a.endAt?new sc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new sc(a.startAt.position,a.startAt.inclusive):null;return Wy(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function $f(a,e){const i=a.filters.concat([e]);return new xr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Jf(a,e,i){return new xr(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function pc(a,e){return vd(_i(a),_i(e))&&a.limitType===e.limitType}function Iv(a){return`${_d(_i(a))}|lt:${a.limitType}`}function mr(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Dv(o))).join(", ")}]`),mc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>wr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>wr(o))).join(",")),`Target(${r})`})(_i(a))}; limitType=${a.limitType})`}function yc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):mt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of Yl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,_){const v=$y(d,y,_);return d.inclusive?v<=0:v<0})(r.startAt,Yl(r),o)||r.endAt&&!(function(d,y,_){const v=$y(d,y,_);return d.inclusive?v>=0:v>0})(r.endAt,Yl(r),o))})(a,e)}function PA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function xv(a){return(e,i)=>{let r=!1;for(const o of Yl(a)){const h=HA(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function HA(a,e,i){const r=a.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?Rr(_,v):vt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new ge(mt.comparator);function Is(){return GA}const Mv=new ge(mt.comparator);function Hl(...a){let e=Mv;for(const i of a)e=e.insert(i.key,i);return e}function FA(a){let e=Mv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function da(){return Xl()}function Uv(){return Xl()}function Xl(){return new Ta((a=>a.toString()),((a,e)=>a.isEqual(e)))}const QA=new Ve(mt.comparator);function Lt(...a){let e=QA;for(const i of a)e=e.add(i);return e}const YA=new Ve(Vt);function XA(){return YA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function zv(a){return{integerValue:""+a}}function KA(a,e){return AA(e)?zv(e):Ed(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this._=void 0}}function ZA(a,e,i){return a instanceof Wf?(function(o,h){const d={fields:{[vv]:{stringValue:_v},[Tv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&pd(h)&&(h=gc(h)),h&&(d.fields[Ev]=h),{mapValue:d}})(i,e):a instanceof ac?Lv(a,e):a instanceof rc?Bv(a,e):(function(o,h){const d=JA(o,h),y=e_(d)+e_(o.Ae);return Xf(d)&&Xf(o.Ae)?zv(y):Ed(o.serializer,y)})(a,e)}function $A(a,e,i){return a instanceof ac?Lv(a,e):a instanceof rc?Bv(a,e):i}function JA(a,e){return a instanceof td?(function(r){return Xf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class Wf extends _c{}class ac extends _c{constructor(e){super(),this.elements=e}}function Lv(a,e){const i=jv(e);for(const r of a.elements)i.some((o=>Ti(o,r)))||i.push(r);return{arrayValue:{values:i}}}class rc extends _c{constructor(e){super(),this.elements=e}}function Bv(a,e){let i=jv(e);for(const r of a.elements)i=i.filter((o=>!Ti(o,r)));return{arrayValue:{values:i}}}class td extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function e_(a){return me(a.integerValue||a.doubleValue)}function jv(a){return yd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function WA(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof ac&&o instanceof ac||r instanceof rc&&o instanceof rc?Sr(r.elements,o.elements,Ti):r instanceof td&&o instanceof td?Ti(r.Ae,o.Ae):r instanceof Wf&&o instanceof Wf})(a.transform,e.transform)}class ga{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ga}static exists(e){return new ga(void 0,e)}static updateTime(e){return new ga(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Td{}function kv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new eb(a.key,ga.none()):new Ad(a.key,a.data,ga.none());{const i=a.data,r=yi.empty();let o=new Ve(Ze.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new vc(a.key,r,new As(o.toArray()),ga.none())}}function tb(a,e,i){a instanceof Ad?(function(o,h,d){const y=o.value.clone(),_=i_(o.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):a instanceof vc?(function(o,h,d){if(!Ku(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=i_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(qv(o)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(a,e,i,r){return a instanceof Ad?(function(h,d,y,_){if(!Ku(h.precondition,d))return y;const v=h.value.clone(),A=s_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,e,i,r):a instanceof vc?(function(h,d,y,_){if(!Ku(h.precondition,d))return y;const v=s_(h.fieldTransforms,_,d),A=d.data;return A.setAll(qv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(a,e,i,r):(function(h,d,y){return Ku(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(a,e,i)}function n_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Sr(r,o,((h,d)=>WA(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Ad extends Td{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vc extends Td{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function i_(a,e,i){const r=new Map;re(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,y=e.data.field(h.field);r.set(h.field,$A(d,y,i[o]))}return r}function s_(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,ZA(h,d,e))}return r}class eb extends Td{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&tb(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Uv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const _=kv(d,y);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&Sr(this.mutations,e.mutations,((i,r)=>n_(i,r)))&&Sr(this.baseMutations,e.baseMutations,((i,r)=>n_(i,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,xt;function Pv(a){if(a===void 0)return Pi("GRPC error has no .code"),K.UNKNOWN;switch(a){case Re.OK:return K.OK;case Re.CANCELLED:return K.CANCELLED;case Re.UNKNOWN:return K.UNKNOWN;case Re.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Re.INTERNAL:return K.INTERNAL;case Re.UNAVAILABLE:return K.UNAVAILABLE;case Re.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Re.NOT_FOUND:return K.NOT_FOUND;case Re.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Re.ABORTED:return K.ABORTED;case Re.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Re.DATA_LOSS:return K.DATA_LOSS;default:return vt(39323,{code:a})}}(xt=Re||(Re={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Cs([4294967295,4294967295],0);function a_(a){const e=ab().encode(a),i=new av;return i.update(e),new Uint8Array(i.digest())}function r_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Cs([i,r],0),new Cs([o,h],0)]}class bd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(r<0)throw new Gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Cs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Cs.fromNumber(r)));return o.compare(rb)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=a_(e),[r,o]=r_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new bd(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=a_(e),[r,o]=r_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,ro.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ec(_t.min(),o,new ge(Vt),Is(),Lt())}}class ro{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new ro(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Hv{constructor(e,i){this.targetId=e,this.Ce=i}}class Gv{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class l_{constructor(){this.ve=0,this.Fe=o_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:h})}})),new ro(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=o_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=Pu(),this.He=Pu(),this.Ye=new ge(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Zf(h))if(r===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,_t.min()))}else re(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),_=y?this.ct(y,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Os(r).toUint8Array()}catch(_){if(_ instanceof yv)return br("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new bd(d,o,h)}catch(_){return br(_ instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Zf(y.target)){const _=new mt(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ke.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Lt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ec(e,i,this.Ye,this.je,r);return this.je=Is(),this.Je=Pu(),this.He=Pu(),this.Ye=new ge(Vt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new l_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ve(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ve(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new ge(mt.comparator)}function o_(){return new ge(mt.comparator)}const ob={asc:"ASCENDING",desc:"DESCENDING"},ub={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cb={and:"AND",or:"OR"};class hb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ed(a,e){return a.useProto3Json||mc(e)?e:{value:e}}function nd(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function yr(a){return re(!!a,49232),_t.fromTimestamp((function(i){const r=Ns(i);return new se(r.seconds,r.nanos)})(a))}function Qv(a,e){return id(a,e).canonicalString()}function id(a,e){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Yv(a){const e=ie.fromString(a);return re(Jv(e),10190,{key:e.toString()}),e}function Mf(a,e){const i=Yv(e);if(i.get(1)!==a.databaseId.projectId)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(Kv(i))}function Xv(a,e){return Qv(a.databaseId,e)}function fb(a){const e=Yv(a);return e.length===4?ie.emptyPath():Kv(e)}function u_(a){return new ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Kv(a){return re(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function db(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:vt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,A){return v.useProto3Json?(re(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(re(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(v){const A=v.code===void 0?K.UNKNOWN:Pv(v.code);return new lt(A,v.message||"")})(d);i=new Gv(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Mf(a,r.document.name),h=yr(r.document.updateTime),d=r.document.createTime?yr(r.document.createTime):_t.min(),y=new yi({mapValue:{fields:r.document.fields}}),_=Ke.newFoundDocument(o,h,d,y),v=r.targetIds||[],A=r.removedTargetIds||[];i=new Zu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Mf(a,r.document),h=r.readTime?yr(r.readTime):_t.min(),d=Ke.newNoDocument(o,h),y=r.removedTargetIds||[];i=new Zu([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Mf(a,r.document),h=r.removedTargetIds||[];i=new Zu([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new sb(o,h),y=r.targetId;i=new Hv(y,d)}}return i}function mb(a,e){return{documents:[Xv(a,e.path)]}}function gb(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Xv(a,o);const h=(function(v){if(v.length!==0)return $v(Yn.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((A=>(function(U){return{field:gr(U.field),direction:_b(U.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=ed(a,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function pb(a){let e=fb(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){re(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(C){const U=Zv(C);return U instanceof Yn&&wv(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((U=>(function($){return new io(pr($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(U)))})(i.orderBy));let y=null;i.limit&&(y=(function(C){let U;return U=typeof C=="object"?C.value:C,mc(U)?null:U})(i.limit));let _=null;i.startAt&&(_=(function(C){const U=!!C.before,Y=C.values||[];return new sc(Y,U)})(i.startAt));let v=null;return i.endAt&&(v=(function(C){const U=!C.before,Y=C.values||[];return new sc(Y,U)})(i.endAt)),kA(e,o,d,h,y,"F",_,v)}function yb(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Zv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=pr(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=pr(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=pr(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=pr(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return we.create(pr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Yn.create(i.compositeFilter.filters.map((r=>Zv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(a):vt(30097,{filter:a})}function _b(a){return ob[a]}function vb(a){return ub[a]}function Eb(a){return cb[a]}function gr(a){return{fieldPath:a.canonicalString()}}function pr(a){return Ze.fromServerFormat(a.fieldPath)}function $v(a){return a instanceof we?(function(i){if(i.op==="=="){if(Zy(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NAN"}};if(Ky(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Zy(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NOT_NAN"}};if(Ky(i.value))return{unaryFilter:{field:gr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(i.field),op:vb(i.op),value:i.value}}})(a):a instanceof Yn?(function(i){const r=i.getFilters().map((o=>$v(o)));return r.length===1?r[0]:{compositeFilter:{op:Eb(i.op),filters:r}}})(a):vt(54877,{filter:a})}function Jv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i,r,o,h=_t.min(),d=_t.min(),y=Fe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.yt=e}}function Ab(a){const e=pb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.Cn=new Sb}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ds.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class Sb{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ve(ie.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ve(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wv=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(Wv,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cr(0)}static cr(){return new Cr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",Rb=1048576;function f_([a,e],[i,r]){const o=Vt(a,i);return o===0?Vt(e,r):o}class wb{constructor(e){this.Ir=e,this.buffer=new Ve(f_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();f_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Cb{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(h_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vr(i)?at(h_,"Ignoring IndexedDB error during garbage collection: ",i):await fc(i)}await this.Vr(3e5)}))}}class Db{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(dc.ce);const r=new wb(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(c_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,y,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o)))).next((C=>(r=C,y=Date.now(),this.removeTargets(e,r,i)))).next((C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((C=>(v=Date.now(),dr()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C}))))}}function Nb(a,e){return new Db(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.changes=new Ta((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Kl(r.mutation,o,As.empty(),se.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Lt()){const o=da();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Hl();return h.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=da();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Lt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let h=Is();const d=Xl(),y=(function(){return Xl()})();return i.forEach(((_,v)=>{const A=r.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof vc)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Kl(A.mutation,v,A.mutation.getFieldMask(),se.now())):d.set(v.key,As.empty())})),this.recalculateAndSaveOverlays(e,h).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>y.set(v,new Vb(A,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Xl();let o=new ge(((d,y)=>d-y)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=r.get(_)||As.empty();A=y.applyToLocalView(v,A),r.set(_,A);const C=(o.get(y.batchId)||Lt()).add(_);o=o.insert(y.batchId,C)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,A=_.value,C=Uv();A.forEach((U=>{if(!h.has(U)){const Y=kv(i.get(U),r.get(U));Y!==null&&C.set(U,Y),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Vv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):X.resolve(da());let y=Wl,_=h;return d.next((v=>X.forEach(v,((A,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((U=>{_=_.insert(A,U)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,_,v,Lt()))).next((A=>({batchId:y,changes:FA(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((r=>{let o=Hl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Hl();return this.indexManager.getCollectionParents(e,h).next((y=>X.forEach(y,(_=>{const v=(function(C,U){return new xr(U,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((A=>{A.forEach(((C,U)=>{d=d.insert(C,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let y=Hl();return d.forEach(((_,v)=>{const A=h.get(_);A!==void 0&&Kl(A.mutation,v,As.empty(),se.now()),yc(i,v)&&(y=y.insert(_,v))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Ab(o.bundledQuery),readTime:yr(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.overlays=new ge(mt.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=da();return X.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const o=da(),h=i.length+1,d=new mt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ge(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let A=h.get(v.largestBatchId);A===null&&(A=da(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const y=da(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>y.set(v,A))),!(y.size()>=o)););return X.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ib(i,r));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.Qr=new Ve(Ue.$r),this.Ur=new Ve(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new mt(new ie([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new ie([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=Lt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Ue.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nb(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?TA:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ve(Vt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;mt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new mt(h),0);let y=new Ve(Vt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(y=y.add(_.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){re(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.ri=e,this.docs=(function(){return new ge(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let r=Is();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Is();const d=i.path,y=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||yA(pA(A),r)<=0||(o.has(A.key)||yc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,r,o){vt(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Bb(this)}getSize(e){return X.resolve(this.size)}}class Bb extends Ob{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.persistence=e,this.si=new Ta((i=>_d(i)),vd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Sd,this.targetCount=0,this.ai=Cr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Cr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),X.waitFor(h).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new Ub,this.referenceDelegate=e(this),this.Pi=new jb(this),this.indexManager=new bb,this.remoteDocumentCache=(function(o){return new Lb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Tb(i),this.Ii=new xb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Mb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new zb(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){at("MemoryPersistence","Starting transaction:",e);const o=new kb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class kb extends vA{constructor(e){super(),this.currentSequenceNumber=e}}class Rd{constructor(e){this.persistence=e,this.Ri=new Sd,this.Vi=null}static mi(e){return new Rd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const o=mt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.pi=new Ta((r=>bA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Nb(this,i)}static mi(e,i){return new lc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?X.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xu(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Lt(),o=Lt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new wd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return G1()?8:EA(P1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new qb;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(dr()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",mr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(dr()<=Mt.DEBUG&&at("QueryEngine","Query:",mr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(dr()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",mr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(i))):X.resolve())}ys(e,i){if(t_(i))return X.resolve(null);let r=_i(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Jf(i,null,"F"),r=_i(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Lt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(i,y);return this.Cs(i,v,d,_.readTime)?this.ys(e,Jf(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,r,o){return t_(i)||o.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?X.resolve(null):(dr()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mr(i)),this.vs(e,d,i,gA(o,Wl)).next((y=>y)))}))}Ds(e,i){let r=new Ve(xv(e));return i.forEach(((o,h)=>{yc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return dr()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",mr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ds.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="LocalStore",Hb=3e8;class Gb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ge(Vt),this.xs=new Ta((h=>_d(h)),vd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ib(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Fb(a,e,i,r){return new Gb(a,e,i,r)}async function e0(a,e){const i=Ut(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let _=Lt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){y.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function n0(a){const e=Ut(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Qb(a,e){const i=Ut(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,C)=>{const U=o.get(C);if(!U)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,C).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,C))));let Y=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?Y=Y.withResumeToken(Fe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),o=o.insert(C,Y),(function(it,J,pt){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Hb?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(U,Y,A)&&y.push(i.Pi.updateTargetData(h,Y))}));let _=Is(),v=Lt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(Yb(h,d,e.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return X.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=o,h)))}function Yb(a,e,i){let r=Lt(),o=Lt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=Is();return i.forEach(((y,_)=>{const v=h.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):at(Cd,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function Xb(a,e){const i=Ut(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,X.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new bs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function sd(a,e,i){const r=Ut(a),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Vr(d))throw d;at(Cd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function d_(a,e,i){const r=Ut(a);let o=_t.min(),h=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const C=Ut(_),U=C.xs.get(A);return U!==void 0?X.resolve(C.Ms.get(U)):C.Pi.getTargetData(v,A)})(r,d,_i(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:Lt()))).next((y=>(Kb(r,PA(e),y),{documents:y,Qs:h})))))}function Kb(a,e,i){let r=a.Os.get(e)||_t.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(e,r)}class m_{constructor(){this.activeTargetIds=XA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zb{constructor(){this.Mo=new m_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="ConnectivityMonitor";class p_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(g_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(g_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function ad(){return Hu===null?Hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",Jb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===nc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=ad(),y=this.zo(e,i.toUriEncodedString());at(Uf,`Sending RPC '${e}' ${d}:`,y,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:v}=new URL(y),A=so(v);return this.Jo(e,y,_,r,A).then((C=>(at(Uf,`Received RPC '${e}' ${d}: `,C),C)),(C=>{throw br(Uf,`RPC '${e}' ${d} failed with error: `,C,"url: ",y,"request:",r),C}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Or})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=Jb[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class eS extends Wb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=ad();return new Promise(((y,_)=>{const v=new rv;v.setWithCredentials(!0),v.listenOnce(lv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Yu.NO_ERROR:const C=v.getResponseJson();at(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),y(C);break;case Yu.TIMEOUT:at(Ye,`RPC '${e}' ${d} timed out`),_(new lt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const U=v.getStatus();if(at(Ye,`RPC '${e}' ${d} failed with status:`,U,"response text:",v.getResponseText()),U>0){let Y=v.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const $=Y?.error;if($&&$.status&&$.message){const it=(function(pt){const Rt=pt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Rt)>=0?Rt:K.UNKNOWN})($.status);_(new lt(it,$.message))}else _(new lt(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new lt(K.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{at(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Ye,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=ad(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=cv(),y=uv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=h.join("");at(Ye,`Creating RPC '${e}' stream ${o}: ${A}`,_);const C=d.createWebChannel(A,_);this.I_(C);let U=!1,Y=!1;const $=new tS({Yo:J=>{Y?at(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(U||(at(Ye,`Opening RPC '${e}' stream ${o} transport.`),C.open(),U=!0),at(Ye,`RPC '${e}' stream ${o} sending:`,J),C.send(J))},Zo:()=>C.close()}),it=(J,pt,Rt)=>{J.listen(pt,(ft=>{try{Rt(ft)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return it(C,Pl.EventType.OPEN,(()=>{Y||(at(Ye,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),it(C,Pl.EventType.CLOSE,(()=>{Y||(Y=!0,at(Ye,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(C))})),it(C,Pl.EventType.ERROR,(J=>{Y||(Y=!0,br(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new lt(K.UNAVAILABLE,"The operation could not be completed")))})),it(C,Pl.EventType.MESSAGE,(J=>{if(!Y){const pt=J.data[0];re(!!pt,16349);const Rt=pt,ft=Rt?.error||Rt[0]?.error;if(ft){at(Ye,`RPC '${e}' stream ${o} received error:`,ft);const Et=ft.status;let rt=(function(b){const w=Re[b];if(w!==void 0)return Pv(w)})(Et),nt=ft.message;rt===void 0&&(rt=K.INTERNAL,nt="Unknown error status: "+Et+" with message "+ft.message),Y=!0,$.a_(new lt(rt,nt)),C.close()}else at(Ye,`RPC '${e}' stream ${o} received:`,pt),$.u_(pt)}})),it(y,ov.STAT_EVENT,(J=>{J.stat===Gf.PROXY?at(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Gf.NOPROXY&&at(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(a){return new hb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class nS{constructor(e,i,r,o,h,d,y,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new lt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iS extends nS{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=db(this.serializer,e),r=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?yr(d.readTime):_t.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=u_(this.serializer),i.addTarget=(function(h,d){let y;const _=d.target;if(y=Zf(_)?{documents:mb(h,_)}:{query:gb(h,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Fv(h,d.resumeToken);const v=ed(h,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){y.readTime=nd(h,d.snapshotVersion.toTimestamp());const v=ed(h,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const r=yb(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=u_(this.serializer),i.removeTarget=e,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class aS extends sS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(K.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,id(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="RemoteStore";class lS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{oo(this)&&(at(Dr,"Restarting streams for network reachability change."),await(async function(_){const v=Ut(_);v.Ea.add(4),await lo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Ac(v)})(this))}))})),this.Ra=new rS(r,o)}}async function Ac(a){if(oo(a))for(const e of a.da)await e(!0)}async function lo(a){for(const e of a.da)await e(!1)}function s0(a,e){const i=Ut(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Vd(i)?Od(i):Mr(i).O_()&&Nd(i,e))}function Dd(a,e){const i=Ut(a),r=Mr(i);i.Ia.delete(e),r.O_()&&a0(i,e),i.Ia.size===0&&(r.O_()?r.L_():oo(i)&&i.Ra.set("Unknown"))}function Nd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mr(a).Y_(e)}function a0(a,e){a.Va.Ue(e),Mr(a).Z_(e)}function Od(a){a.Va=new lb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Mr(a).start(),a.Ra.ua()}function Vd(a){return oo(a)&&!Mr(a).x_()&&a.Ia.size>0}function oo(a){return Ut(a).Ea.size===0}function r0(a){a.Va=void 0}async function oS(a){a.Ra.set("Online")}async function uS(a){a.Ia.forEach(((e,i)=>{Nd(a,e)}))}async function cS(a,e){r0(a),Vd(a)?(a.Ra.ha(e),Od(a)):a.Ra.set("Unknown")}async function hS(a,e,i){if(a.Ra.set("Online"),e instanceof Gv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(a,e)}catch(r){at(Dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await __(a,r)}else if(e instanceof Zu?a.Va.Ze(e):e instanceof Hv?a.Va.st(e):a.Va.tt(e),!i.isEqual(_t.min()))try{const r=await n0(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),a0(h,_);const C=new bs(A.target,_,v,A.sequenceNumber);Nd(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(a,i)}catch(r){at(Dr,"Failed to raise snapshot:",r),await __(a,r)}}async function __(a,e,i){if(!Vr(e))throw e;a.Ea.add(1),await lo(a),a.Ra.set("Offline"),i||(i=()=>n0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{at(Dr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Ac(a)}))}async function v_(a,e){const i=Ut(a);i.asyncQueue.verifyOperationInProgress(),at(Dr,"RemoteStore received new credentials");const r=oo(i);i.Ea.add(3),await lo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function fS(a,e){const i=Ut(a);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await lo(i),i.Ra.set("Unknown"))}function Mr(a){return a.ma||(a.ma=(function(i,r,o){const h=Ut(i);return h.sa(),new iS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:oS.bind(null,a),t_:uS.bind(null,a),r_:cS.bind(null,a),H_:hS.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Vd(a)?Od(a):a.Ra.set("Unknown")):(await a.ma.stop(),r0(a))}))),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,y=new Id(e,i,d,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(a,e){if(Pi("AsyncQueue",`${e}: ${a}`),Vr(a))return new lt(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{static emptySet(e){return new _r(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||mt.comparator(i.key,r.key):(i,r)=>mt.comparator(i.key,r.key),this.keyedMap=Hl(),this.sortedSet=new ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new _r;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ga=new ge(mt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Nr{constructor(e,i,r,o,h,d,y,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Nr(e,i,_r.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mS{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ut(i),h=o.queries;o.queries=T_(),h.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(r)}))})(this,new lt(K.ABORTED,"Firestore shutting down"))}}function T_(){return new Ta((a=>Iv(a)),pc)}async function gS(a,e){const i=Ut(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new dS,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=l0(d,`Initialization of query '${mr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&xd(i)}async function pS(a,e){const i=Ut(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function yS(a,e){const i=Ut(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&xd(i)}function _S(a,e,i){const r=Ut(a),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function xd(a){a.Ca.forEach((e=>{e.next()}))}var rd,A_;(A_=rd||(rd={})).Ma="default",A_.Cache="cache";class vS{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Nr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Nr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class ES{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=xv(e),this.tu=new _r(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new E_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,C)=>{const U=o.get(A),Y=yc(this.query,C)?C:null,$=!!U&&this.mutatedKeys.has(U.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let J=!1;U&&Y?U.data.isEqual(Y.data)?$!==it&&(r.track({type:3,doc:Y}),J=!0):this.su(U,Y)||(r.track({type:2,doc:Y}),J=!0,(_&&this.eu(Y,_)>0||v&&this.eu(Y,v)<0)&&(y=!0)):!U&&Y?(r.track({type:0,doc:Y}),J=!0):U&&!Y&&(r.track({type:1,doc:U}),J=!0,(_||v)&&(y=!0)),J&&(Y?(d=d.add(Y),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,C)=>(function(Y,$){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return it(Y)-it($)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new Nr(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new u0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new o0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Nr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Md="SyncEngine";class TS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class AS{constructor(e){this.key=e,this.hu=!1}}class bS{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ta((y=>Iv(y)),pc),this.Iu=new Map,this.Eu=new Set,this.du=new ge(mt.comparator),this.Au=new Map,this.Ru=new Sd,this.Vu={},this.mu=new Map,this.fu=Cr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SS(a,e,i=!0){const r=m0(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await c0(r,e,i,!0),o}async function RS(a,e){const i=m0(a);await c0(i,e,!0,!1)}async function c0(a,e,i,r){const o=await Xb(a.localStore,_i(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await wS(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&s0(a.remoteStore,o),y}async function wS(a,e,i,r,o){a.pu=(C,U,Y)=>(async function(it,J,pt,Rt){let ft=J.view.ru(pt);ft.Cs&&(ft=await d_(it.localStore,J.query,!1).then((({documents:R})=>J.view.ru(R,ft))));const Et=Rt&&Rt.targetChanges.get(J.targetId),rt=Rt&&Rt.targetMismatches.get(J.targetId)!=null,nt=J.view.applyChanges(ft,it.isPrimaryClient,Et,rt);return S_(it,J.targetId,nt.au),nt.snapshot})(a,C,U,Y);const h=await d_(a.localStore,e,!0),d=new ES(e,h.Qs),y=d.ru(h.documents),_=ro.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),v=d.applyChanges(y,a.isPrimaryClient,_);S_(a,i,v.au);const A=new TS(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),v.snapshot}async function CS(a,e,i){const r=Ut(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!pc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Dd(r.remoteStore,o.targetId),ld(r,o.targetId)})).catch(fc)):(ld(r,o.targetId),await sd(r.localStore,o.targetId,!0))}async function DS(a,e){const i=Ut(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Dd(i.remoteStore,r.targetId))}async function h0(a,e){const i=Ut(a);try{const r=await Qb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(re(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?re(d.hu,14607):o.removedDocuments.size>0&&(re(d.hu,42227),d.hu=!1))})),await d0(i,r,e)}catch(r){await fc(r)}}function b_(a,e,i){const r=Ut(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const _=Ut(d);_.onlineState=y;let v=!1;_.queries.forEach(((A,C)=>{for(const U of C.Sa)U.va(y)&&(v=!0)})),v&&xd(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NS(a,e,i){const r=Ut(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ge(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,_t.min()));const y=Lt().add(h),_=new Ec(_t.min(),new Map,new ge(Vt),d,y);await h0(r,_),r.du=r.du.remove(h),r.Au.delete(e),Ud(r)}else await sd(r.localStore,e,!1).then((()=>ld(r,e,i))).catch(fc)}function ld(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||f0(a,r)}))}function f0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Dd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Ud(a))}function S_(a,e,i){for(const r of i)r instanceof o0?(a.Ru.addReference(r.key,e),OS(a,r)):r instanceof u0?(at(Md,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||f0(a,r.key)):vt(19791,{wu:r})}function OS(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(at(Md,"New document in limbo: "+i),a.Eu.add(r),Ud(a))}function Ud(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new mt(ie.fromString(e)),r=a.fu.next();a.Au.set(r,new AS(i)),a.du=a.du.insert(i,r),s0(a.remoteStore,new bs(_i(Ov(i.path)),r,"TargetPurposeLimboResolution",dc.ce))}}async function d0(a,e,i){const r=Ut(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,_)=>{d.push(r.pu(_,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=wd.As(_.targetId,v);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,v){const A=Ut(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>X.forEach(v,(U=>X.forEach(U.Es,(Y=>A.persistence.referenceDelegate.addReference(C,U.targetId,Y))).next((()=>X.forEach(U.ds,(Y=>A.persistence.referenceDelegate.removeReference(C,U.targetId,Y)))))))))}catch(C){if(!Vr(C))throw C;at(Cd,"Failed to update sequence numbers: "+C)}for(const C of v){const U=C.targetId;if(!C.fromCache){const Y=A.Ms.get(U),$=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(U,it)}}})(r.localStore,h))}async function VS(a,e){const i=Ut(a);if(!i.currentUser.isEqual(e)){at(Md,"User change. New user:",e.toKey());const r=await e0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((_=>{_.reject(new lt(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await d0(i,r.Ls)}}function IS(a,e){const i=Ut(a),r=i.Au.get(e);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function m0(a){const e=Ut(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NS.bind(null,e),e.Pu.H_=yS.bind(null,e.eventManager),e.Pu.yu=_S.bind(null,e.eventManager),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Fb(this.persistence,new Pb,e.initialUser,this.serializer)}Cu(e){return new t0(Rd.mi,this.serializer)}Du(e){return new Zb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class xS extends oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){re(this.persistence.referenceDelegate instanceof lc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Cb(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new t0((r=>lc.mi(r,i)),this.serializer)}}class od{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VS.bind(null,this.syncEngine),await fS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mS})()}createDatastore(e){const i=Tc(e.databaseInfo.databaseId),r=(function(h){return new eS(h)})(e.databaseInfo);return(function(h,d,y,_){return new aS(h,d,y,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,y){return new lS(r,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>b_(this.syncEngine,i,0)),(function(){return p_.v()?new p_:new $b})())}createSyncEngine(e,i){return(function(o,h,d,y,_,v,A){const C=new bS(o,h,d,y,_,v);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ut(i);at(Dr,"RemoteStore shutting down."),r.Ea.add(5),await lo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}od.provider={build:()=>new od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class US{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{at(xs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(xs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=l0(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lf(a,e){a.asyncQueue.verifyOperationInProgress(),at(xs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await e0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function R_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await zS(a);at(xs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>v_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>v_(e.remoteStore,o))),a._onlineComponents=e}async function zS(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){at(xs,"Using user provided OfflineComponentProvider");try{await Lf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;br("Error using user provided cache. Falling back to memory cache: "+i),await Lf(a,new oc)}}else at(xs,"Using default OfflineComponentProvider"),await Lf(a,new xS(void 0));return a._offlineComponents}async function LS(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(at(xs,"Using user provided OnlineComponentProvider"),await R_(a,a._uninitializedComponentsProvider._online)):(at(xs,"Using default OnlineComponentProvider"),await R_(a,new od))),a._onlineComponents}async function BS(a){const e=await LS(a),i=e.eventManager;return i.onListen=SS.bind(null,e.syncEngine),i.onUnlisten=CS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=RS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=DS.bind(null,e.syncEngine),i}function jS(a,e,i={}){const r=new ma;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,_,v){const A=new MS({next:U=>{A.Nu(),d.enqueueAndForget((()=>pS(h,C))),U.fromCache&&_.source==="server"?v.reject(new lt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(U)},error:U=>v.reject(U)}),C=new vS(y,A,{includeMetadataChanges:!0,qa:!0});return gS(h,C)})(await BS(a),a.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="firestore.googleapis.com",C_=!0;class D_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p0,this.ssl=C_}else this.host=e.host,this.ssl=e.ssl??C_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rb)throw new lt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new sA;switch(r.type){case"firstParty":return new oA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=w_.get(i);r&&(at("ComponentProvider","Removing Datastore"),w_.delete(i),r.terminate())})(this),Promise.resolve()}}function kS(a,e,i,r={}){a=Qf(a,zd);const o=so(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},y=`${e}:${i}`;o&&(F_(`https://${y}`),Y_("Firestore",!0)),h.host!==p0&&h.host!==y&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:y,ssl:o,emulatorOptions:r};if(!Wu(_,d)&&(a._setSettings(_),r.mockUserToken)){let v,A;if(typeof r.mockUserToken=="string")v=r.mockUserToken,A=Xe.MOCK_USER;else{v=Q_(r.mockUserToken,a._app?.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new lt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(C)}a._authCredentials=new aA(new fv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class en{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ao(i,en._jsonSchema))return new en(e,r||null,new mt(ie.fromString(i.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Ce("string",en._jsonSchemaVersion),referencePath:Ce("string")};class vr extends Aa{constructor(e,i,r){super(e,i,Ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new mt(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function qS(a,e,...i){if(a=ya(a),a instanceof zd){const r=ie.fromString(e,...i);return ky(r),new vr(a,null,r)}{if(!(a instanceof en||a instanceof vr))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ie.fromString(e,...i));return ky(r),new vr(a.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i0(this,"async_queue_retry"),this._c=()=>{const r=zf();r&&at(N_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vr(e))throw e;at(N_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",V_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Id.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:V_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function V_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class y0 extends zd{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new O_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function PS(a,e){const i=typeof a=="object"?a:nv(),r=typeof a=="string"?a:nc,o=J_(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=H_("firestore");h&&kS(o,...h)}return o}function HS(a){if(a._terminated)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||GS(a),a._firestoreClient}function GS(a){const e=a._freezeSettings(),i=(function(o,h,d,y){return new wA(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,g0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new US(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Fe.fromBase64String(e))}catch(i){throw new lt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ao(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Ce("string",Mn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(ao(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Ce("string",vi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ao(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new lt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Ce("string",Ei._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=/^__.*__$/;function E0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:a})}}class Ld{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ld({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(E0(this.Ac)&&FS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QS{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Tc(e)}Cc(e,i,r,o=!1){return new Ld({Ac:e,methodName:i,Dc:r,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YS(a){const e=a._freezeSettings(),i=Tc(a._databaseId);return new QS(a._databaseId,!!e.ignoreUndefinedProperties,i)}function XS(a,e,i,r=!1){return Bd(i,a.Cc(r?4:3,e))}function Bd(a,e){if(T0(a=ya(a)))return ZS("Unsupported field value:",e,a),KS(a,e);if(a instanceof v0)return(function(r,o){if(!E0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const y of r){let _=Bd(y,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=ya(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=se.fromDate(r);return{timestampValue:nd(o.serializer,h)}}if(r instanceof se){const h=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nd(o.serializer,h)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:Fv(o.serializer,r._byteString)};if(r instanceof en){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Qv(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ei)return(function(d,y){return{mapValue:{fields:{[Av]:{stringValue:bv},[ic]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return Ed(y.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${hc(r)}`)})(a,e)}function KS(a,e){const i={};return pv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(a,((r,o)=>{const h=Bd(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function T0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof se||a instanceof vi||a instanceof Mn||a instanceof en||a instanceof v0||a instanceof Ei)}function ZS(a,e,i){if(!T0(i)||!mv(i)){const r=hc(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}const $S=new RegExp("[~\\*/\\[\\]]");function JS(a,e,i){if(e.search($S)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new _0(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function ud(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new lt(K.INVALID_ARGUMENT,y+a+_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WS extends A0{data(){return super.data()}}function jd(a,e){return typeof e=="string"?JS(a,e):e instanceof _0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kd{}class b0 extends kd{}function e2(a,e,...i){let r=[];e instanceof kd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((_=>_ instanceof Pd)).length,y=h.filter((_=>_ instanceof qd)).length;if(d>1||d>0&&y>0)throw new lt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class qd extends b0{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new qd(e,i,r)}_apply(e){const i=this._parse(e);return S0(e._query,i),new Aa(e.firestore,e.converter,$f(e._query,i))}_parse(e){const i=YS(e.firestore);return(function(h,d,y,_,v,A,C){let U;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){x_(C,A);const $=[];for(const it of C)$.push(I_(_,h,it));U={arrayValue:{values:$}}}else U=I_(_,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||x_(C,A),U=XS(y,d,C,A==="in"||A==="not-in");return we.create(v,A,U)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Pd extends kd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Pd(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const _ of y)S0(d,_),d=$f(d,_)})(e._query,i),new Aa(e.firestore,e.converter,$f(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hd extends b0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Hd(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new lt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new io(h,d)})(e._query,this._field,this._direction);return new Aa(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new xr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function n2(a,e="asc"){const i=e,r=jd("orderBy",a);return Hd._create(r,i)}function I_(a,e,i){if(typeof(i=ya(i))=="string"){if(i==="")throw new lt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vv(e)&&i.indexOf("/")!==-1)throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ie.fromString(i));if(!mt.isDocumentKey(r))throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xy(a,new mt(r))}if(i instanceof en)return Xy(a,i._key);throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hc(i)}.`)}function x_(a,e){if(!Array.isArray(a)||a.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S0(a,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class i2{convertValue(e,i="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ir(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[ic].arrayValue?.values?.map((r=>me(r.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=gc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const i=Ns(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ie.fromString(e);re(Jv(r),9688,{name:e});const o=new eo(r.get(1),r.get(3)),h=new mt(r.popFirst(5));return o.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Gu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Er extends A0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Er._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Er._jsonSchemaVersion="firestore/documentSnapshot/1.0",Er._jsonSchema={type:Ce("string",Er._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class $u extends Er{data(e={}){return super.data(e)}}class Tr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Gu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new $u(this._firestore,this._userDataWriter,r.key,r,new Gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const _=new $u(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Gu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const _=new $u(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Gu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:s2(y.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function s2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}Tr._jsonSchemaVersion="firestore/querySnapshot/1.0",Tr._jsonSchema={type:Ce("string",Tr._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class a2 extends i2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function r2(a){a=Qf(a,Aa);const e=Qf(a.firestore,y0),i=HS(e),r=new a2(e);return t2(a._query),jS(i,a._query).then((o=>new Tr(e,r,a,o)))}(function(e,i=!0){(function(o){Or=o})(tv),$l(new Ar("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new y0(new rA(r.getProvider("auth-internal")),new uA(d,r.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(v.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),ws(zy,Ly,e),ws(zy,Ly,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="firebasestorage.googleapis.com",w0="storageBucket",l2=120*1e3,o2=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends Ea{constructor(e,i,r=0){super(Bf(e),`Firebase Storage: ${i} (${Bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function Bf(a){return"storage/"+a}function C0(){const a="An unknown error occurred, please check the error payload for server response.";return new Le(ze.UNKNOWN,a)}function u2(a){return new Le(ze.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function c2(a){return new Le(ze.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function h2(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Le(ze.UNAUTHENTICATED,a)}function f2(){return new Le(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d2(a){return new Le(ze.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function m2(){return new Le(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function g2(){return new Le(ze.CANCELED,"User canceled the upload/download.")}function p2(a){return new Le(ze.INVALID_URL,"Invalid URL '"+a+"'.")}function y2(a){return new Le(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function _2(){return new Le(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+w0+"' property when initializing the app?")}function v2(){return new Le(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cd(a){return new Le(ze.INVALID_ARGUMENT,a)}function D0(){return new Le(ze.APP_DELETED,"The Firebase app was deleted.")}function E2(a){return new Le(ze.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ql(a){throw new Le(ze.INTERNAL_ERROR,"Internal error: "+a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=En.makeFromUrl(e,i)}catch{return new En(e,"")}if(r.path==="")return r;throw y2(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function h(Et){Et.path.charAt(Et.path.length-1)==="/"&&(Et.path_=Et.path_.slice(0,-1))}const d="(/(.*))?$",y=new RegExp("^gs://"+o+d,"i"),_={bucket:1,path:3};function v(Et){Et.path_=decodeURIComponent(Et.path)}const A="v[A-Za-z0-9_]+",C=i.replace(/[.]/g,"\\."),U="(/([^?#]*).*)?$",Y=new RegExp(`^https?://${C}/${A}/b/${o}/o${U}`,"i"),$={bucket:1,path:3},it=i===R0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,J="([^?#]*)",pt=new RegExp(`^https?://${it}/${o}/${J}`,"i"),ft=[{regex:y,indices:_,postModify:h},{regex:Y,indices:$,postModify:v},{regex:pt,indices:{bucket:1,path:2},postModify:v}];for(let Et=0;Et<ft.length;Et++){const rt=ft[Et],nt=rt.regex.exec(e);if(nt){const R=nt[rt.indices.bucket];let b=nt[rt.indices.path];b||(b=""),r=new En(R,b),rt.postModify(r);break}}if(r==null)throw p2(e);return r}}class T2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(a,e,i){let r=1,o=null,h=null,d=!1,y=0;function _(){return y===2}let v=!1;function A(...J){v||(v=!0,e.apply(null,J))}function C(J){o=setTimeout(()=>{o=null,a(Y,_())},J)}function U(){h&&clearTimeout(h)}function Y(J,...pt){if(v){U();return}if(J){U(),A.call(null,J,...pt);return}if(_()||d){U(),A.call(null,J,...pt);return}r<64&&(r*=2);let ft;y===1?(y=2,ft=0):ft=(r+Math.random())*1e3,C(ft)}let $=!1;function it(J){$||($=!0,U(),!v&&(o!==null?(J||(y=2),clearTimeout(o),C(0)):J||(y=1)))}return C(0),h=setTimeout(()=>{d=!0,it(!0)},i),it}function b2(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(a){return a!==void 0}function R2(a){return typeof a=="object"&&!Array.isArray(a)}function N0(a){return typeof a=="string"||a instanceof String}function M_(a,e,i,r){if(r<e)throw cd(`Invalid value for '${a}'. Expected ${e} or greater.`);if(r>i)throw cd(`Invalid value for '${a}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(a,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${a}`}function V0(a){const e=encodeURIComponent;let i="?";for(const r in a)if(a.hasOwnProperty(r)){const o=e(r)+"="+e(a[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var pa;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(pa||(pa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(a,e){const i=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,h=e.indexOf(a)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,i,r,o,h,d,y,_,v,A,C,U=!0,Y=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=y,this.errorCallback_=_,this.timeout_=v,this.progressCallback_=A,this.connectionFactory_=C,this.retry=U,this.isUsingEmulator=Y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,it)=>{this.resolve_=$,this.reject_=it,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Fu(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=y=>{const _=y.loaded,v=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,v)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const y=h.getErrorCode()===pa.NO_ERROR,_=h.getStatus();if(!y||w2(_,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===pa.ABORT;r(!1,new Fu(!1,null,A));return}const v=this.successCodes_.indexOf(_)!==-1;r(!0,new Fu(v,h))})},i=(r,o)=>{const h=this.resolve_,d=this.reject_,y=o.connection;if(o.wasSuccessCode)try{const _=this.callback_(y,y.getResponse());S2(_)?h(_):h()}catch(_){d(_)}else if(y!==null){const _=C0();_.serverResponse=y.getErrorText(),this.errorCallback_?d(this.errorCallback_(y,_)):d(_)}else if(o.canceled){const _=this.appDelete_?D0():g2();d(_)}else{const _=m2();d(_)}};this.canceled_?i(!1,new Fu(!1,null,!0)):this.backoffId_=A2(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fu{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function D2(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function N2(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function O2(a,e){e&&(a["X-Firebase-GMPID"]=e)}function V2(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function I2(a,e,i,r,o,h,d=!0,y=!1){const _=V0(a.urlParams),v=a.url+_,A=Object.assign({},a.headers);return O2(A,e),D2(A,i),N2(A,h),V2(A,r),new C2(v,a.method,A,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,d,y)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(a){let e;try{e=JSON.parse(a)}catch{return null}return R2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function M2(a,e){const i=e.split("/").filter(r=>r.length>0).join("/");return a.length===0?i:a+"/"+i}function x0(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(a,e){return e}class tn{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||U2}}let Qu=null;function z2(a){return!N0(a)||a.length<2?a:x0(a)}function L2(){if(Qu)return Qu;const a=[];a.push(new tn("bucket")),a.push(new tn("generation")),a.push(new tn("metageneration")),a.push(new tn("name","fullPath",!0));function e(h,d){return z2(d)}const i=new tn("name");i.xform=e,a.push(i);function r(h,d){return d!==void 0?Number(d):d}const o=new tn("size");return o.xform=r,a.push(o),a.push(new tn("timeCreated")),a.push(new tn("updated")),a.push(new tn("md5Hash",null,!0)),a.push(new tn("cacheControl",null,!0)),a.push(new tn("contentDisposition",null,!0)),a.push(new tn("contentEncoding",null,!0)),a.push(new tn("contentLanguage",null,!0)),a.push(new tn("contentType",null,!0)),a.push(new tn("metadata","customMetadata",!0)),Qu=a,Qu}function B2(a,e){function i(){const r=a.bucket,o=a.fullPath,h=new En(r,o);return e._makeStorageReference(h)}Object.defineProperty(a,"ref",{get:i})}function j2(a,e,i){const r={};r.type="file";const o=i.length;for(let h=0;h<o;h++){const d=i[h];r[d.local]=d.xform(r,e[d.server])}return B2(r,a),r}function k2(a,e,i){const r=I0(e);return r===null?null:j2(a,r,i)}function q2(a,e,i,r){const o=I0(e);if(o===null||!N0(o.downloadTokens))return null;const h=o.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(v=>{const A=a.bucket,C=a.fullPath,U="/b/"+d(A)+"/o/"+d(C),Y=O0(U,i,r),$=V0({alt:"media",token:v});return Y+$})[0]}class P2{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(a){if(!a)throw C0()}function G2(a,e){function i(r,o){const h=k2(a,o,e);return H2(h!==null),q2(h,o,a.host,a._protocol)}return i}function F2(a){function e(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=f2():o=h2():i.getStatus()===402?o=c2(a.bucket):i.getStatus()===403?o=d2(a.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Q2(a){const e=F2(a);function i(r,o){let h=e(r,o);return r.getStatus()===404&&(h=u2(a.path)),h.serverResponse=o.serverResponse,h}return i}function Y2(a,e,i){const r=e.fullServerUrl(),o=O0(r,a.host,a._protocol),h="GET",d=a.maxOperationRetryTime,y=new P2(o,h,G2(a,i),d);return y.errorHandler=Q2(e),y}class X2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o,h){if(this.sent_)throw ql("cannot .send() more than once");if(so(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class K2 extends X2{initXhr(){this.xhr_.responseType="text"}}function Z2(){return new K2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,i){this._service=e,i instanceof En?this._location=i:this._location=En.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new va(e,i)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x0(this._location.path)}get storage(){return this._service}get parent(){const e=x2(this._location.path);if(e===null)return null;const i=new En(this._location.bucket,e);return new va(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw E2(e)}}function $2(a){a._throwIfRoot("getDownloadURL");const e=Y2(a.storage,a._location,L2());return a.storage.makeRequestWithTokens(e,Z2).then(i=>{if(i===null)throw v2();return i})}function J2(a,e){const i=M2(a._location.path,e),r=new En(a._location.bucket,i);return new va(a.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(a){return/^[A-Za-z]+:\/\//.test(a)}function tR(a,e){return new va(a,e)}function M0(a,e){if(a instanceof Gd){const i=a;if(i._bucket==null)throw _2();const r=new va(i,i._bucket);return e!=null?M0(r,e):r}else return e!==void 0?J2(a,e):a}function eR(a,e){if(e&&W2(e)){if(a instanceof Gd)return tR(a,e);throw cd("To use ref(service, url), the first argument must be a Storage instance.")}else return M0(a,e)}function U_(a,e){const i=e?.[w0];return i==null?null:En.makeFromBucketSpec(i,a)}function nR(a,e,i,r={}){a.host=`${e}:${i}`;const o=so(e);o&&(F_(`https://${a.host}/b`),Y_("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:h}=r;h&&(a._overrideAuthToken=typeof h=="string"?h:Q_(h,a.app.options.projectId))}class Gd{constructor(e,i,r,o,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=R0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l2,this._maxUploadRetryTime=o2,this._requests=new Set,o!=null?this._bucket=En.makeFromBucketSpec(o,this._host):this._bucket=U_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=U_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(W_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new va(this,e)}_makeRequest(e,i,r,o,h=!0){if(this._deleted)return new T2(D0());{const d=I2(e,this._appId,r,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const z_="@firebase/storage",L_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="storage";function iR(a){return a=ya(a),$2(a)}function sR(a,e){return a=ya(a),eR(a,e)}function aR(a=nv(),e){a=ya(a);const r=J_(a,U0).getImmediate({identifier:e}),o=H_("storage");return o&&rR(r,...o),r}function rR(a,e,i,r={}){nR(a,e,i,r)}function lR(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),r=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new Gd(i,r,o,e,tv)}function oR(){$l(new Ar(U0,lR,"PUBLIC").setMultipleInstances(!0)),ws(z_,L_,""),ws(z_,L_,"esm2020")}oR();var uR="firebase",cR="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(uR,cR,"app");const hR={apiKey:"AIzaSyDNWlFPZkictgNKuYhndqrLNiQ4sDXBg48",authDomain:"songbook-builder.firebaseapp.com",projectId:"songbook-builder",storageBucket:"songbook-builder.firebasestorage.app",messagingSenderId:"597764556667",appId:"1:597764556667:web:bc95a46754dbf989a91fde"},z0=ev(hR),fR=PS(z0),dR=aR(z0);function mR(){const[a,e]=de.useState([]),[i,r]=de.useState({}),[o,h]=de.useState(!0),[d,y]=de.useState(null),[_,v]=de.useState([]),[A,C]=de.useState({}),[U,Y]=de.useState(""),$=de.useCallback(async()=>{try{h(!0),y(null);const rt=e2(qS(fR,"songs"),n2("title","asc")),R=(await r2(rt)).docs.map(b=>{const w=b.data();return{id:b.id,title:w.title||"",artist:w.artist||"",tags:w.tags||[],filename:w.filename||"",fileUrl:w.fileUrl||"",key:"",content:null}});console.log("Songs loaded from Firestore:",R.length),e(R)}catch(rt){console.error("Error loading songs from Firestore:",rt),y(rt.message)}finally{h(!1)}},[]);de.useEffect(()=>{let rt=!0;return $().catch(nt=>{rt&&console.error("Failed to load songs:",nt)}),()=>{rt=!1}},[$]);const it=rt=>{const nt=rt.match(/\{(?:key|k):\s*([A-G][#b]?m?)\}/i);return nt?nt[1]:null},J=de.useCallback(async rt=>{if(i[rt])return i[rt];const nt=a.find(R=>R.id===rt);if(!nt)return null;try{if(nt.fileUrl){const x=await fetch(nt.fileUrl);if(!x.ok)throw new Error(`Error loading ${nt.filename}`);const S=await x.text(),Zt=it(S);return!nt.key&&Zt&&e(ae=>ae.map(P=>P.id===rt?{...P,key:Zt}:P)),r(ae=>({...ae,[rt]:S})),S}const R=sR(dR,`charts/${nt.filename}`),b=await iR(R),w=await fetch(b);if(!w.ok)throw new Error(`Error loading ${nt.filename}`);const I=await w.text(),N=it(I);return!nt.key&&N&&e(x=>x.map(S=>S.id===rt?{...S,key:N}:S)),r(x=>({...x,[rt]:I})),I}catch(R){return console.error(`Error loading song ${rt}:`,R),null}},[a,i]),pt=de.useCallback(async rt=>{v(nt=>nt.includes(rt)?nt.filter(b=>b!==rt):(J(rt),[...nt,rt])),C(nt=>({...nt,[rt]:nt[rt]??0}))},[J]),Rt=de.useCallback((rt,nt)=>{C(R=>({...R,[rt]:nt}))},[]),ft=de.useMemo(()=>{if(!U.trim())return a;const rt=U.toLowerCase();return a.filter(nt=>!!(nt.title.toLowerCase().includes(rt)||nt.artist&&nt.artist.toLowerCase().includes(rt)||nt.tags&&Array.isArray(nt.tags)&&nt.tags.some(R=>R.toLowerCase().includes(rt))))},[a,U]),Et=de.useMemo(()=>_.map(rt=>{const nt=a.find(R=>R.id===rt);return nt?{id:nt.id,title:nt.title,artist:nt.artist,key:nt.key||"",tags:nt.tags||[],content:i[rt]||"",transposition:A[rt]||0}:null}).filter(Boolean),[_,a,i,A]);return{allSongs:a,selectedSongs:Et,semitoneShift:A,searchTerm:U,setSearchTerm:Y,filteredSongs:ft,toggleSongSelection:pt,handleShiftChange:Rt,loading:o,error:d,reloadSongs:$}}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pR=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),B_=a=>{const e=pR(a);return e.charAt(0).toUpperCase()+e.slice(1)},L0=(...a)=>a.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),yR=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=de.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...y},_)=>de.createElement("svg",{ref:_,..._R,width:e,height:e,stroke:a,strokeWidth:r?Number(i)*24/Number(e):i,className:L0("lucide",o),...!h&&!yR(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,A])=>de.createElement(v,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=(a,e)=>{const i=de.forwardRef(({className:r,...o},h)=>de.createElement(vR,{ref:h,iconNode:e,className:L0(`lucide-${gR(B_(a))}`,`lucide-${a}`,r),...o}));return i.displayName=B_(a),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],TR=Ms("download",ER);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],j_=Ms("file-text",AR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Fd=Ms("list-ordered",bR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M5 12h14",key:"1ays0h"}]],RR=Ms("minus",SR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],B0=Ms("music",wR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DR=Ms("plus",CR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OR=Ms("search",NR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qd=Ms("x",VR),IR=({isSidebarOpen:a,onToggleSidebar:e})=>Z.jsx("header",{className:"bg-white shadow-md p-4 print:hidden flex justify-between items-center sticky top-0 z-20",children:Z.jsxs("div",{className:"flex items-center",children:[Z.jsx("button",{className:"lg:hidden p-2 rounded-lg text-emerald-600 hover:bg-emerald-50 transition duration-150 mr-2",onClick:e,"aria-label":"Toggle navigation menu",children:a?Z.jsx(Qd,{className:"w-6 h-6"}):Z.jsx(Fd,{className:"w-6 h-6"})}),Z.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-emerald-700",children:[Z.jsx(B0,{className:"inline-block w-5 h-5 sm:w-6 sm:h-6 mr-2"}),"Songbook Creator"]})]})}),xR=({isOpen:a,onClose:e,songs:i,selectedSongIds:r,onToggleSong:o,searchTerm:h,onSearchChange:d,totalSongCount:y})=>Z.jsxs(Z.Fragment,{children:[a&&Z.jsx("div",{className:"fixed inset-0 z-40 bg-black opacity-50 lg:hidden",onClick:e,"aria-hidden":"true"}),Z.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-gray-100 p-6 overflow-y-auto transition-transform duration-300 ease-in-out print:hidden
                    lg:sticky lg:top-20 lg:w-1/3 lg:max-w-xs lg:h-[calc(100vh-5rem)] lg:translate-x-0 lg:shadow-none
                    ${a?"translate-x-0 shadow-xl":"-translate-x-full"}
                `,children:[Z.jsxs("h2",{className:"text-xl font-semibold mb-4 text-gray-700 border-b pb-2 flex items-center",children:[Z.jsx(Fd,{className:"w-5 h-5 mr-2"}),"Song Index (",y,")"]}),Z.jsxs("div",{className:"relative mb-4",children:[Z.jsx("input",{type:"text",placeholder:"Search by title or artist...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500 transition duration-150",value:h,onChange:_=>d(_.target.value)}),Z.jsx(OR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),Z.jsx("div",{className:"space-y-3",children:i.length>0?i.map(_=>Z.jsx("div",{className:`p-3 rounded-xl cursor-pointer transition duration-200 shadow-sm
                                    ${r.includes(_.id)?"bg-emerald-100 border-2 border-emerald-500 shadow-lg":"bg-white border border-gray-200 hover:bg-gray-50"}`,onClick:()=>o(_.id),children:Z.jsxs("div",{className:"flex justify-between items-center",children:[Z.jsxs("div",{children:[Z.jsx("p",{className:"font-bold text-gray-800 leading-snug",children:_.title}),Z.jsx("p",{className:"text-sm text-gray-500",children:_.artist})]}),r.includes(_.id)?Z.jsx(Qd,{className:"w-5 h-5 text-red-500 hover:text-red-700"}):Z.jsx(B0,{className:"w-5 h-5 text-emerald-500"})]})},_.id)):Z.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No songs found."})})]})]}),Zl={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Yd=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],hd=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],j0=["G","D","A","E","B","F#"],uc={C:["C","Dm","Em","F","G","Am","B"],Db:["Db","Ebm","Fm","Gb","Ab","Bbm","C"],D:["D","Em","F#m","G","A","Bm","C#"],Eb:["Eb","Fm","Gm","Ab","Bb","Cm","D"],E:["E","F#m","G#m","A","B","C#m","D#"],F:["F","Gm","Am","Bb","C","Dm","E"],"F#":["F#","G#m","A#m","B","C#","D#m","E#"],G:["G","Am","Bm","C","D","Em","F#"],Ab:["Ab","Bbm","Cm","Db","Eb","Fm","G"],A:["A","Bm","C#m","D","E","F#m","G#"],Bb:["Bb","Cm","Dm","Eb","F","Gm","A"],B:["B","C#m","D#m","E","F#","G#m","A#"]},k0={Am:"C",Bbm:"Db",Bm:"D",Cm:"Eb","C#m":"E",Dm:"F","D#m":"F#",Em:"G",Fm:"Ab","F#m":"A",Gm:"Bb","G#m":"B"},MR={C:"Am",Db:"Bbm",D:"Bm",Eb:"Cm",E:"C#m",F:"Dm","F#":"D#m",G:"Em",Ab:"Fm",A:"F#m",Bb:"Gm",B:"G#m"},UR=Object.keys(uc),q0=a=>a.endsWith("m");function cc(a){let e=a.trim();const i=e.match(/^\((.*)\)$/);i&&(e=i[1]);const r=e.split("/"),o=r[0],h=r.length>1?r[1].trim():null,d=o.match(/^([A-G][#b]?)(m|dim|maj)?/i);if(!d)return{root:null,quality:"",modifier:"",bassNote:h,originalParen:!!i};const y=d[1],_=(d[2]||"").toLowerCase(),v=o.substring(d[0].length);return{root:y,quality:_,modifier:v,bassNote:h,originalParen:!!i}}function P0(a,e){const i=q0(a),r=i?k0[a]||a.replace("m",""):a,o=Zl[r];if(o===void 0)return a;const h=(o+e+12)%12;let d=Yd[h];return!j0.includes(d)&&hd[h]!==d&&(d=hd[h]),i?MR[d]||d+"m":d}const zR=(a,e)=>{let i=UR.includes(e)?e:null;if(!i){const h=Zl[e.replace("m","")];if(h!==void 0){const d=(h+3)%12;i=Yd[d],d===3&&(i="Eb"),d===8&&(i="Ab"),d===10&&(i="Bb")}}const r=uc[i]||uc[e];if(!r)return-1;const{root:o}=cc(a);if(!o)return-1;for(let h=0;h<r.length;h++){const d=cc(r[h]);if(Zl[o]===Zl[d.root])return h}return-1},k_=(a,e,i)=>{if(!a)return null;const r=Zl[a];if(r===void 0)return a;const o=(r+e+12)%12,h=q0(i)?k0[i]||i.replace("m",""):i;return j0.includes(h)?Yd[o]:hd[o]},LR=(a,e,i)=>{if(!a||i===0)return a;const r=P0(e,i),o=cc(a);if(!o.root)return a;let h,d=o.quality;const y=uc[r],_=zR(a,e);if(_!==-1&&y){const A=y[_];h=cc(A).root}else h=k_(o.root,i,r);let v=`${h}${d}${o.modifier}`;if(o.bassNote){const A=k_(o.bassNote,i,r);A&&(v+=`/${A}`)}return o.originalParen&&(v=`(${v})`),v},BR=({chordLine:a,lyricLine:e,inChorus:i})=>{if(!a&&!e)return Z.jsx("div",{className:"h-4"});const r="chord-line text-emerald-600 font-extrabold m-0 p-0 print:text-base",o=`text-gray-800 ${i?"font-bold":""}`;return Z.jsxs("div",{className:`whitespace-pre-wrap font-mono leading-relaxed print:text-sm print:leading-normal ${i?"print:font-bold":""}`,children:[Z.jsx("pre",{className:r,style:{fontSize:"clamp(7px, 2.2vw, 18px)",height:"auto",minHeight:"1rem",lineHeight:"1.2",fontFamily:"monospace",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:a}),Z.jsx("pre",{className:o,style:{fontSize:"clamp(7px, 2.2vw, 18px)",marginTop:"-0.2rem",lineHeight:"1.4",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e})]})},jR=/(\[.*?\])([^\[]*)/g,kR=/\{([^:}]+):?([^}]*)\}/,qR=a=>{let e="",i="",r=a;return r.startsWith("(")&&(e="(",r=r.substring(1)),r.endsWith(")")&&(i=")",r=r.substring(0,r.length-1)),{prefix:e,chord:r,suffix:i}},PR=(a,e,i)=>{let r=a[1].replace(/\[|\]/g,"");const o=a[2],{prefix:h,chord:d,suffix:y}=qR(r),_=LR(d.trim(),e,i),v=h+_+y,A=v.length+2,C=Math.max(A,o.length);return{chord:v.padEnd(C," "),lyric:o.padEnd(C," ")}},HR=(a,e,i)=>{const r=a.split(`
`),o=[];let h=!1;return r.forEach((d,y)=>{const _=d.trim(),v=_.match(kR);if(v){const $=v[1].toLowerCase().trim();$==="start_of_chorus"||$==="soc"?(h=!0,o.push(Z.jsx("div",{className:"h-4"},`soc-${y}`))):($==="end_of_chorus"||$==="eoc")&&(h=!1,o.push(Z.jsx("div",{className:"h-4"},`eoc-${y}`)));return}if(_.length===0){o.push(Z.jsx("div",{className:"h-4"},`empty-${y}`));return}const A=[..._.matchAll(jR)];let C="",U="";if(A.length>0&&A[0].index>0){const $=_.substring(0,A[0].index);U+=$,C+=" ".repeat($.length)}A.forEach($=>{const{chord:it,lyric:J}=PR($,e,i);C+=it,U+=J});const Y=A[A.length-1];if(Y){const $=Y.index+Y[0].length;if($<_.length){const it=_.substring($);U+=it,C+=" ".repeat(it.length)}}A.length===0&&(U=_,C=" ".repeat(_.length)),o.push(Z.jsx(BR,{chordLine:C,lyricLine:U,inChorus:h},`content-${y}`))}),o},GR=({song:a,shift:e})=>{const i=a.key,r=P0(i,e),o=HR(a.content,i,e),h=e===0?"Original":e>0?`+${e}`:`${e}`;return Z.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 bg-white border border-gray-200 rounded-xl shadow-lg mb-6 break-inside-avoid print:shadow-none print:border-0 print:p-0",children:[Z.jsxs("div",{className:"mb-3 sm:mb-4 pb-2 border-b border-gray-200 print:border-b-0",children:[Z.jsxs("h3",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-extrabold text-gray-800 leading-tight break-words",children:[a.title,a.artist&&Z.jsxs("span",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-normal text-gray-600 ml-2",children:["(",a.artist,")"]})]}),Z.jsxs("p",{className:"text-[10px] sm:text-xs md:text-sm font-medium text-gray-500 flex flex-wrap items-center gap-1",children:[Z.jsx("span",{className:"font-semibold text-emerald-600",children:"Tom Atual:"}),Z.jsx("span",{className:"font-bold",children:r}),Z.jsx("span",{className:"text-gray-300",children:"|"}),Z.jsxs("span",{children:["Original: ",i," (",h,")"]})]})]}),Z.jsx("div",{className:"text-sm sm:text-base leading-relaxed",children:o})]})},FR=({songs:a,semitoneShift:e,onShiftChange:i,onExportPdf:r})=>Z.jsxs("div",{className:"w-full max-w-4xl mx-auto print:w-full print:mx-0",children:[Z.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 p-4 bg-white sticky top-0 z-10 rounded-xl shadow-lg border border-gray-200 print:hidden",children:[Z.jsxs("h2",{className:"text-xl sm:text-2xl font-extrabold text-gray-800 flex items-center mb-3 sm:mb-0",children:[Z.jsx(j_,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 text-emerald-600"}),"Songbook Preview (",a.length,")"]}),Z.jsxs("button",{onClick:r,disabled:a.length===0,className:`flex items-center px-4 sm:px-6 py-2 rounded-full text-sm sm:text-base font-semibold transition duration-300 transform hover:scale-105 shadow-lg
                        ${a.length>0?"bg-emerald-600 text-white hover:bg-emerald-700 active:bg-emerald-800":"bg-gray-400 text-gray-700 cursor-not-allowed"}`,children:[Z.jsx(TR,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Export PDF"]})]}),a.length===0?Z.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl mt-10",children:[Z.jsx(j_,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),Z.jsxs("p",{className:"text-lg sm:text-xl text-gray-600 font-medium",children:["Select songs from the index (click the ",Z.jsx(Fd,{className:"inline w-5 h-5"})," icon at the top) to build your songbook."]})]}):Z.jsx("div",{id:"songbook-preview",children:a.map((o,h)=>Z.jsxs("div",{className:`mb-8 print:mb-0 print-song-page ${h<a.length-1?"print-page-break-after":""}`,children:[Z.jsxs("div",{className:"flex items-center justify-end mb-2 print:hidden space-x-2",children:[Z.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Transpose (semitones):"}),Z.jsx("button",{onClick:()=>i(o.id,(e[o.id]||0)-1),disabled:(e[o.id]||0)<=-11,className:"p-2 border border-gray-300 rounded-full bg-white text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition",children:Z.jsx(RR,{className:"w-4 h-4"})}),Z.jsx("span",{className:`px-3 py-1 font-semibold rounded-lg text-sm transition-colors ${(e[o.id]||0)===0?"bg-gray-200 text-gray-700":"bg-emerald-500 text-white"}`,children:e[o.id]||0}),Z.jsx("button",{onClick:()=>i(o.id,(e[o.id]||0)+1),disabled:(e[o.id]||0)>=11,className:"p-2 border border-gray-300 rounded-full bg-white text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition",children:Z.jsx(DR,{className:"w-4 h-4"})}),Z.jsx("button",{onClick:()=>i(o.id,0),disabled:(e[o.id]||0)===0,className:`ml-2 p-2 border border-red-300 rounded-full bg-red-50 text-red-600 transition shadow-sm
                                        ${(e[o.id]||0)===0?"opacity-50 cursor-not-allowed":"hover:bg-red-100"}
                                    `,title:"Reset",children:Z.jsx(Qd,{className:"w-4 h-4"})})]}),Z.jsx(GR,{song:o,shift:e[o.id]||0}),h<a.length-1&&Z.jsx("hr",{className:"my-10 border-dashed border-gray-300 print:hidden"})]},o.id))})]}),QR=()=>{const[a,e]=de.useState(!1),{allSongs:i,selectedSongs:r,semitoneShift:o,searchTerm:h,setSearchTerm:d,toggleSongSelection:y,handleShiftChange:_,filteredSongs:v,loading:A,error:C,reloadSongs:U}=mR();return A?Z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),Z.jsx("p",{className:"text-gray-600",children:"Loading songbook..."})]})}):C?Z.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:Z.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[Z.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Error loading songs"}),Z.jsx("p",{className:"text-gray-700 mb-4",children:C}),Z.jsx("button",{onClick:U,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Try again"}),Z.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[Z.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Tips:"}),Z.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[Z.jsxs("li",{children:[" Check if ",Z.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"public/charts/index.json"})," exists"]}),Z.jsxs("li",{children:[" Check if .cho files are in ",Z.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"public/charts/"})]}),Z.jsx("li",{children:" Check the browser console for more details"})]})]})]})}):Z.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[Z.jsx(IR,{isSidebarOpen:a,onToggleSidebar:()=>e(!a)}),Z.jsxs("div",{className:"flex flex-1 relative",children:[Z.jsx(xR,{isOpen:a,onClose:()=>e(!1),songs:v,selectedSongIds:r.map(Y=>Y.id),onToggleSong:y,searchTerm:h,onSearchChange:d,totalSongCount:i.length}),Z.jsx(FR,{songs:r,semitoneShift:o,onShiftChange:_,onExportPdf:()=>window.print()})]})]})};D1.createRoot(document.getElementById("root")).render(Z.jsx(de.StrictMode,{children:Z.jsx(QR,{})}));
